(this["webpackJsonpcards-by-dream-team"]=this["webpackJsonpcards-by-dream-team"]||[]).push([[0],{103:function(e,t,n){},104:function(e,t,n){},130:function(e,t,n){"use strict";n.r(t);var r,a=n(0),c=n.n(a),s=n(21),o=n.n(s),i=(n(103),n(104),n(105),n(11)),u=n(10),d=n(63),l=n.n(d),j=n(9),b=n(7),O=n(5),h=n(79),f=n.n(h).a.create({withCredentials:!0,baseURL:"https://neko-back.herokuapp.com/2.0/"}),p=function(){return f.post("auth/me")},g=function(e){return f.post("auth/login",e)},m=function(e){return f.post("auth/register",e)},x=function(){return f.delete("auth/me")},S=function(e){return f.put("auth/me",e)},v=function(e){return f.post("auth/forgot",{email:e,from:"test-front-admin <ai73a@yandex.by>",message:"<div style=\"background-color: lime; padding: 15px\">\n                 password recovery link:\n                 <a href='http://marygrishchuk.github.io/cards-by-dream-team/#/set-new-password/$token$'>\n                 Reset Password</a></div>"})},T=function(e){return f.post("auth/set-new-password",e)},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.nameToSearch,n=void 0===t?"":t,r=e.maxCardsCount,a=void 0===r?"":r,c=e.minCardsCount,s=void 0===c?"":c,o=e.page,i=void 0===o?"":o,u=e.pageCount,d=void 0===u?"":u,l=e.sortDirection,j=void 0===l?"":l,b=e.propToSortBy,O=void 0===b?"":b,h=e.userId,p=void 0===h?"":h;return f.get("cards/pack?packName=".concat(n,"&sortPacks=").concat(j)+"".concat(O,"&min=").concat(s,"&max=").concat(a,"&page=").concat(i,"&pageCount=").concat(d,"&user_id=").concat(p))},R=function(e,t,n){return f.post("cards/pack",{cardsPack:{name:e,private:t,deckCover:n}})},E=function(e){return f.delete("cards/pack?id=".concat(e))},y=function(e,t){return f.put("cards/pack",{cardsPack:{_id:e,name:t}})},P=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.question,r=void 0===n?"":n,a=t.answer,c=void 0===a?"":a,s=t.sortDirection,o=void 0===s?"":s,i=t.propToSortBy,u=void 0===i?"":i,d=t.minGrade,l=void 0===d?"":d,j=t.maxGrade,b=void 0===j?"":j,O=t.page,h=void 0===O?"":O,p=t.pageCount,g=void 0===p?"":p;return f.get("cards/card?cardsPack_id=".concat(e,"&cardQuestion=").concat(r)+"&cardAnswer=".concat(c,"&sortCards=").concat(o).concat(u,"&min=").concat(l,"&max=").concat(b)+"&page=".concat(h,"&pageCount=").concat(g,"\n"))},k=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.question,r=t.answer,a=t.grade,c=t.shots,s=t.rating,o=t.answerImg,i=t.questionImg,u=t.questionVideo,d=t.answerVideo,l=t.type;return f.post("cards/card",{card:{cardsPack_id:e,question:n,answer:r,grade:a,shots:c,rating:s,answerImg:o,questionImg:i,questionVideo:u,answerVideo:d,type:l}})},w=function(e){return f.delete("cards/card?id=".concat(e))},_=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=t.question,a=t.answer,c=t.grade,s=t.shots,o=t.rating,i=t.answerImg,u=t.questionImg,d=t.questionVideo,l=t.answerVideo,j=t.type;return f.put("cards/card",{card:{_id:e,question:r,answer:a,grade:c,shots:s,rating:o,answerImg:i,questionImg:u,questionVideo:d,answerVideo:l,type:j,comments:n}})};!function(e){e[e.Up=0]="Up",e[e.Down=1]="Down"}(r||(r={}));var A={requestStatus:"idle",error:"",info:""},I=function(e){return{type:"FORGOT/SET-REQUEST-STATUS",requestStatus:e}},q=n(1),N=function(){var e=Object(b.c)((function(e){return e.forgot})),t=e.requestStatus,n=e.error,r=e.info,c=Object(b.b)(),s=Object(a.useState)(""),o=Object(u.a)(s,2),i=o[0],d=o[1];return Object(q.jsxs)("div",{className:l.a.forgot,children:["Please enter your email, and we'll send you a link to reset your password.","loading"===t?Object(q.jsx)("div",{style:{color:"green"},children:"loading..."}):r&&Object(q.jsx)("i",{children:r}),n&&Object(q.jsx)("div",{style:{color:"red"},children:n}),Object(q.jsx)("input",{type:"email",value:i,onChange:function(e){d(e.currentTarget.value.trim())}}),Object(q.jsx)("button",{onClick:function(){c(function(e){return function(t){t(I("loading")),v(e).then((function(e){t({type:"FORGOT/SET-INFO",info:e.data.info}),t(I("success"))})).catch((function(e){var n=e.response?e.response.data.error:e.message+", more details in the console";t(function(e){return{type:"FORGOT/SET-ERROR",error:e}}(n)),t(I("failed"))}))}}(i))},disabled:"loading"===t,children:"Send"}),Object(q.jsx)(j.b,{to:"/login",activeClassName:l.a.active,children:"Log in"})]})},U=n(46),D=n.n(U),G=n(96),L={_id:"",email:"",name:"",avatar:"",error:"",isLoggedIn:!1,requestStatus:"idle"},F=function(e,t,n,r,a){return{type:"AUTH/SET-AUTH-USER-DATA",payload:{_id:e,email:t,name:n,avatar:r,isLoggedIn:a}}},B=function(e){return{type:"AUTH/SET-REQUEST-STATUS",requestStatus:e}},K=function(e){return{type:"AUTH/SET-ERROR",error:e}},V=function(){return function(e){e(B("loading")),p().then((function(t){e(F(t.data._id,t.data.email,t.data.name,t.data.avatar,!0)),e(B("success"))})).catch((function(t){var n=t.response?t.response.data.error:t.message+", more details in the console";e(K(n)),e(B("failed")),setTimeout((function(){e(K(""))}),3e3)}))}},W=function(e){return function(t,n){t(B("loading")),S({name:e.name||n().auth.name,avatar:e.avatar||n().auth.avatar}).then((function(e){t(V()),t(B("success"))})).catch((function(e){var n=e.response?e.response.data.error:e.message+", more details in the console";t(K(n)),t(B("failed")),setTimeout((function(){t(K(""))}),3e3)}))}},Q=function(){var e=Object(b.b)(),t=Object(b.c)((function(e){return e.auth})),n=t.isLoggedIn,r=t.requestStatus,a=t.error,c=Object(G.a)({validate:function(e){return e.email?e.password?void 0:{password:"Password is required"}:{email:"Email is required"}},initialValues:{email:"",password:"",rememberMe:!1},onSubmit:function(t){var n;e((n=t,function(e){e(B("loading")),g(n).then((function(t){e(F(t.data._id,t.data.email,t.data.name,t.data.avatar,!0)),e(B("success"))})).catch((function(t){var n=t.response?t.response.data.error:t.message+", more details in the console";e(K(n)),e(B("failed")),setTimeout((function(){e(K(""))}),3e3)}))}))}});return n?Object(q.jsx)(i.a,{to:"/profile"}):Object(q.jsx)("div",{children:Object(q.jsx)("form",{onSubmit:c.handleSubmit,children:Object(q.jsxs)("div",{className:D.a.login,children:["loading"===r&&Object(q.jsx)("div",{style:{color:"green"},children:"loading..."}),a&&Object(q.jsx)("div",{style:{color:"red"},children:a}),Object(q.jsx)("label",{children:"Email"}),Object(q.jsx)("input",Object(O.a)({type:"email"},c.getFieldProps("email"))),c.errors.email?Object(q.jsx)("div",{className:D.a.error,children:c.errors.email}):null,Object(q.jsx)("label",{children:"Password"}),Object(q.jsx)("input",Object(O.a)({type:"password"},c.getFieldProps("password"))),c.errors.password?Object(q.jsx)("div",{className:D.a.error,children:c.errors.password}):null,Object(q.jsx)(j.b,{to:"/forgot",activeClassName:D.a.active,children:"Forgot password?"}),Object(q.jsxs)("label",{children:["Remember Me",Object(q.jsx)("input",Object(O.a)(Object(O.a)({type:"checkbox"},c.getFieldProps("rememberMe")),{},{checked:c.values.rememberMe}))]}),Object(q.jsx)("button",{type:"submit",color:"primary",children:"Login"}),Object(q.jsx)(j.b,{to:"/register",activeClassName:D.a.active,children:"Registration"})]})})})},H=n(66),M=n.n(H),z={responseText:"",isRegistration:!1},J=function(e){return{type:"REGISTER/SUCCESS_REGISTER",text:e}},$=function(e){return{type:"REGISTER/SET-REGISTRATION",isRegistration:e}},X=function(){var e=Object(b.c)((function(e){return e.register.responseText})),t=Object(b.c)((function(e){return e.register.isRegistration})),n=Object(b.b)(),r=Object(a.useState)(""),c=Object(u.a)(r,2),s=c[0],o=c[1],d=Object(a.useState)(""),l=Object(u.a)(d,2),O=l[0],h=l[1],f=Object(a.useState)(""),p=Object(u.a)(f,2),g=p[0],x=p[1],S=Object(a.useState)(""),v=Object(u.a)(S,2),T=v[0],C=v[1],R={email:s,password:O},E=function(){C("")};return t?Object(q.jsx)(i.a,{to:"/login"}):Object(q.jsxs)("div",{className:M.a.register,children:[Object(q.jsx)("h3",{children:e}),"Register",Object(q.jsx)("input",{type:"email",placeholder:"email",onChange:function(e){return o(e.currentTarget.value)},onKeyPress:E}),Object(q.jsx)("input",{type:"password",placeholder:"password",onChange:function(e){return h(e.currentTarget.value)},onKeyPress:E}),Object(q.jsx)("input",{type:"password",placeholder:"confirm password",onKeyPress:E,onChange:function(e){return x(e.currentTarget.value)}}),T,Object(q.jsx)("button",{onClick:function(){O===g&&O.length>=8?n(function(e){return function(t){m(e).then((function(e){t(J("success")),setTimeout((function(){t($(!0)),t($(!1))}),1e3)})).catch((function(e){t(J(e.response.data.error)),setTimeout((function(){t(J(""))}),3e3)}))}}(R)):O!==g?C("Passwords don't match."):(O.length<8||g.length<8)&&C("Password must contain at least 8 characters.")},children:"Register"}),Object(q.jsx)(j.b,{to:"/login",activeClassName:M.a.active,children:"Log in"})]})},Z=n(67),Y=n.n(Z),ee={requestStatus:"idle",error:"",info:""},te=function(e){return{type:"SET-PASSWORD/SET-REQUEST-STATUS",requestStatus:e}},ne=function(e){return{type:"SET-PASSWORD/SET-ERROR",error:e}},re=function(){var e=Object(b.c)((function(e){return e.setPassword})),t=e.requestStatus,n=e.error,r=e.info,c=Object(b.b)(),s=Object(i.g)().token,o=Object(a.useState)(""),d=Object(u.a)(o,2),l=d[0],O=d[1],h=Object(a.useState)(""),f=Object(u.a)(h,2),p=f[0],g=f[1],m=Object(a.useState)(""),x=Object(u.a)(m,2),S=x[0],v=x[1];return"success"===t?Object(q.jsx)(i.a,{to:"/login"}):Object(q.jsxs)("div",{className:Y.a.setPassword,children:["Please enter your new password in each field.","loading"===t?Object(q.jsx)("div",{style:{color:"green"},children:"loading..."}):r&&Object(q.jsx)("i",{children:r}),n&&Object(q.jsx)("div",{style:{color:"red"},children:n}),S&&Object(q.jsx)("div",{style:{color:"red"},children:S}),Object(q.jsx)("input",{type:"password",value:l,onChange:function(e){O(e.currentTarget.value)},onKeyPress:function(){return v("")}}),Object(q.jsx)("input",{type:"password",value:p,onChange:function(e){g(e.currentTarget.value)},onKeyPress:function(){return v("")}}),Object(q.jsx)("button",{onClick:function(){var e,t;l===p&&l.length>=8?c((e=l,t=s,function(n){n(te("loading")),T({password:e,resetPasswordToken:t}).then((function(e){n({type:"SET-PASSWORD/SET-INFO",info:e.data.info}),n(te("success"))})).catch((function(e){var t=e.response?e.response.data.error:e.message+", more details in the console";n(ne(t)),n(te("failed")),setTimeout((function(){n(ne(""))}),3e3)}))})):l!==p?v("Passwords don't match."):(l.length<8||p.length<8)&&v("Password must contain at least 8 characters.")},disabled:"loading"===t,children:"Submit"}),Object(q.jsx)(j.b,{to:"/login",activeClassName:Y.a.active,children:"Log in"})]})},ae=n(82),ce=n.n(ae),se=n(136),oe=n(133),ie=n(98),ue=function(){var e=Object(b.c)((function(e){return e.auth})),t=e.email,n=e.name,r=e.error,c=e.avatar,s=e.isLoggedIn,o=e.requestStatus,d=Object(b.b)(),l=Object(a.useState)(""),j=Object(u.a)(l,2),O=j[0],h=j[1],f=Object(a.useState)(""),p=Object(u.a)(f,2),g=p[0],m=p[1];Object(a.useEffect)((function(){s||d(V())}),[]);var S=Object(q.jsxs)("span",{children:[Object(q.jsxs)("label",{children:["Enter avatar URL or Base64:",Object(q.jsx)("input",{onChange:function(e){return h(e.currentTarget.value)},value:O})]}),Object(q.jsx)("button",{onClick:function(){d(W({avatar:O}))},children:"Set Avatar"})]}),v=Object(q.jsxs)("span",{children:[Object(q.jsx)("input",{onChange:function(e){return m(e.currentTarget.value)},value:g}),Object(q.jsx)("button",{onClick:function(){d(W({name:g}))},children:"Set name"})]});return s?Object(q.jsxs)("div",{className:ce.a.profile,children:["Welcome!","loading"===o&&Object(q.jsx)("div",{style:{color:"green"},children:"loading..."}),r&&Object(q.jsx)("div",{style:{color:"red"},children:r}),c?Object(q.jsx)(ie.a,{content:S,title:"Change avatar",trigger:"hover",children:Object(q.jsx)(se.a,{src:c,size:64})}):Object(q.jsx)(ie.a,{content:S,title:"Add avatar",trigger:"hover",children:Object(q.jsx)(se.a,{size:64,icon:Object(q.jsx)(oe.a,{})})}),Object(q.jsx)(ie.a,{content:v,title:"Change your name",trigger:"hover",children:Object(q.jsx)("div",{children:n})}),Object(q.jsx)("div",{children:t}),Object(q.jsx)("button",{onClick:function(){d((function(e){e(B("loading")),x().then((function(){e(F("","","","",!1)),e(B("success"))})).catch((function(t){var n=t.response?t.response.data.error:t.message+", more details in the console";e(K(n)),e(B("failed")),setTimeout((function(){e(K(""))}),3e3)}))}))},disabled:"loading"===o,children:"Log out"})]}):Object(q.jsx)(i.a,{to:"/login"})},de=n(35),le=n.n(de),je=function(){return Object(q.jsxs)("div",{className:le.a.header,children:[Object(q.jsx)(j.b,{to:Le.LOGIN,activeClassName:le.a.active,children:"Login"}),Object(q.jsx)(j.b,{to:Le.REGISTER,activeClassName:le.a.active,children:"Register"}),Object(q.jsx)(j.b,{to:Le.FORGOT,activeClassName:le.a.active,children:"Forgot"}),Object(q.jsx)(j.b,{to:Le.SET_PASSWORD,activeClassName:le.a.active,children:"Set New Password"}),Object(q.jsx)(j.b,{to:Le.PROFILE,activeClassName:le.a.active,children:"Profile"}),Object(q.jsx)(j.b,{to:Le.PACKS,activeClassName:le.a.active,children:"Packs"}),Object(q.jsx)(j.b,{to:Le.CARDS,activeClassName:le.a.active,children:"Cards"})]})},be=n(40),Oe=n.n(be),he=c.a.memo((function(e){var t=e.onClick;return Object(q.jsxs)("span",{style:{margin:"0 5px"},children:[Object(q.jsx)("div",{children:Object(q.jsx)("button",{onClick:function(){t(r.Up)},children:"\u2191"})}),Object(q.jsx)("div",{children:Object(q.jsx)("button",{onClick:function(){t(r.Down)},children:"\u2193"})})]})})),fe={cardPacks:[],requestStatus:"idle",error:"",sortParams:{nameToSearch:"",minCardsCount:0,maxCardsCount:100,sortDirection:r.Down,propToSortBy:void 0,page:1,pageCount:10,userId:""}},pe=function(e){return{type:"PACKS/SET-PACKS",cardPacks:e}},ge=function(e){return{type:"PACKS/SET-REQUEST-STATUS",requestStatus:e}},me=function(e){return{type:"PACKS/SET-ERROR",error:e}},xe=function(e){return{type:"PACKS/SET-SORT-PARAMS",sortParams:e}},Se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t,n){e&&t(xe(e));var r=n().packs.sortParams;t(ge("loading")),C(r).then((function(e){t(pe(e.data.cardPacks)),t(ge("success"))})).catch((function(e){var n=e.response?e.response.data.error:e.message+", more details in the console";t(me(n)),t(ge("failed"))}))}},ve=n(134),Te=n(93),Ce=n.n(Te),Re=c.a.memo((function(e){var t=e.minRangeLimit,n=void 0===t?0:t,r=e.maxRangeLimit,c=void 0===r?100:r,s=e.minValue,o=e.maxValue,i=e.onValuesChange,d=Object(a.useState)(s||0),l=Object(u.a)(d,2),j=l[0],b=l[1],O=Object(a.useState)(o||5),h=Object(u.a)(O,2),f=h[0],p=h[1],g=Object(a.useCallback)((function(e){b(e[0]),p(e[1])}),[b,p]),m=Object(a.useCallback)((function(){i([j,f])}),[j,f]);return Object(q.jsx)("span",{className:Ce.a.rangeBlock,children:Object(q.jsx)(ve.a,{range:{draggableTrack:!0},value:[j,f],min:n,max:c,onChange:g,onAfterChange:m,tooltipVisible:!0})})})),Ee=n(69),ye=n.n(Ee),Pe=function(e){var t=e.pack,n=e.authUserId,r=Object(b.b)();return Object(q.jsxs)("tr",{className:ye.a.row,children:[Object(q.jsx)("td",{children:t.name}),Object(q.jsx)("td",{children:t.cardsCount}),Object(q.jsx)("td",{children:t.updated}),Object(q.jsx)("td",{children:t.user_name}),Object(q.jsxs)("td",{children:[Object(q.jsx)("button",{onClick:function(){var e;r((e=t._id,function(t){t(ge("loading")),E(e).then((function(){t(Se()),t(ge("success"))})).catch((function(e){var n=e.response?e.response.data.error:e.message+", more details in the console";t(me(n)),t(ge("failed"))}))}))},disabled:t.user_id!==n,children:"Delete"}),Object(q.jsx)("button",{onClick:function(){var e,n;r((e=t._id,function(t){t(ge("loading")),y(e,n).then((function(){t(Se()),t(ge("success"))})).catch((function(e){var n=e.response?e.response.data.error:e.message+", more details in the console";t(me(n)),t(ge("failed"))}))}))},disabled:t.user_id!==n,children:"Update"}),Object(q.jsx)(j.b,{to:"/cards/".concat(t._id),activeClassName:ye.a.active,children:"Cards"})]})]})},ke=function(){var e=Object(b.c)((function(e){return e.auth.isLoggedIn})),t=Object(b.c)((function(e){return e.auth._id})),n=Object(b.c)((function(e){return e.packs.cardPacks})),r=Object(b.c)((function(e){return e.packs.error})),c=Object(b.c)((function(e){return e.packs.sortParams})),s=c.minCardsCount,o=c.maxCardsCount,d=c.userId,l=Object(b.b)();Object(a.useEffect)((function(){e&&l(Se()),e||l(V())}),[]);var j=Object(a.useCallback)((function(e){var t=Object(u.a)(e,2),n=t[0],r=t[1];l(Se({minCardsCount:n,maxCardsCount:r}))}),[l]),O=Object(a.useCallback)((function(e){l(Se({sortDirection:e,propToSortBy:"name"}))}),[l]),h=Object(a.useCallback)((function(e){l(Se({sortDirection:e,propToSortBy:"cardsCount"}))}),[l]);return e?Object(q.jsxs)("div",{className:Oe.a.packs,children:[Object(q.jsx)("h2",{children:"Packs"}),Object(q.jsxs)("div",{className:Oe.a.filter,children:[Object(q.jsxs)("label",{children:[Object(q.jsx)("input",{type:"checkbox",checked:!!d,onChange:function(e){e.currentTarget.checked?l(Se({userId:t})):l(Se({userId:""}))}})," show my private packs"]}),Object(q.jsxs)("label",{children:["Search packs by name: ",Object(q.jsx)("input",{placeholder:"Press Enter to search",onKeyPress:function(e){e.key}})]}),Object(q.jsxs)("div",{style:{display:"flex"},children:["Search packs by cards count:",Object(q.jsx)(Re,{minValue:s,maxValue:o,onValuesChange:j,maxRangeLimit:200})]})]}),r&&Object(q.jsx)("div",{style:{color:"red",margin:"0 auto"},children:r}),Object(q.jsxs)("table",{width:"100%",cellPadding:"4",className:Oe.a.table,children:[Object(q.jsxs)("tr",{style:{outline:"medium solid"},children:[Object(q.jsx)("th",{children:Object(q.jsxs)("div",{className:Oe.a.cellWithButtons,children:["Name",Object(q.jsx)(he,{onClick:O})]})}),Object(q.jsx)("th",{children:Object(q.jsxs)("div",{className:Oe.a.cellWithButtons,children:["Cards Count",Object(q.jsx)(he,{onClick:h})]})}),Object(q.jsx)("th",{children:"Last Updated"}),Object(q.jsx)("th",{children:"Created by"}),Object(q.jsx)("th",{children:Object(q.jsx)("button",{onClick:function(){var e,t,n;l((function(r){r(ge("loading")),R(e,t,n).then((function(){r(Se()),r(ge("success"))})).catch((function(e){var t=e.response?e.response.data.error:e.message+", more details in the console";r(me(t)),r(ge("failed"))}))}))},children:"Add"})})]}),n.map((function(e){return Object(q.jsx)(Pe,{pack:e,authUserId:t},e._id)}))]}),Object(q.jsxs)("div",{className:Oe.a.pagination,children:["Pagination",Object(q.jsx)("input",{type:"number"}),Object(q.jsx)("button",{children:"\u043a\u043d\u043e\u043f\u043a\u0438 \u0434\u043b\u044f \u043f\u0435\u0440\u0435\u0445\u043e\u0434\u0430 \u043d\u0430 \u0434\u0440\u0443\u0433\u0438\u0435 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b"}),Object(q.jsx)("span",{children:"\u043e\u0431\u0449\u0435\u0435 \u043a\u043e\u043b-\u0432\u043e \u0441\u0442\u0440\u0430\u043d\u0438\u0446"})]})]}):Object(q.jsx)(i.a,{to:"/login"})},we=n(47),_e=n.n(we),Ae={requestStatus:"idle",error:"",cards:[],packUserId:"",sortParams:{question:"",answer:"",sortDirection:r.Down,propToSortBy:void 0,minGrade:0,maxGrade:5,page:1,pageCount:10}},Ie=function(e){return{type:"CARDS/SET-REQUEST-STATUS",requestStatus:e}},qe=function(e){return{type:"CARDS/SET-ERROR",error:e}},Ne=function(e){return{type:"CARDS/SET-SORT-PARAMS",sortParams:e}},Ue=function(e,t){return{type:"CARDS/SET-CARDS",cards:e,packUserId:t}},De=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n,r){t&&n(Ne(t));var a=r().cards.sortParams;n(Ie("loading")),P(e,a).then((function(e){n(Ue(e.data.cards,e.data.packUserId)),n(Ie("success"))})).catch((function(e){var t=e.response?e.response.data.error:e.message+", more details in the console";n(qe(t)),n(Ie("failed"))}))}},Ge=function(){var e=Object(b.c)((function(e){return e.auth.isLoggedIn})),t=Object(b.c)((function(e){return e.auth._id})),n=Object(b.c)((function(e){return e.cards.cards})),r=Object(b.c)((function(e){return e.cards.packUserId})),c=Object(i.g)().packId,s=Object(b.c)((function(e){return e.cards.error})),o=Object(b.c)((function(e){return e.cards.sortParams})),d=o.minGrade,l=o.maxGrade,j=Object(b.b)(),O=Object(a.useState)(""),h=Object(u.a)(O,2),f=h[0],p=h[1],g=Object(a.useState)(""),m=Object(u.a)(g,2),x=m[0],S=m[1];Object(a.useEffect)((function(){e&&c&&j(De(c)),e||j(V())}),[]);var v=Object(a.useCallback)((function(e){j(De(c,{sortDirection:e,propToSortBy:"grade"}))}),[j]),T=Object(a.useCallback)((function(e){var t=Object(u.a)(e,2),n=t[0],r=t[1];j(De(c,{minGrade:n,maxGrade:r}))}),[j]),C=function(e){j(function(e,t){return function(n){n(Ie("loading")),w(t).then((function(){n(De(e)),n(Ie("success"))})).catch((function(e){var t=e.response?e.response.data.error:e.message+", more details in the console";n(qe(t)),n(Ie("failed"))}))}}(c,e))},R=function(e){j(function(e,t){return function(n){n(Ie("loading")),k(e,t).then((function(){n(De(e,t)),n(Ie("success"))})).catch((function(e){var t=e.response?e.response.data.error:e.message+", more details in the console";n(qe(t)),n(Ie("failed"))}))}}(e))},E=function(e){j(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;return function(a){a(Ie("loading")),_(t,n,r).then((function(){a(De(e)),a(Ie("success"))})).catch((function(e){var t=e.response?e.response.data.error:e.message+", more details in the console";a(qe(t)),a(Ie("failed"))}))}}(c,e))};return e?Object(q.jsxs)("div",{className:_e.a.cards,children:[Object(q.jsx)("h2",{children:"Cards"}),Object(q.jsxs)("div",{className:_e.a.filter,children:[Object(q.jsxs)("label",{children:["Search cards by question: ",Object(q.jsx)("input",{placeholder:"Press Enter to search",onKeyPress:function(e){"Enter"===e.key&&j(De(c,{question:x}))},value:x,onChange:function(e){return S(e.currentTarget.value)}})]}),Object(q.jsxs)("label",{children:["Search cards by answer: ",Object(q.jsx)("input",{placeholder:"Press Enter to search",onKeyPress:function(e){"Enter"===e.key&&j(De(c,{answer:f}))},value:f,onChange:function(e){return p(e.currentTarget.value)}})]}),Object(q.jsxs)("div",{style:{display:"flex"},children:["Search cards by grade:",Object(q.jsx)(Re,{minValue:d,maxValue:l,onValuesChange:T,maxRangeLimit:5})]})]}),s&&Object(q.jsx)("div",{style:{color:"red",margin:"0 auto"},children:s}),Object(q.jsxs)("table",{width:"100%",cellPadding:"4",className:_e.a.table,children:[Object(q.jsxs)("tr",{style:{outline:"medium solid"},children:[Object(q.jsx)("th",{children:"Question"}),Object(q.jsx)("th",{children:"Answer"}),Object(q.jsx)("th",{children:Object(q.jsxs)("div",{className:_e.a.cellWithButtons,children:["Grade",Object(q.jsx)(he,{onClick:v})]})}),Object(q.jsx)("th",{children:"Last Updated"}),Object(q.jsx)("th",{children:"URL"}),Object(q.jsx)("th",{children:Object(q.jsx)("button",{onClick:function(){R(c)},disabled:r!==t,children:"Add"})})]}),n.map((function(e){return Object(q.jsxs)("tr",{children:[Object(q.jsx)("td",{children:e.question}),Object(q.jsx)("td",{children:e.answer}),Object(q.jsx)("td",{children:e.grade}),Object(q.jsx)("td",{children:e.updated}),Object(q.jsx)("td",{children:"string"}),Object(q.jsxs)("td",{children:[Object(q.jsx)("button",{onClick:function(){return C(e._id)},disabled:r!==t,children:"Delete"}),Object(q.jsx)("button",{onClick:function(){return E(e._id)},disabled:r!==t,children:"Update"})]})]},e._id)}))]}),Object(q.jsxs)("div",{className:_e.a.pagination,children:["Pagination",Object(q.jsx)("input",{type:"number"}),Object(q.jsx)("button",{children:"\u043a\u043d\u043e\u043f\u043a\u0438 \u0434\u043b\u044f \u043f\u0435\u0440\u0435\u0445\u043e\u0434\u0430 \u043d\u0430 \u0434\u0440\u0443\u0433\u0438\u0435 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b"}),Object(q.jsx)("span",{children:"\u043e\u0431\u0449\u0435\u0435 \u043a\u043e\u043b-\u0432\u043e \u0441\u0442\u0440\u0430\u043d\u0438\u0446"})]})]}):Object(q.jsx)(i.a,{to:"/login"})},Le={LOGIN:"/login",REGISTER:"/register",FORGOT:"/forgot",SET_PASSWORD:"/set-new-password",PROFILE:"/profile",PACKS:"/packs",CARDS:"/cards"},Fe=function(){return Object(q.jsxs)("div",{className:"App",children:[Object(q.jsx)(je,{}),Object(q.jsxs)(i.d,{children:[Object(q.jsx)(i.b,{exact:!0,path:["/","".concat(Le.LOGIN)],render:function(){return Object(q.jsx)(Q,{})}}),Object(q.jsx)(i.b,{path:Le.REGISTER,render:function(){return Object(q.jsx)(X,{})}}),Object(q.jsx)(i.b,{path:Le.FORGOT,render:function(){return Object(q.jsx)(N,{})}}),Object(q.jsx)(i.b,{path:"".concat(Le.SET_PASSWORD,"/:token?"),render:function(){return Object(q.jsx)(re,{})}}),Object(q.jsx)(i.b,{path:Le.PROFILE,render:function(){return Object(q.jsx)(ue,{})}}),Object(q.jsx)(i.b,{path:Le.PACKS,render:function(){return Object(q.jsx)(ke,{})}}),Object(q.jsx)(i.b,{path:"".concat(Le.CARDS,"/:packId?"),render:function(){return Object(q.jsx)(Ge,{})}}),Object(q.jsx)(i.b,{path:"/404",render:function(){return Object(q.jsx)("h1",{children:"404: PAGE NOT FOUND"})}}),Object(q.jsx)(i.a,{from:"*",to:"/404"})]})]})},Be=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,137)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),c(e),s(e)}))},Ke=n(59),Ve=n(95),We={},Qe=Object(Ke.b)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTH/SET-AUTH-USER-DATA":return Object(O.a)(Object(O.a)({},e),t.payload);case"AUTH/SET-REQUEST-STATUS":return Object(O.a)(Object(O.a)({},e),{},{requestStatus:t.requestStatus,error:"success"===t.requestStatus?"":e.error});case"AUTH/SET-ERROR":return Object(O.a)(Object(O.a)({},e),{},{error:t.error});default:return e}},register:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REGISTER/SUCCESS_REGISTER":return Object(O.a)(Object(O.a)({},e),{},{responseText:t.text});case"REGISTER/SET-REGISTRATION":return Object(O.a)(Object(O.a)({},e),{},{isRegistration:t.isRegistration,responseText:!0===e.isRegistration?"":e.responseText});default:return e}},forgot:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FORGOT/SET-REQUEST-STATUS":return Object(O.a)(Object(O.a)({},e),{},{requestStatus:t.requestStatus,error:"success"===t.requestStatus?"":e.error});case"FORGOT/SET-ERROR":return Object(O.a)(Object(O.a)({},e),{},{error:t.error,info:""});case"FORGOT/SET-INFO":return Object(O.a)(Object(O.a)({},e),{},{info:t.info,error:""});default:return e}},setPassword:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET-PASSWORD/SET-REQUEST-STATUS":return Object(O.a)(Object(O.a)({},e),{},{requestStatus:t.requestStatus,error:"success"===t.requestStatus?"":e.error});case"SET-PASSWORD/SET-ERROR":return Object(O.a)(Object(O.a)({},e),{},{error:t.error,info:""});case"SET-PASSWORD/SET-INFO":return Object(O.a)(Object(O.a)({},e),{},{info:t.info,error:""});default:return e}},profile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We,t=arguments.length>1?arguments[1]:void 0;return t.type,e},packs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PACKS/SET-PACKS":return Object(O.a)(Object(O.a)({},e),{},{cardPacks:t.cardPacks});case"PACKS/SET-REQUEST-STATUS":return Object(O.a)(Object(O.a)({},e),{},{requestStatus:t.requestStatus,error:"success"===t.requestStatus?"":e.error});case"PACKS/SET-ERROR":return Object(O.a)(Object(O.a)({},e),{},{error:t.error});case"PACKS/SET-SORT-PARAMS":return Object(O.a)(Object(O.a)({},e),{},{sortParams:Object(O.a)(Object(O.a)({},e.sortParams),t.sortParams)});default:return e}},cards:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CARDS/SET-REQUEST-STATUS":return Object(O.a)(Object(O.a)({},e),{},{requestStatus:t.requestStatus,error:"success"===t.requestStatus?"":e.error});case"CARDS/SET-ERROR":return Object(O.a)(Object(O.a)({},e),{},{error:t.error});case"CARDS/SET-SORT-PARAMS":return Object(O.a)(Object(O.a)({},e),{},{sortParams:Object(O.a)(Object(O.a)({},e.sortParams),t.sortParams)});case"CARDS/SET-CARDS":return Object(O.a)(Object(O.a)({},e),{},{cards:t.cards,packUserId:t.packUserId});default:return e}}}),He=Object(Ke.c)(Qe,Object(Ke.a)(Ve.a));window.store=He,o.a.render(Object(q.jsx)(b.a,{store:He,children:Object(q.jsx)(j.a,{children:Object(q.jsx)(Fe,{})})}),document.getElementById("root")),Be()},35:function(e,t,n){e.exports={header:"Header_header__10VB5",active:"Header_active__3B1Kt"}},40:function(e,t,n){e.exports={packs:"Packs_packs__11aat",filter:"Packs_filter__3-7jv",table:"Packs_table__3gfqm",cellWithButtons:"Packs_cellWithButtons__i3Ikn",pagination:"Packs_pagination__3tqEx"}},46:function(e,t,n){e.exports={login:"Login_login__2ck6i",error:"Login_error__1oq8R"}},47:function(e,t,n){e.exports={cards:"Cards_cards__1nz5C",filter:"Cards_filter__3iNkp",table:"Cards_table__39AGJ",cellWithButtons:"Cards_cellWithButtons__1wX-M",pagination:"Cards_pagination__34Qpn"}},63:function(e,t,n){e.exports={forgot:"Forgot_forgot__3iT7N"}},66:function(e,t,n){e.exports={register:"Register_register__298wP"}},67:function(e,t,n){e.exports={setPassword:"SetPassword_setPassword__ji0HF"}},69:function(e,t,n){e.exports={row:"Pack_row__1vaZe"}},82:function(e,t,n){e.exports={profile:"Profile_profile__OylV9"}},93:function(e,t,n){e.exports={rangeBlock:"DoubleRange_rangeBlock__eFtuj"}}},[[130,1,2]]]);
//# sourceMappingURL=main.de98c443.chunk.js.map