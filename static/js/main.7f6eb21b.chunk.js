(this["webpackJsonpcards-by-dream-team"]=this["webpackJsonpcards-by-dream-team"]||[]).push([[0],{116:function(e,t,a){e.exports={profile:"Profile_profile__OylV9",loading:"Profile_loading__1TdAz",error:"Profile_error__3qnVp"}},127:function(e,t,a){e.exports={register:"Register_register__298wP"}},158:function(e,t,a){e.exports={rangeBlock:"DoubleRange_rangeBlock__eFtuj"}},178:function(e,t,a){},179:function(e,t,a){},276:function(e,t,a){"use strict";a.r(t);var r,n=a(0),s=a.n(n),c=a(26),o=a.n(c),i=(a(178),a(179),a(180),a(30)),u=a(29),d=a(93),l=a.n(d),j=a(27),b=a(19),p=a(14),O=a(150),g=a.n(O).a.create({withCredentials:!0,baseURL:"https://neko-back.herokuapp.com/2.0/"}),f=function(){return g.post("auth/me")},h=function(e){return g.post("auth/login",e)},m=function(e){return g.post("auth/register",e)},S=function(){return g.delete("auth/me")},v=function(e){return g.put("auth/me",e)},x=function(e){return g.post("auth/forgot",{email:e,from:"test-front-admin <ai73a@yandex.by>",message:"<div style=\"background-color: lime; padding: 15px\">\n                 password recovery link:\n                 <a href='http://marygrishchuk.github.io/cards-by-dream-team/#/set-new-password/$token$'>\n                 Reset Password</a></div>"})},T=function(e){return g.post("auth/set-new-password",e)},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.nameToSearch,a=e.maxCardsCount,r=e.minCardsCount,n=e.page,s=e.pageCount,c=e.sortDirection,o=void 0===c?"":c,i=e.propToSortBy,u=void 0===i?"":i,d=e.userId;return g.get("cards/pack",{params:{packName:t,sortPacks:o+u,min:r,max:a,page:n,pageCount:s,user_id:d}})},R=function(e,t,a){return g.post("cards/pack",{cardsPack:{name:e,private:t,deckCover:a}})},P=function(e){return g.delete("cards/pack?id=".concat(e))},E=function(e,t){return g.put("cards/pack",{cardsPack:{_id:e,name:t}})},k=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t.question,r=t.answer,n=t.sortDirection,s=void 0===n?"":n,c=t.propToSortBy,o=void 0===c?"":c,i=t.minGrade,u=t.maxGrade,d=t.page,l=t.pageCount;return g.get("cards/card",{params:{cardsPack_id:e,cardQuestion:a,cardAnswer:r,sortCards:s+o,min:i,max:u,page:d,pageCount:l}})},y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t.question,r=t.answer,n=t.grade,s=t.shots,c=t.rating,o=t.answerImg,i=t.questionImg,u=t.questionVideo,d=t.answerVideo,l=t.type;return g.post("cards/card",{card:{cardsPack_id:e,question:a,answer:r,grade:n,shots:s,rating:c,answerImg:o,questionImg:i,questionVideo:u,answerVideo:d,type:l}})},_=function(e){return g.delete("cards/card?id=".concat(e))},I=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2?arguments[2]:void 0,r=t.question,n=t.answer,s=t.grade,c=t.shots,o=t.rating,i=t.answerImg,u=t.questionImg,d=t.questionVideo,l=t.answerVideo,j=t.type;return g.put("cards/card",{card:{_id:e,question:r,answer:n,grade:s,shots:c,rating:o,answerImg:i,questionImg:u,questionVideo:d,answerVideo:l,type:j,comments:a}})};!function(e){e[e.Up=0]="Up",e[e.Down=1]="Down"}(r||(r={}));var w={requestStatus:"idle",error:"",info:""},A=function(e){return{type:"FORGOT/SET-REQUEST-STATUS",requestStatus:e}},U=a(5),N=function(){var e=Object(b.c)((function(e){return e.forgot})),t=e.requestStatus,a=e.error,r=e.info,s=Object(b.b)(),c=Object(n.useState)(""),o=Object(u.a)(c,2),i=o[0],d=o[1];return Object(U.jsxs)("div",{className:l.a.forgot,children:["Please enter your email, and we'll send you a link to reset your password.","loading"===t?Object(U.jsx)("div",{className:l.a.loading,children:"loading..."}):r&&Object(U.jsx)("i",{children:r}),a&&Object(U.jsx)("div",{className:l.a.error,children:a}),Object(U.jsx)("input",{type:"email",value:i,onChange:function(e){d(e.currentTarget.value.trim())}}),Object(U.jsx)("button",{onClick:function(){s(function(e){return function(t){t(A("loading")),x(e).then((function(e){t({type:"FORGOT/SET-INFO",info:e.data.info}),t(A("success"))})).catch((function(e){var a=e.response?e.response.data.error:e.message+", more details in the console";t(function(e){return{type:"FORGOT/SET-ERROR",error:e}}(a)),t(A("failed"))}))}}(i))},disabled:"loading"===t,children:"Send"}),Object(U.jsx)(j.b,{to:"/login",activeClassName:l.a.active,children:"Log in"})]})},q=a(66),D=a.n(q),L=a(165),G={_id:"",email:"",name:"",avatar:"",error:"",isLoggedIn:!1,requestStatus:"idle"},F=function(e,t,a,r,n){return{type:"AUTH/SET-AUTH-USER-DATA",payload:{_id:e,email:t,name:a,avatar:r,isLoggedIn:n}}},K=function(e){return{type:"AUTH/SET-REQUEST-STATUS",requestStatus:e}},B=function(e){return{type:"AUTH/SET-ERROR",error:e}},V=function(e){return function(t,a){t(K("loading")),v({name:e.name||a().auth.name,avatar:e.avatar||a().auth.avatar}).then((function(e){t(F(e.data.updatedUser._id,e.data.updatedUser.email,e.data.updatedUser.name,e.data.updatedUser.avatar,a().auth.isLoggedIn)),t(K("success"))})).catch((function(e){var a=e.response?e.response.data.error:e.message+", more details in the console";t(B(a)),t(K("failed")),setTimeout((function(){t(B(""))}),3e3)}))}},Q=function(){var e=Object(b.b)(),t=Object(b.c)((function(e){return e.auth})),a=t.isLoggedIn,r=t.requestStatus,n=t.error,s=Object(L.a)({validate:function(e){return e.email?e.password?void 0:{password:"Password is required"}:{email:"Email is required"}},initialValues:{email:"",password:"",rememberMe:!1},onSubmit:function(t){var a;e((a=t,function(e){e(K("loading")),h(a).then((function(t){e(F(t.data._id,t.data.email,t.data.name,t.data.avatar,!0)),e(K("success"))})).catch((function(t){var a=t.response?t.response.data.error:t.message+", more details in the console";e(B(a)),e(K("failed")),setTimeout((function(){e(B(""))}),3e3)}))}))}});return a?Object(U.jsx)(i.a,{to:We.PROFILE}):Object(U.jsx)("div",{children:Object(U.jsx)("form",{onSubmit:s.handleSubmit,children:Object(U.jsxs)("div",{className:D.a.login,children:["loading"===r&&Object(U.jsx)("div",{className:D.a.loading,children:"loading..."}),n&&Object(U.jsx)("div",{className:D.a.error,children:n}),Object(U.jsx)("label",{children:"Email"}),Object(U.jsx)("input",Object(p.a)({type:"email"},s.getFieldProps("email"))),s.errors.email?Object(U.jsx)("div",{className:D.a.error,children:s.errors.email}):null,Object(U.jsx)("label",{children:"Password"}),Object(U.jsx)("input",Object(p.a)({type:"password"},s.getFieldProps("password"))),s.errors.password?Object(U.jsx)("div",{className:D.a.error,children:s.errors.password}):null,Object(U.jsx)(j.b,{to:"/forgot",activeClassName:D.a.active,children:"Forgot password?"}),Object(U.jsxs)("label",{children:["Remember Me",Object(U.jsx)("input",Object(p.a)(Object(p.a)({type:"checkbox"},s.getFieldProps("rememberMe")),{},{checked:s.values.rememberMe}))]}),Object(U.jsx)("button",{type:"submit",color:"primary",children:"Login"}),Object(U.jsx)(j.b,{to:"/register",activeClassName:D.a.active,children:"Registration"})]})})})},z=a(127),W=a.n(z),H={responseText:"",isRegistration:!1},M=function(e){return{type:"REGISTER/SUCCESS_REGISTER",text:e}},J=function(e){return{type:"REGISTER/SET-REGISTRATION",isRegistration:e}},Z=function(){var e=Object(b.c)((function(e){return e.register.responseText})),t=Object(b.c)((function(e){return e.register.isRegistration})),a=Object(b.b)(),r=Object(n.useState)(""),s=Object(u.a)(r,2),c=s[0],o=s[1],d=Object(n.useState)(""),l=Object(u.a)(d,2),p=l[0],O=l[1],g=Object(n.useState)(""),f=Object(u.a)(g,2),h=f[0],S=f[1],v=Object(n.useState)(""),x=Object(u.a)(v,2),T=x[0],C=x[1],R={email:c,password:p},P=function(){C("")};return t?Object(U.jsx)(i.a,{to:"/login"}):Object(U.jsxs)("div",{className:W.a.register,children:[Object(U.jsx)("h3",{children:e}),"Register",Object(U.jsx)("input",{type:"email",placeholder:"email",onChange:function(e){return o(e.currentTarget.value)},onKeyPress:P}),Object(U.jsx)("input",{type:"password",placeholder:"password",onChange:function(e){return O(e.currentTarget.value)},onKeyPress:P}),Object(U.jsx)("input",{type:"password",placeholder:"confirm password",onKeyPress:P,onChange:function(e){return S(e.currentTarget.value)}}),T,Object(U.jsx)("button",{onClick:function(){p===h&&p.length>=8?a(function(e){return function(t){m(e).then((function(e){t(M("success")),setTimeout((function(){t(J(!0)),t(J(!1))}),1e3)})).catch((function(e){t(M(e.response.data.error)),setTimeout((function(){t(M(""))}),3e3)}))}}(R)):p!==h?C("Passwords don't match."):(p.length<8||h.length<8)&&C("Password must contain at least 8 characters.")},children:"Register"}),Object(U.jsx)(j.b,{to:"/login",activeClassName:W.a.active,children:"Log in"})]})},$=a(85),X=a.n($),Y={requestStatus:"idle",error:"",info:""},ee=function(e){return{type:"SET-PASSWORD/SET-REQUEST-STATUS",requestStatus:e}},te=function(e){return{type:"SET-PASSWORD/SET-ERROR",error:e}},ae=function(){var e=Object(b.c)((function(e){return e.setPassword})),t=e.requestStatus,a=e.error,r=e.info,s=Object(b.b)(),c=Object(i.g)().token,o=Object(n.useState)(""),d=Object(u.a)(o,2),l=d[0],p=d[1],O=Object(n.useState)(""),g=Object(u.a)(O,2),f=g[0],h=g[1],m=Object(n.useState)(""),S=Object(u.a)(m,2),v=S[0],x=S[1];return"success"===t?Object(U.jsx)(i.a,{to:"/login"}):Object(U.jsxs)("div",{className:X.a.setPassword,children:["Please enter your new password in each field.","loading"===t?Object(U.jsx)("div",{className:X.a.loading,children:"loading..."}):r&&Object(U.jsx)("i",{children:r}),a&&Object(U.jsx)("div",{className:X.a.error,children:a}),v&&Object(U.jsx)("div",{className:X.a.error,children:v}),Object(U.jsx)("input",{type:"password",value:l,onChange:function(e){p(e.currentTarget.value)},onKeyPress:function(){return x("")}}),Object(U.jsx)("input",{type:"password",value:f,onChange:function(e){h(e.currentTarget.value)},onKeyPress:function(){return x("")}}),Object(U.jsx)("button",{onClick:function(){var e,t;l===f&&l.length>=8?s((e=l,t=c,function(a){a(ee("loading")),T({password:e,resetPasswordToken:t}).then((function(e){a({type:"SET-PASSWORD/SET-INFO",info:e.data.info}),a(ee("success"))})).catch((function(e){var t=e.response?e.response.data.error:e.message+", more details in the console";a(te(t)),a(ee("failed")),setTimeout((function(){a(te(""))}),3e3)}))})):l!==f?x("Passwords don't match."):(l.length<8||f.length<8)&&x("Password must contain at least 8 characters.")},disabled:"loading"===t,children:"Submit"}),Object(U.jsx)(j.b,{to:"/login",activeClassName:X.a.active,children:"Log in"})]})},re=a(116),ne=a.n(re),se=a(171),ce=a(281),oe=a(282),ie=a(279),ue=function(){var e=Object(b.c)((function(e){return e.auth})),t=e.email,a=e.name,r=e.error,s=e.avatar,c=e.isLoggedIn,o=e.requestStatus,d=Object(b.b)(),l=ie.a.Paragraph,j=Object(n.useState)(""),p=Object(u.a)(j,2),O=p[0],g=p[1],f=Object(U.jsxs)("span",{children:[Object(U.jsxs)("label",{children:["Enter avatar URL or Base64:",Object(U.jsx)("input",{onChange:function(e){return g(e.currentTarget.value)},value:O})]}),Object(U.jsx)("button",{onClick:function(){d(V({avatar:O}))},children:"Set Avatar"})]});return c?Object(U.jsxs)("div",{className:ne.a.profile,children:["Welcome!","loading"===o&&Object(U.jsx)("div",{className:ne.a.loading,children:"loading..."}),r&&Object(U.jsx)("div",{className:ne.a.error,children:r}),s?Object(U.jsx)(se.a,{content:f,title:"Change avatar",trigger:"hover",children:Object(U.jsx)(ce.a,{src:s,size:64})}):Object(U.jsx)(se.a,{content:f,title:"Add avatar",trigger:"hover",children:Object(U.jsx)(ce.a,{size:64,icon:Object(U.jsx)(oe.a,{})})}),Object(U.jsx)(l,{editable:{onChange:function(e){d(V({name:e}))}},children:a}),Object(U.jsx)("div",{children:t}),Object(U.jsx)("button",{onClick:function(){d((function(e){e(K("loading")),S().then((function(){e(F("","","","",!1)),e(K("success"))})).catch((function(t){var a=t.response?t.response.data.error:t.message+", more details in the console";e(B(a)),e(K("failed")),setTimeout((function(){e(B(""))}),3e3)}))}))},disabled:"loading"===o,children:"Log out"})]}):Object(U.jsx)(i.a,{to:We.LOGIN})},de=a(58),le=a.n(de),je=function(){return Object(U.jsxs)("div",{className:le.a.header,children:[Object(U.jsx)(j.b,{to:We.LOGIN,activeClassName:le.a.active,children:"Login"}),Object(U.jsx)(j.b,{to:We.REGISTER,activeClassName:le.a.active,children:"Register"}),Object(U.jsx)(j.b,{to:We.FORGOT,activeClassName:le.a.active,children:"Forgot"}),Object(U.jsx)(j.b,{to:We.SET_PASSWORD,activeClassName:le.a.active,children:"Set New Password"}),Object(U.jsx)(j.b,{to:We.PROFILE,activeClassName:le.a.active,children:"Profile"}),Object(U.jsx)(j.b,{to:We.PACKS,activeClassName:le.a.active,children:"Packs"}),Object(U.jsx)(j.b,{to:We.CARDS,activeClassName:le.a.active,children:"Cards"})]})},be=a(65),pe=a.n(be),Oe={cardPacks:[],requestStatus:"idle",error:"",cardPacksTotalCount:0,page:1,pageCount:10,sortParams:{nameToSearch:"",minCardsCount:0,maxCardsCount:100,sortDirection:r.Down,propToSortBy:void 0,page:1,pageCount:10,userId:""}},ge=function(e,t,a,r){return{type:"PACKS/SET-PACKS",cardPacks:e,cardPacksTotalCount:t,page:a,pageCount:r}},fe=function(e){return{type:"PACKS/SET-REQUEST-STATUS",requestStatus:e}},he=function(e){return{type:"PACKS/SET-ERROR",error:e}},me=function(e){return{type:"PACKS/SET-SORT-PARAMS",sortParams:e}},Se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t,a){e&&t(me(e));var r=a().packs.sortParams;t(fe("loading")),C(r).then((function(e){t(ge(e.data.cardPacks,e.data.cardPacksTotalCount,e.data.page,e.data.pageCount)),t(fe("success"))})).catch((function(e){var a=e.response?e.response.data.error:e.message+", more details in the console";t(he(a)),t(fe("failed"))}))}},ve=a(280),xe=a(158),Te=a.n(xe),Ce=s.a.memo((function(e){var t=e.minRangeLimit,a=void 0===t?0:t,r=e.maxRangeLimit,s=void 0===r?100:r,c=e.minValue,o=e.maxValue,i=e.onValuesChange,d=Object(n.useState)(c||0),l=Object(u.a)(d,2),j=l[0],b=l[1],p=Object(n.useState)(o||5),O=Object(u.a)(p,2),g=O[0],f=O[1],h=Object(n.useCallback)((function(e){b(e[0]),f(e[1])}),[b,f]),m=Object(n.useCallback)((function(){i([j,g])}),[i,j,g]);return Object(U.jsx)("span",{className:Te.a.rangeBlock,children:Object(U.jsx)(ve.a,{range:{draggableTrack:!0},value:[j,g],min:a,max:s,onChange:h,onAfterChange:m,tooltipVisible:!0})})})),Re=a(166),Pe=function(e){return Object(U.jsx)("div",{children:Object(U.jsx)(Re.a,{showQuickJumper:!0,current:e.current,total:e.total,onChange:e.onChange,pageSize:e.pageCount,disabled:"loading"===e.requestStatus})})},Ee=a(278),ke=function(e){var t=e.cardPacks,a=e.authUserId,n=e.requestStatus,s=Object(b.b)(),c=function(){var e,t,a;s((function(r){r(fe("loading")),R(e,t,a).then((function(){r(Se()),r(fe("success"))})).catch((function(e){var t=e.response?e.response.data.error:e.message+", more details in the console";r(he(t)),r(fe("failed"))}))}))},o=function(e){s(function(e){return function(t){t(fe("loading")),P(e).then((function(){t(Se()),t(fe("success"))})).catch((function(e){var a=e.response?e.response.data.error:e.message+", more details in the console";t(he(a)),t(fe("failed"))}))}}(e))},i=function(e){s(function(e,t){return function(a){a(fe("loading")),E(e,t).then((function(){a(Se()),a(fe("success"))})).catch((function(e){var t=e.response?e.response.data.error:e.message+", more details in the console";a(he(t)),a(fe("failed"))}))}}(e))},u=t.map((function(e){return{key:e._id,name:e.name,cardsCount:e.cardsCount,updated:e.updated,createdBy:e.user_name,buttons:{packId:e._id,packUserId:e.user_id}}})),d=[{title:"Name",dataIndex:"name",key:"name",sorter:!0},{title:"Cards Count",dataIndex:"cardsCount",key:"cardsCount",sorter:!0},{title:"Last Update",dataIndex:"updated",key:"updated"},{title:"Created by",dataIndex:"createdBy",key:"createdBy"},{title:function(){return Object(U.jsx)("button",{onClick:c,children:"Add"})},dataIndex:"buttons",key:"buttons",render:function(e){var t=e.packId,r=e.packUserId;return Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)("button",{onClick:function(){return o(t)},disabled:r!==a,children:"Delete"}),Object(U.jsx)("button",{onClick:function(){return i(t)},disabled:r!==a,children:"Update"}),Object(U.jsx)(j.b,{to:"/cards/".concat(t),activeClassName:pe.a.active,children:"Cards"})]})}}];return Object(U.jsx)(Ee.a,{columns:d,dataSource:u,onChange:function(e,t,a){"name"===a.columnKey&&"ascend"===a.order?s(Se({sortDirection:r.Down,propToSortBy:"name"})):"name"===a.columnKey&&"descend"===a.order?s(Se({sortDirection:r.Up,propToSortBy:"name"})):"name"===a.columnKey&&void 0===a.order&&s(Se({sortDirection:r.Up,propToSortBy:"updated"})),"cardsCount"===a.columnKey&&"ascend"===a.order?s(Se({sortDirection:r.Down,propToSortBy:"cardsCount"})):"cardsCount"===a.columnKey&&"descend"===a.order?s(Se({sortDirection:r.Up,propToSortBy:"cardsCount"})):"cardsCount"===a.columnKey&&void 0===a.order&&s(Se({sortDirection:r.Up,propToSortBy:"updated"}))},pagination:!1,style:{width:"100%"},size:"small",loading:"loading"===n})},ye=function(){var e=Object(b.c)((function(e){return e.auth.isLoggedIn})),t=Object(b.c)((function(e){return e.auth._id})),a=Object(b.c)((function(e){return e.packs.error})),r=Object(b.c)((function(e){return e.packs})),s=r.cardPacksTotalCount,c=r.page,o=r.cardPacks,d=r.pageCount,l=r.requestStatus,j=Object(b.c)((function(e){return e.packs.sortParams})),p=j.minCardsCount,O=j.maxCardsCount,g=j.userId,f=Object(b.b)(),h=Object(n.useState)(""),m=Object(u.a)(h,2),S=m[0],v=m[1];Object(n.useEffect)((function(){e&&f(Se())}),[]);var x=Object(n.useCallback)((function(e){var t=Object(u.a)(e,2),a=t[0],r=t[1];f(Se({minCardsCount:a,maxCardsCount:r}))}),[f]),T=Object(n.useCallback)((function(e,t){f(Se({page:e,pageCount:t}))}),[f]);return e?Object(U.jsxs)("div",{className:pe.a.packs,children:[Object(U.jsx)("h2",{children:"Packs"}),Object(U.jsxs)("div",{className:pe.a.filter,children:[Object(U.jsxs)("label",{children:[Object(U.jsx)("input",{type:"checkbox",checked:!!g,onChange:function(e){e.currentTarget.checked?f(Se({userId:t})):f(Se({userId:""}))}}),"show my private packs"]}),Object(U.jsxs)("label",{children:["Search packs by name: ",Object(U.jsx)("input",{placeholder:"Press Enter to search",onKeyPress:function(e){"Enter"===e.key&&f(Se({nameToSearch:S}))},value:S,onChange:function(e){return v(e.currentTarget.value)}})]}),Object(U.jsxs)("div",{className:pe.a.rangeContainer,children:["Search packs by cards count:",Object(U.jsx)(Ce,{minValue:p,maxValue:O,onValuesChange:x,maxRangeLimit:200})]})]}),a&&Object(U.jsx)("div",{className:pe.a.error,children:a}),Object(U.jsx)(ke,{cardPacks:o,authUserId:t,requestStatus:l}),Object(U.jsx)("div",{className:pe.a.pagination,children:Object(U.jsx)(Pe,{current:c,pageCount:d,total:s,onChange:T,requestStatus:l})})]}):Object(U.jsx)(i.a,{to:We.LOGIN})},_e=a(73),Ie=a.n(_e),we={requestStatus:"idle",error:"",cards:[],packUserId:"",cardsTotalCount:0,page:0,pageCount:10,sortParams:{question:"",answer:"",sortDirection:r.Down,propToSortBy:void 0,minGrade:0,maxGrade:5,page:1,pageCount:10}},Ae=function(e){return{type:"CARDS/SET-REQUEST-STATUS",requestStatus:e}},Ue=function(e){return{type:"CARDS/SET-ERROR",error:e}},Ne=function(e){return{type:"CARDS/SET-SORT-PARAMS",sortParams:e}},qe=function(e,t,a,r,n){return{type:"CARDS/SET-CARDS",cards:e,packUserId:t,page:a,cardsTotalCount:r,pageCount:n}},De=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(a,r){t&&a(Ne(t));var n=r().cards.sortParams;a(Ae("loading")),k(e,n).then((function(e){a(qe(e.data.cards,e.data.packUserId,e.data.page,e.data.cardsTotalCount,e.data.pageCount)),a(Ae("success"))})).catch((function(e){var t=e.response?e.response.data.error:e.message+", more details in the console";a(Ue(t)),a(Ae("failed"))}))}},Le=function(e){var t=e.cards,a=e.packId,n=e.packUserId,s=e.authUserId,c=e.requestStatus,o=Object(b.b)(),i=function(){o(function(e,t){return function(a){a(Ae("loading")),y(e,t).then((function(){a(De(e,t)),a(Ae("success"))})).catch((function(e){var t=e.response?e.response.data.error:e.message+", more details in the console";a(Ue(t)),a(Ae("failed"))}))}}(a))},u=function(e){o(function(e,t){return function(a){a(Ae("loading")),_(t).then((function(){a(De(e)),a(Ae("success"))})).catch((function(e){var t=e.response?e.response.data.error:e.message+", more details in the console";a(Ue(t)),a(Ae("failed"))}))}}(a,e))},d=function(e){o(function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;return function(n){n(Ae("loading")),I(t,a,r).then((function(){n(De(e)),n(Ae("success"))})).catch((function(e){var t=e.response?e.response.data.error:e.message+", more details in the console";n(Ue(t)),n(Ae("failed"))}))}}(a,e))},l=t.map((function(e){return{key:e._id,question:e.question,answer:e.answer,grade:e.grade,updated:e.updated,packId:e.cardsPack_id,buttons:{cardId:e._id,cardUserId:e.user_id}}})),j=[{title:"Question",dataIndex:"question",key:"question"},{title:"Answer",dataIndex:"answer",key:"answer"},{title:"Grade",dataIndex:"grade",key:"grade",sorter:!0},{title:"Last Update",dataIndex:"updated",key:"updated"},{title:"Pack ID",dataIndex:"packId",key:"packId"},{title:function(){return Object(U.jsx)("button",{onClick:i,disabled:n!==s,children:"Add"})},dataIndex:"buttons",key:"buttons",render:function(e){var t=e.cardId,a=e.cardUserId;return Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)("button",{onClick:function(){return u(t)},disabled:a!==s,children:"Delete"}),Object(U.jsx)("button",{onClick:function(){return d(t)},disabled:a!==s,children:"Update"})]})}}];return Object(U.jsx)(Ee.a,{columns:j,dataSource:l,onChange:function(e,t,n){"grade"===n.columnKey&&"ascend"===n.order?o(De(a,{sortDirection:r.Down,propToSortBy:"grade"})):"grade"===n.columnKey&&"descend"===n.order?o(De(a,{sortDirection:r.Up,propToSortBy:"grade"})):"grade"===n.columnKey&&void 0===n.order&&o(De(a,{sortDirection:r.Up,propToSortBy:"updated"}))},pagination:!1,style:{width:"100%"},size:"small",loading:"loading"===c})},Ge=function(){var e=Object(b.c)((function(e){return e.auth.isLoggedIn})),t=Object(b.c)((function(e){return e.auth._id})),a=Object(i.g)().packId,r=Object(b.c)((function(e){return e.cards.sortParams})),s=r.minGrade,c=r.maxGrade,o=Object(b.c)((function(e){return e.cards})),d=o.cards,l=o.packUserId,p=o.cardsTotalCount,O=o.page,g=o.pageCount,f=o.error,h=o.requestStatus,m=Object(b.c)((function(e){return e.packs.cardPacks})),S=Object(b.b)(),v=Object(n.useState)(""),x=Object(u.a)(v,2),T=x[0],C=x[1],R=Object(n.useState)(""),P=Object(u.a)(R,2),E=P[0],k=P[1];Object(n.useEffect)((function(){return e&&a&&S(De(a)),function(){S(qe([],"",0,0,0))}}),[]);var y=Object(n.useCallback)((function(e){var t=Object(u.a)(e,2),r=t[0],n=t[1];S(De(a,{minGrade:r,maxGrade:n}))}),[a,S]),_=Object(n.useCallback)((function(e,t){S(De(a,{page:e,pageCount:t}))}),[a,S]),I=m.some((function(e){return e._id===a}));return e?e&&!a||e&&!I?Object(U.jsx)(i.a,{to:We.PACKS}):Object(U.jsxs)("div",{className:Ie.a.cards,children:[Object(U.jsx)("h2",{children:Object(U.jsx)(j.b,{to:We.PACKS,activeClassName:Ie.a.active,children:"\u23f4 Packs"})}),Object(U.jsxs)("div",{className:Ie.a.filter,children:[Object(U.jsxs)("label",{children:["Search cards by question: ",Object(U.jsx)("input",{placeholder:"Press Enter to search",onKeyPress:function(e){"Enter"===e.key&&S(De(a,{question:E}))},value:E,onChange:function(e){return k(e.currentTarget.value)}})]}),Object(U.jsxs)("label",{children:["Search cards by answer: ",Object(U.jsx)("input",{placeholder:"Press Enter to search",onKeyPress:function(e){"Enter"===e.key&&S(De(a,{answer:T}))},value:T,onChange:function(e){return C(e.currentTarget.value)}})]}),Object(U.jsxs)("div",{className:Ie.a.rangeContainer,children:["Search cards by grade:",Object(U.jsx)(Ce,{minValue:s,maxValue:c,onValuesChange:y,maxRangeLimit:5})]})]}),f&&Object(U.jsx)("div",{className:Ie.a.error,children:f}),Object(U.jsx)(Le,{cards:d,packId:a,packUserId:l,authUserId:t,requestStatus:h}),Object(U.jsx)("div",{className:Ie.a.pagination,children:Object(U.jsx)(Pe,{current:O,pageCount:g,total:p,onChange:_,requestStatus:h})})]}):Object(U.jsx)(i.a,{to:We.LOGIN})},Fe={status:"idle",error:null,isInitialized:!1},Ke=function(e){return{type:"APP/SET-STATUS",status:e}},Be=function(e){return{type:"APP/SET-ERROR",error:e}},Ve=function(e){return{type:"APP/SET-INITIALIZED",isInitialized:e}},Qe=a(162),ze=a(70),We={LOGIN:"/login",REGISTER:"/register",FORGOT:"/forgot",SET_PASSWORD:"/set-new-password",PROFILE:"/profile",PACKS:"/packs",CARDS:"/cards"},He=function(){var e=Object(b.c)((function(e){return e.app.isInitialized})),t=Object(b.b)();Object(n.useEffect)((function(){t((function(e){e(Ke("loading")),f().then((function(t){e(F(t.data._id,t.data.email,t.data.name,t.data.avatar,!0)),e(Ke("success")),e(Ve(!0))})).catch((function(t){var a=t.response?t.response.data.error:t.message+", more details in the console";e(Be(a)),e(Ke("failed")),setTimeout((function(){e(Be(""))}),3e3),e(Ve(!0))}))}))}),[]);var a=Object(U.jsx)(ze.a,{style:{fontSize:24},spin:!0});return e?Object(U.jsxs)("div",{className:"App",children:[Object(U.jsx)(je,{}),Object(U.jsxs)(i.d,{children:[Object(U.jsx)(i.b,{exact:!0,path:["/","".concat(We.PROFILE)],render:function(){return Object(U.jsx)(ue,{})}}),Object(U.jsx)(i.b,{path:We.REGISTER,render:function(){return Object(U.jsx)(Z,{})}}),Object(U.jsx)(i.b,{path:We.FORGOT,render:function(){return Object(U.jsx)(N,{})}}),Object(U.jsx)(i.b,{path:"".concat(We.SET_PASSWORD,"/:token?"),render:function(){return Object(U.jsx)(ae,{})}}),Object(U.jsx)(i.b,{path:We.LOGIN,render:function(){return Object(U.jsx)(Q,{})}}),Object(U.jsx)(i.b,{path:We.PACKS,render:function(){return Object(U.jsx)(ye,{})}}),Object(U.jsx)(i.b,{path:"".concat(We.CARDS,"/:packId?"),render:function(){return Object(U.jsx)(Ge,{})}}),Object(U.jsx)(i.b,{path:"/404",render:function(){return Object(U.jsx)("h1",{children:"404: PAGE NOT FOUND"})}}),Object(U.jsx)(i.a,{from:"*",to:"/404"})]})]}):Object(U.jsx)("div",{style:{position:"fixed",top:"50%",textAlign:"center",width:"100%"},children:Object(U.jsx)(Qe.a,{indicator:a})})},Me=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,283)).then((function(t){var a=t.getCLS,r=t.getFID,n=t.getFCP,s=t.getLCP,c=t.getTTFB;a(e),r(e),n(e),s(e),c(e)}))},Je=a(118),Ze=a(164),$e={},Xe=Object(Je.b)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTH/SET-AUTH-USER-DATA":return Object(p.a)(Object(p.a)({},e),t.payload);case"AUTH/SET-REQUEST-STATUS":return Object(p.a)(Object(p.a)({},e),{},{requestStatus:t.requestStatus,error:"success"===t.requestStatus?"":e.error});case"AUTH/SET-ERROR":return Object(p.a)(Object(p.a)({},e),{},{error:t.error});default:return e}},register:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REGISTER/SUCCESS_REGISTER":return Object(p.a)(Object(p.a)({},e),{},{responseText:t.text});case"REGISTER/SET-REGISTRATION":return Object(p.a)(Object(p.a)({},e),{},{isRegistration:t.isRegistration,responseText:!0===e.isRegistration?"":e.responseText});default:return e}},forgot:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FORGOT/SET-REQUEST-STATUS":return Object(p.a)(Object(p.a)({},e),{},{requestStatus:t.requestStatus,error:"success"===t.requestStatus?"":e.error});case"FORGOT/SET-ERROR":return Object(p.a)(Object(p.a)({},e),{},{error:t.error,info:""});case"FORGOT/SET-INFO":return Object(p.a)(Object(p.a)({},e),{},{info:t.info,error:""});default:return e}},setPassword:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET-PASSWORD/SET-REQUEST-STATUS":return Object(p.a)(Object(p.a)({},e),{},{requestStatus:t.requestStatus,error:"success"===t.requestStatus?"":e.error});case"SET-PASSWORD/SET-ERROR":return Object(p.a)(Object(p.a)({},e),{},{error:t.error,info:""});case"SET-PASSWORD/SET-INFO":return Object(p.a)(Object(p.a)({},e),{},{info:t.info,error:""});default:return e}},profile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$e,t=arguments.length>1?arguments[1]:void 0;return t.type,e},packs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PACKS/SET-PACKS":return Object(p.a)(Object(p.a)({},e),{},{cardPacks:t.cardPacks,cardPacksTotalCount:t.cardPacksTotalCount,page:t.page,pageCount:t.pageCount});case"PACKS/SET-REQUEST-STATUS":return Object(p.a)(Object(p.a)({},e),{},{requestStatus:t.requestStatus,error:"success"===t.requestStatus?"":e.error});case"PACKS/SET-ERROR":return Object(p.a)(Object(p.a)({},e),{},{error:t.error});case"PACKS/SET-SORT-PARAMS":return Object(p.a)(Object(p.a)({},e),{},{sortParams:Object(p.a)(Object(p.a)({},e.sortParams),t.sortParams)});default:return e}},cards:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CARDS/SET-REQUEST-STATUS":return Object(p.a)(Object(p.a)({},e),{},{requestStatus:t.requestStatus,error:"success"===t.requestStatus?"":e.error});case"CARDS/SET-ERROR":return Object(p.a)(Object(p.a)({},e),{},{error:t.error});case"CARDS/SET-SORT-PARAMS":return Object(p.a)(Object(p.a)({},e),{},{sortParams:Object(p.a)(Object(p.a)({},e.sortParams),t.sortParams)});case"CARDS/SET-CARDS":return Object(p.a)(Object(p.a)({},e),{},{cards:t.cards,packUserId:t.packUserId,page:t.page,cardsTotalCount:t.cardsTotalCount,pageCount:t.pageCount});default:return e}},app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"APP/SET-STATUS":return Object(p.a)(Object(p.a)({},e),{},{status:t.status});case"APP/SET-ERROR":return Object(p.a)(Object(p.a)({},e),{},{error:t.error});case"APP/SET-INITIALIZED":return Object(p.a)(Object(p.a)({},e),{},{isInitialized:t.isInitialized});default:return e}}}),Ye=Object(Je.c)(Xe,Object(Je.a)(Ze.a));window.store=Ye,o.a.render(Object(U.jsx)(b.a,{store:Ye,children:Object(U.jsx)(j.a,{children:Object(U.jsx)(He,{})})}),document.getElementById("root")),Me()},58:function(e,t,a){e.exports={header:"Header_header__10VB5",active:"Header_active__3B1Kt"}},65:function(e,t,a){e.exports={packs:"Packs_packs__11aat",filter:"Packs_filter__3-7jv",rangeContainer:"Packs_rangeContainer__1utv6",error:"Packs_error__3ODBf",pagination:"Packs_pagination__3tqEx"}},66:function(e,t,a){e.exports={login:"Login_login__2ck6i",loading:"Login_loading__1oP3o",error:"Login_error__1oq8R"}},73:function(e,t,a){e.exports={cards:"Cards_cards__1nz5C",filter:"Cards_filter__3iNkp",rangeContainer:"Cards_rangeContainer__1ny9W",error:"Cards_error__2Xcy8",pagination:"Cards_pagination__34Qpn"}},85:function(e,t,a){e.exports={setPassword:"SetPassword_setPassword__ji0HF",loading:"SetPassword_loading__2N13G",error:"SetPassword_error__8FOW9"}},93:function(e,t,a){e.exports={forgot:"Forgot_forgot__3iT7N",loading:"Forgot_loading__2vdJ9",error:"Forgot_error__2B138"}}},[[276,1,2]]]);
//# sourceMappingURL=main.7f6eb21b.chunk.js.map