{"version":3,"sources":["features/Profile/Profile.module.css","features/Packs/Packs.module.css","features/Cards/Cards.module.css","features/Forgot/Forgot.module.css","features/Register/Register.module.css","features/SetPassword/SetPassword.module.css","features/Chat/Chat.module.css","features/Modals/DeleteItemModal/DeleteItemModal.module.css","common/DoubleRange/DoubleRange.module.css","features/MapPage/MapPage.module.css","common/styles/error.module.css","features/Learn/Learn.module.css","api/api.ts","features/Forgot/forgot-reducer.ts","features/Forgot/Forgot.tsx","features/Login/auth-reducer.ts","features/Login/Login.tsx","features/Register/register-reducer.ts","features/Register/Register.tsx","features/SetPassword/set-password-reducer.ts","features/SetPassword/SetPassword.tsx","common/FileUploader/FileUploader.tsx","common/Modal/Modal.tsx","features/Modals/DeleteItemModal/DeleteItemModal.tsx","api/social-api.ts","features/Users/users-reducer.ts","features/Packs/packs-reducer.ts","features/Modals/InputModal/InputModal.tsx","features/Packs/PacksTable.tsx","features/Paginator/Paginator.tsx","features/Profile/Profile.tsx","features/Chat/Chat.tsx","features/Header/Header.tsx","common/DoubleRange/DoubleRange.tsx","features/Packs/Packs.tsx","features/Cards/cards-reducer.ts","features/Cards/CardsTable.tsx","features/Cards/Cards.tsx","app/app-reducer.ts","utils/get-random-card.ts","features/Learn/Learn.tsx","features/Modals/ScrollUpModal/ScrollUpModal.tsx","assets/images/maria.jpeg","assets/images/leonid.jpg","assets/images/anton.png","preloader/TeamPresentation/TeamPresentation.tsx","api/files-api.ts","features/Files/files-reducer.ts","assets/images/mute.svg","features/Files/Video.tsx","features/Files/Files.tsx","features/Page404/Page404.tsx","assets/images/ghost.png","assets/images/shadow.png","features/Users/UsersList.tsx","features/Users/Users.tsx","config.ts","features/MapPage/RouteCalculator.tsx","utils/addAreaCalculationModule.ts","features/MapPage/FigurePainter.tsx","features/MapPage/MapPage.tsx","app/App.tsx","reportWebVitals.ts","app/store.ts","index.tsx","features/Files/Files.module.css","features/Page404/Page404.module.css","features/Login/Login.module.css","preloader/TeamPresentation/TeamPresentation.module.css","features/Users/Users.module.css","features/Modals/InputModal/InputModal.module.css","features/Header/Header.module.css"],"names":["module","exports","SortDirections","instance","axios","create","withCredentials","baseURL","authAPI","post","loginData","regData","delete","newUserData","put","email","from","message","resetPassData","packsAPI","params","nameToSearch","maxCardsCount","minCardsCount","page","pageCount","sortDirection","propToSortBy","userId","get","packName","sortPacks","min","max","user_id","name","isPrivate","deckCover","cardsPack","private","packId","_id","cardsAPI","question","answer","minGrade","maxGrade","cardsPack_id","cardQuestion","cardAnswer","sortCards","grade","shots","rating","answerImg","questionImg","questionVideo","answerVideo","type","card","cardId","comments","card_id","initialState","requestStatus","error","info","setRequestStatusAC","Forgot","useSelector","state","forgot","dispatch","useDispatch","useState","setEmail","className","style","loading","commonStyle","value","onChange","e","currentTarget","trim","onClick","then","res","data","catch","response","setErrorAC","sendEmailToResetPassTC","disabled","to","activeClassName","active","avatar","isLoggedIn","setAuthUserDataAC","payload","updateUserDataTC","newData","getState","auth","updatedUser","setTimeout","Login","formik","useFormik","validate","values","password","initialValues","rememberMe","onSubmit","PATH","PROFILE","handleSubmit","login","Item","notice","REGISTER","getFieldProps","errors","checked","color","responseText","isRegistration","setResponseTextAC","text","setRegistrationAC","Register","register","emailValue","setEmailValue","setPassword","confirmPassword","setConfirmPassword","errorPassword","setErrorPassword","clearError","placeholder","onKeyPress","length","err","requestRegister","SetPassword","token","useParams","password1","setPassword1","password2","setPassword2","localError","setLocalError","resetPasswordToken","FileUploader","React","memo","expectedFileType","children","inputRef","useRef","current","acceptOptions","multiple","accept","ref","display","reader","FileReader","formData","FormData","target","files","Blob","test","readAsDataURL","readAsText","imageURL","window","URL","createObjectURL","append","onloadend","epochDate","size","newBase64","result","base64","toString","fileURL","fileName","fileType","fileSize","toFixed","fileLastModified","lastModified","Date","toLocaleString","alert","click","Modal","enableBackground","backgroundOnClick","modalWidthPx","modalHeightPx","modalStyle","modalOnClick","show","top","left","position","width","height","background","opacity","zIndex","flexFlow","alignItems","justifyContent","backgroundColor","borderRadius","DeleteItemModal","itemToDelete","setShow","onDeleteBtnClick","deleteBlock","buttons","socket","require","socketIo","usersAPI","sortParams","userName","minPublicCardPacksCount","maxPublicCardPacksCount","sortUsers","users","usersTotalCount","undefined","currentUserData","setUsersAC","setSortParamsAC","getUsersTC","cardPacks","cardPacksTotalCount","Down","setPacksAC","getPacksTC","packs","InputModal","action","inputValues","inputLabels","filesToUpload","imageURLs","itemToInput","onSubmitClick","Array","initialEmptyFileData","initialFileData","url","setValues","fileData","setFileData","onImageUpload","useCallback","index","map","d","i","onDeleteImageClick","inputFormContainer","toUpperCase","slice","l","v","onChangeHandler","f","icon","UploadOutlined","previews","previewContainer","preview","backgroundImage","bin","DeleteTwoTone","fontSize","shape","ghost","PacksTable","authUserId","viewOnly","showAddItemModal","setShowAddItemModal","showDeleteItemModal","setShowDeleteItemModal","showUpdateItemModal","setShowUpdateItemModal","currentPackID","setCurrentPackID","currentPackName","setCurrentPackName","currentPackCover","setCurrentPackCover","onAddPackClick","onDeleteClick","isToBeDeleted","onUpdateClick","updatePackTC","p","key","cardsCount","updated","createdBy","user_name","packUserId","columns","title","dataIndex","sorter","render","record","PlusSquareTwoTone","EditTwoTone","CARDS","LEARN","dataSource","pagination","filters","columnKey","order","Up","tableLayout","Paginator","props","showQuickJumper","total","pageSize","pageSizeOptions","Profile","packsLoadingStatus","Paragraph","Typography","useEffect","user","getUserByIdTC","onImageEditorClick","onDeleteAvatarClick","onNewNameSubmit","newName","onPaginatorChange","profile","avatarContainer","src","UserOutlined","avatarButtons","right","editable","LOGIN","Chat","messagesRef","messages","setMessages","newMessageText","setNewMessageText","myName","setMyName","emit","console","log","on","initMessages","scrollTo","scrollHeight","onSendClick","chat","m","input","onEnter","Header","chatContent","header","HomeOutlined","content","trigger","placement","WechatOutlined","PACKS","BlockOutlined","FILES","CloudServerOutlined","USERS","TeamOutlined","MAP","CompassOutlined","LogoutOutlined","DoubleRange","minRangeLimit","maxRangeLimit","minValue","maxValue","onValuesChange","setMin","setMax","onSliderValuesChange","onMouseUpHandler","rangeBlock","range","draggableTrack","onAfterChange","tooltipVisible","Packs","searchByName","setSearchByName","onCardsCountChange","paginatorPage","filter","rangeContainer","cards","cardsTotalCount","setCardsAC","getCardsTC","CardsTable","currentCardID","setCurrentCardID","setQuestion","setAnswer","setQuestionImg","setAnswerImg","onAddCardClick","addCardTC","deleteCardTC","updateCardTC","c","Cards","history","useHistory","onGradeRangeChange","isPackFound","some","goBack","padding","lineHeight","status","isInitialized","setAppStatusAC","setAppErrorAC","setIsInitializedAC","getRandomCard","cardsCopy","totalSum","reduce","acc","random","Math","sum","Learn","showAnswer","setShowAnswer","isFirstCard","setIsFirstCard","currentPack","find","created","setCard","onGradeBtnClick","setNewGradeAC","updatedGrade","updateGradeTC","learn","section","dataset","data-grade","ScrollUpModal","addEventListener","handleScroll","pageYOffset","singleScrollLength","lastScrollPosition","timer","setInterval","clearInterval","scroll","border","boxShadow","cursor","TeamPresentation","teamPresentation","avatars","maria","leonid","anton","filesAPI","responseType","file","formatTime","seconds","minutes","floor","Video","videoRef","duration","setDuration","currentTime","setCurrentTime","volume","setVolume","isPaused","setIsPaused","showSpeedRates","setShowSpeedRates","formattedDuration","formattedCurrentTime","intervalId","play","pause","onCurrentTimeChange","onVolumeChange","onSpeedChange","playbackRate","volumeRate","margin","vertical","step","playbackSpeed","Group","defaultValue","direction","Button","video","videoControls","playBtn","PlaySquareOutlined","controlBtns","playAndTime","CaretRightOutlined","PauseOutlined","settings","overlayStyle","overlayInnerStyle","SoundOutlined","muteIcon","alt","visible","onVisibleChange","DashboardOutlined","requestFullscreen","FullscreenOutlined","Files","setBase64","setFileURL","setFileName","setFileLastModified","setFileSize","setFileType","newText","setNewText","showDownloadButton","setShowDownloadButton","onFileUpload","percent","strokeColor","strokeWidth","link","document","createElement","href","download","body","appendChild","removeChild","downloadUpdatedFile","blob","downloadUrl","setAttribute","remove","getFileTC","Page404","page404","bigError","ghostContainer","ghostWithShadow","shadow","errorTitle","errorDescription","UsersList","usersListContainer","renderItem","Meta","description","publicCardPacksCount","Users","onPacksCountChange","config","LengthCalculator","ymaps","route","routeLength","setRouteLength","setError","canceled","getHumanLength","replace","RouteCalculator","withYMaps","addAreaCalculationModule","modules","define","provide","RADIUS","polygonArea","coords","area","abs","ringArea","lowerIndex","middleIndex","upperIndex","p1","p2","coordsLength","longitude","meta","coordinatesOrder","latitude","rad","sin","_","PI","feature","geometry","coordinates","pow","radius","calculateJsonGeometryArea","getType","getCoordinates","getRadius","Error","getGeoJsonGeometry","Painter","stopDrawing","setCoordinates","setArea","polygonCenter","setPolygonCenter","calcModuleLoaded","setCalcModuleLoaded","ready","onVertexChange","util","bounds","getCenter","getBounds","newArea","round","calculateArea","draw","editor","startDrawing","events","add","instanceRef","options","editorDrawingCursor","fillColor","strokeOpacity","fillOpacity","properties","hintContent","iconCaption","preset","FigurePainter","MapPage","destination1","setDestination1","destination2","setDestination2","destinations","setDestinations","drawingMode","setDrawingMode","setStopDrawing","query","apikey","mapPage","center","zoom","float","maxWidth","bottom","selected","enabled","FORGOT","SET_PASSWORD","App","app","exact","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","rootReducer","combineReducers","store","createStore","applyMiddleware","thunk","ReactDOM","getElementById"],"mappings":"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","file":"static/js/main.3824dade.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"profile\":\"Profile_profile__OylV9\",\"loading\":\"Profile_loading__1TdAz\",\"avatarContainer\":\"Profile_avatarContainer__2g1TC\",\"avatarButtons\":\"Profile_avatarButtons__aCraQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"packs\":\"Packs_packs__11aat\",\"filter\":\"Packs_filter__3-7jv\",\"rangeContainer\":\"Packs_rangeContainer__1utv6\",\"pagination\":\"Packs_pagination__3tqEx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cards\":\"Cards_cards__1nz5C\",\"filter\":\"Cards_filter__3iNkp\",\"rangeContainer\":\"Cards_rangeContainer__1ny9W\",\"error\":\"Cards_error__2Xcy8\",\"pagination\":\"Cards_pagination__34Qpn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"forgot\":\"Forgot_forgot__3iT7N\",\"loading\":\"Forgot_loading__2vdJ9\",\"error\":\"Forgot_error__2B138\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"register\":\"Register_register__298wP\",\"info\":\"Register_info__16tKm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"setPassword\":\"SetPassword_setPassword__ji0HF\",\"loading\":\"SetPassword_loading__2N13G\",\"error\":\"SetPassword_error__8FOW9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"chat\":\"Chat_chat__1R7eC\",\"messages\":\"Chat_messages__Yf2-w\",\"input\":\"Chat_input__20lyl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"deleteBlock\":\"DeleteItemModal_deleteBlock__1Z1lq\",\"buttons\":\"DeleteItemModal_buttons__18GCg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"rangeBlock\":\"DoubleRange_rangeBlock__eFtuj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mapPage\":\"MapPage_mapPage__3zb0d\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"error\":\"error_error__yFEcl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"learn\":\"Learn_learn__14aic\",\"text\":\"Learn_text__1YGOt\",\"section\":\"Learn_section__2rsjK\",\"questionImg\":\"Learn_questionImg__1Ft_P\",\"answerImg\":\"Learn_answerImg__2dH7H\",\"deckCover\":\"Learn_deckCover__2fUe-\",\"buttons\":\"Learn_buttons__w58Zp\"};","import axios from 'axios'\r\n\r\nexport const instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: 'https://neko-back.herokuapp.com/2.0/'\r\n}) //перед каждым pushем на gitHub менять baseURL с http://localhost:7542/2.0/ на https://neko-back.herokuapp.com/2.0/ !\r\n\r\nexport const authAPI = {\r\n    me() { // проверка на залогиненность\r\n        return instance.post<AuthUserData>(`auth/me`)\r\n    },\r\n    login(loginData: LoginDataType) {\r\n        return instance.post<AuthUserData>(`auth/login`, loginData)\r\n    },\r\n    register(regData: RegDataType) {\r\n        return instance.post<{ addedUser: AuthUserData, error?: string }>(`auth/register`, regData)\r\n    },\r\n    logout() {\r\n        return instance.delete<ResponseType>(`auth/me`)\r\n    },\r\n    updateUserData(newUserData: NewUserDataType) { // обновление name или аватарки юзера\r\n        return instance.put<{ updatedUser: AuthUserData, error?: string }>(`auth/me`, newUserData)\r\n    },\r\n    sendEmailToResetPass(email: string) { // отправляем емайл, если забыл пароль, со страницы Forgot\r\n        return instance.post<ResponseType>(`auth/forgot`, {\r\n            email,\r\n            from: \"test-front-admin <ai73a@yandex.by>\",\r\n            message: `<div style=\"background-color: lime; padding: 15px\">\r\n                 password recovery link:\r\n                 <a href='http://marygrishchuk.github.io/cards-by-dream-team/#/set-new-password/$token$'>\r\n                 Reset Password</a></div>`\r\n        })\r\n    },\r\n    resetPassword(resetPassData: ResetPassDataType) { // отправка нового пароля со страницы Set New Password\r\n        return instance.post<ResponseType>(`auth/set-new-password`, resetPassData)\r\n    }\r\n}\r\n\r\nexport const packsAPI = {\r\n    getPacks(params: GetSortedPacksType = {}) { // получение колод\r\n        const {\r\n            nameToSearch, maxCardsCount, minCardsCount, page, pageCount, sortDirection = '', propToSortBy = '', userId\r\n        } = params\r\n        return instance.get<GetPackResponseType>(`cards/pack`, {params: {packName: nameToSearch,\r\n                sortPacks: sortDirection + propToSortBy, min: minCardsCount, max: maxCardsCount, page, pageCount,\r\n                user_id: userId}})\r\n    },\r\n    addPack(name?: string, isPrivate?: boolean, deckCover?: string) {  // добавление (создание) колоды\r\n        return instance.post<AddPackResponseType>(`cards/pack`, {cardsPack: {name, private: isPrivate, deckCover}})\r\n    },\r\n    deletePack(packId: string) { //удаление колоды\r\n        return instance.delete<DeletePackResponseType>(`cards/pack?id=${packId}`)\r\n    },\r\n    updatePack(packId: string, params: NewPackType = {}) { //изменение колоды\r\n        const {name, deckCover, private: isPrivate} = params\r\n        return instance.put<UpdatePackResponseType>(`cards/pack`, {cardsPack: {_id: packId, name, deckCover, isPrivate}})\r\n    },\r\n}\r\n\r\nexport const cardsAPI = {\r\n    getCards(packId: string, params: GetSortedCardsType = {}) { // получение карточек по id колоды\r\n        const {question, answer, sortDirection = '', propToSortBy = '', minGrade, maxGrade, page, pageCount} = params\r\n        return instance.get<GetCardsResponseType>(`cards/card`, {params: {cardsPack_id: packId, cardQuestion: question,\r\n                cardAnswer: answer, sortCards: sortDirection + propToSortBy, min: minGrade, max: maxGrade, page, pageCount}})\r\n    },\r\n    addCard(packId: string, params: NewCardDataType = {}) {  // добавление (создание) карточки\r\n        const {\r\n            question, answer, grade, shots, rating, answerImg, questionImg,\r\n            questionVideo, answerVideo, type\r\n        } = params\r\n        return instance.post<AddCardResponseType>(`cards/card`, {\r\n            card: {\r\n                cardsPack_id: packId, question, answer, grade, shots,\r\n                rating, answerImg, questionImg, questionVideo, answerVideo, type\r\n            }\r\n        })\r\n    },\r\n    deleteCard(cardId: string) { //удаление карточки\r\n        return instance.delete<DeleteCardResponseType>(`cards/card?id=${cardId}`)\r\n    },\r\n    updateCard(cardId: string, params: NewCardDataType = {}, comments?: string) { //изменение карточки\r\n        const {\r\n            question, answer, grade, shots, rating, answerImg, questionImg,\r\n            questionVideo, answerVideo, type\r\n        } = params\r\n        return instance.put<UpdateCardResponseType>(`cards/card`, {\r\n            card: {\r\n                _id: cardId, question, answer, grade, shots,\r\n                rating, answerImg, questionImg, questionVideo, answerVideo, type, comments\r\n            }\r\n        })\r\n    },\r\n    updateGrade(grade: number, card_id: string) {\r\n        return instance.put<UpdateGradeResponseType>(`cards/grade`, {grade, card_id})\r\n    }\r\n}\r\n\r\n//types\r\nexport type LoginDataType = {\r\n    email: string\r\n    password: string\r\n    rememberMe: boolean\r\n}\r\nexport type RegDataType = {\r\n    email: string\r\n    password: string\r\n}\r\nexport type NewUserDataType = {\r\n    name: string\r\n    avatar?: string\r\n}\r\nexport type ResetPassDataType = {\r\n    password: string\r\n    resetPasswordToken: string | undefined\r\n}\r\nexport type AuthUserData = {\r\n    _id: string\r\n    email: string\r\n    name: string\r\n    avatar?: string\r\n    publicCardPacksCount: number\r\n    created: Date\r\n    updated: Date\r\n    verified: boolean\r\n    rememberMe: boolean\r\n    error?: string\r\n}\r\nexport type ResponseType = {\r\n    info: string\r\n    error?: string\r\n}\r\n\r\nexport type GetPackResponseType = {\r\n    cardPacks: Array<PackDataType>\r\n    cardPacksTotalCount: number\r\n    maxCardsCount: number\r\n    minCardsCount: number\r\n    page: number\r\n    pageCount: number\r\n    token: string\r\n    tokenDeathTime: number\r\n\r\n}\r\n\r\nexport type PackDataType = {\r\n    _id: string\r\n    name: string\r\n    cardsCount: number\r\n    created: Date\r\n    updated: Date\r\n    user_id: string\r\n    user_name: string\r\n    deckCover: string\r\n    grade: number\r\n    path: string\r\n    private: boolean\r\n    rating: number\r\n    shots: number\r\n    type: string\r\n}\r\n\r\nexport type NewPackType = {\r\n    name?: string\r\n    deckCover?: string\r\n    private?: boolean\r\n}\r\n\r\nexport type AddPackResponseType = {\r\n    newCardsPack: PackDataType\r\n    token: string\r\n    tokenDeathTime: number\r\n}\r\nexport type DeletePackResponseType = {\r\n    deletedCardsPack: PackDataType\r\n    token: string\r\n    tokenDeathTime: number\r\n}\r\nexport type UpdatePackResponseType = {\r\n    updatedCardsPack: PackDataType\r\n    token: string\r\n    tokenDeathTime: number\r\n}\r\n\r\nexport type GetCardsResponseType = {\r\n    cards: Array<CardDataType>\r\n    cardsTotalCount: number\r\n    maxGrade: number\r\n    minGrade: number\r\n    page: number\r\n    pageCount: number\r\n    packUserId: string\r\n}\r\n\r\nexport type CardDataType = {\r\n    _id: string\r\n    question: string\r\n    answer: string\r\n    cardsPack_id: string\r\n    grade: number\r\n    rating: number\r\n    shots: number\r\n    type: string\r\n    user_id: string\r\n    created: Date\r\n    updated: Date\r\n    comments: string\r\n    answerImg: string\r\n    questionImg: string\r\n}\r\n\r\nexport enum SortDirections {\r\n    Up = 0,\r\n    Down = 1,\r\n}\r\n\r\nexport type GetSortedPacksType = {\r\n    nameToSearch?: string\r\n    minCardsCount?: number\r\n    maxCardsCount?: number\r\n    sortDirection?: SortDirections\r\n    propToSortBy?: \"name\" | \"cardsCount\" | \"updated\"\r\n    page?: number\r\n    pageCount?: number\r\n    userId?: string\r\n\r\n}\r\nexport type GetSortedCardsType = {\r\n    question?: string\r\n    answer?: string\r\n    sortDirection?: SortDirections\r\n    propToSortBy?: \"grade\" | \"updated\"\r\n    minGrade?: number\r\n    maxGrade?: number\r\n    page?: number\r\n    pageCount?: number\r\n}\r\n\r\nexport type NewCardDataType = {\r\n    question?: string\r\n    answer?: string\r\n    grade?: 0 | 1 | 2 | 3 | 4 | 5\r\n    shots?: number\r\n    rating?: number\r\n    answerImg?: string\r\n    questionImg?: string\r\n    questionVideo?: string\r\n    answerVideo?: string\r\n    type?: \"card\"\r\n}\r\n\r\nexport type AddCardResponseType = {\r\n    newCard: CardDataType\r\n    token: string\r\n    tokenDeathTime: number\r\n}\r\nexport type DeleteCardResponseType = {\r\n    deletedCard: CardDataType\r\n    token: string\r\n    tokenDeathTime: number\r\n}\r\nexport type UpdateCardResponseType = {\r\n    updatedCard: CardDataType\r\n    token: string\r\n    tokenDeathTime: number\r\n}\r\nexport type UpdateGradeResponseType = {\r\n    updatedGrade: UpdateGradeType\r\n}\r\nexport type UpdateGradeType = {\r\n    _id: string\r\n    cardsPack_id: string\r\n    card_id: string\r\n    user_id: string\r\n    grade: number\r\n    shots: number\r\n}","import {RequestStatusType} from \"../Login/auth-reducer\";\r\nimport {Dispatch} from \"redux\";\r\nimport {authAPI} from \"../../api/api\";\r\n\r\nconst initialState = {\r\n    requestStatus: 'idle' as RequestStatusType, //изначально статус запроса - \"неактивный\"\r\n    error: '',\r\n    info: ''\r\n}\r\n\r\nexport const forgotReducer = (state: InitialForgotStateType = initialState, action: ActionsType): InitialForgotStateType => {\r\n    switch (action.type) {\r\n        case 'FORGOT/SET-REQUEST-STATUS': {\r\n            return {\r\n                ...state,\r\n                requestStatus: action.requestStatus,\r\n                error: action.requestStatus === 'success'\r\n                    ? ''\r\n                    : state.error\r\n            }\r\n        }\r\n        case 'FORGOT/SET-ERROR': {\r\n            return {\r\n                ...state,\r\n                error: action.error,\r\n                info: ''\r\n            }\r\n        }\r\n        case 'FORGOT/SET-INFO': {\r\n            return {\r\n                ...state,\r\n                info: action.info,\r\n                error: ''\r\n            }\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n} // (при создании кейсов заменить \"action: any\" на общий тип actionов (ниже) \"action: ActionsType\")\r\n\r\n//action creators\r\nconst setRequestStatusAC = (requestStatus: RequestStatusType) => ({\r\n    type: 'FORGOT/SET-REQUEST-STATUS',\r\n    requestStatus\r\n} as const)\r\nconst setErrorAC = (error: string) => ({type: 'FORGOT/SET-ERROR', error} as const)\r\nconst setInfoAC = (info: string) => ({type: 'FORGOT/SET-INFO', info} as const)\r\n\r\n//thunk\r\nexport const sendEmailToResetPassTC = (email: string) => (dispatch: ThunkCustomDispatch) => {\r\n    dispatch(setRequestStatusAC('loading'))\r\n    authAPI.sendEmailToResetPass(email)\r\n        .then(res => {\r\n            dispatch(setInfoAC(res.data.info))\r\n            dispatch(setRequestStatusAC('success'))\r\n        })\r\n        .catch(e => {\r\n            const error = e.response\r\n                ? e.response.data.error\r\n                : (e.message + ', more details in the console')\r\n            dispatch(setErrorAC(error))\r\n            dispatch(setRequestStatusAC('failed'))\r\n        })\r\n}\r\n\r\n//types\r\nexport type InitialForgotStateType = typeof initialState\r\n//объединение типов actionов:\r\nexport type ActionsType =\r\n    | ReturnType<typeof setRequestStatusAC>\r\n    | ReturnType<typeof setErrorAC>\r\n    | ReturnType<typeof setInfoAC>\r\n// тип диспатча:\r\ntype ThunkCustomDispatch = Dispatch<ActionsType>","import React, {ChangeEvent, useState} from \"react\";\r\nimport style from \"./Forgot.module.css\"\r\nimport {NavLink} from \"react-router-dom\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {AppRootStateType} from \"../../app/store\";\r\nimport {InitialForgotStateType, sendEmailToResetPassTC} from \"./forgot-reducer\";\r\nimport commonStyle from \"../../common/styles/error.module.css\";\r\n\r\nexport const Forgot = () => {\r\n    const {requestStatus, error, info} = useSelector<AppRootStateType, InitialForgotStateType>(state => state.forgot)\r\n    const dispatch = useDispatch()\r\n\r\n    const [email, setEmail] = useState('')\r\n\r\n    const onEmailInput = (e: ChangeEvent<HTMLInputElement>) => {\r\n        setEmail(e.currentTarget.value.trim())\r\n    }\r\n    const onSendBtnClick = () => {\r\n        dispatch(sendEmailToResetPassTC(email))\r\n    }\r\n\r\n    return (\r\n        <div className={style.forgot}>\r\n            Please enter your email, and we'll send you a link to reset your password.\r\n            {requestStatus === 'loading'\r\n                ? <div className={style.loading}>loading...</div>\r\n                : info && <i>{info}</i>}\r\n            <div className={error && commonStyle.error}>{error}</div>\r\n            <input type=\"email\" value={email} onChange={onEmailInput}/>\r\n            <button onClick={onSendBtnClick} disabled={requestStatus === 'loading'}>Send</button>\r\n            <NavLink to=\"/login\" activeClassName={style.active}>Log in</NavLink>\r\n        </div>\r\n    );\r\n}","import {Dispatch} from \"redux\";\r\nimport {authAPI, LoginDataType} from \"../../api/api\";\r\nimport {ThunkDispatch} from \"redux-thunk\";\r\nimport {AppRootStateType} from \"../../app/store\";\r\n\r\nconst initialState = {\r\n    _id: \"\",\r\n    email: \"\",\r\n    name: \"\",\r\n    avatar: \"\" as string | undefined,\r\n    error: \"\",\r\n    isLoggedIn: false,\r\n    requestStatus: 'idle' as RequestStatusType //изначально статус запроса - \"неактивный\"\r\n}\r\n\r\nexport const authReducer = (state: InitialAuthStateType = initialState, action: ActionsType): InitialAuthStateType => {\r\n    switch (action.type) {\r\n        case 'AUTH/SET-AUTH-USER-DATA': {\r\n            return {\r\n                ...state,\r\n                ...action.payload\r\n            }\r\n        }\r\n        case 'AUTH/SET-REQUEST-STATUS': {\r\n            return {\r\n                ...state,\r\n                requestStatus: action.requestStatus,\r\n                error: action.requestStatus === 'success'\r\n                    ? ''\r\n                    : state.error\r\n            }\r\n        }\r\n        case 'AUTH/SET-ERROR': {\r\n            return {\r\n                ...state,\r\n                error: action.error\r\n            }\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n} // (при создании кейсов заменить \"action: any\" на общий тип actionов (ниже) \"action: ActionsType\")\r\n\r\n//action creators\r\nexport const setAuthUserDataAC = (_id: string, email: string, name: string, avatar: string | undefined, isLoggedIn: boolean) => ({\r\n    type: 'AUTH/SET-AUTH-USER-DATA',\r\n    payload: {_id, email, name, avatar, isLoggedIn}\r\n} as const)\r\nconst setRequestStatusAC = (requestStatus: RequestStatusType) => ({\r\n    type: 'AUTH/SET-REQUEST-STATUS',\r\n    requestStatus\r\n} as const)\r\n\r\nconst setErrorAC = (error: string) => ({type: 'AUTH/SET-ERROR', error} as const)\r\n\r\n\r\n//thunks\r\nexport const loginTC = (loginData: LoginDataType) => (dispatch: ThunkCustomDispatch) => {\r\n    dispatch(setRequestStatusAC('loading'))\r\n    authAPI.login(loginData)\r\n        .then((res) => {\r\n            dispatch(setAuthUserDataAC(res.data._id, res.data.email, res.data.name, res.data.avatar, true))\r\n            dispatch(setRequestStatusAC('success'))\r\n        })\r\n        .catch(e => {\r\n            const error = e.response\r\n                ? e.response.data.error\r\n                : (e.message + ', more details in the console')\r\n            dispatch(setErrorAC(error))\r\n            dispatch(setRequestStatusAC('failed'))\r\n            setTimeout(() => {\r\n                dispatch(setErrorAC(''))\r\n            }, 3000)\r\n        })\r\n}\r\n\r\nexport const logoutTC = () => (dispatch: ThunkCustomDispatch) => {\r\n    dispatch(setRequestStatusAC('loading'))\r\n    authAPI.logout()\r\n        .then(() => {\r\n            dispatch(setAuthUserDataAC(\"\", \"\", \"\", \"\", false))\r\n            dispatch(setRequestStatusAC('success'))\r\n        })\r\n        .catch(e => {\r\n            const error = e.response\r\n                ? e.response.data.error\r\n                : (e.message + ', more details in the console')\r\n            dispatch(setErrorAC(error))\r\n            dispatch(setRequestStatusAC('failed'))\r\n            setTimeout(() => {\r\n                dispatch(setErrorAC(''))\r\n            }, 3000)\r\n        })\r\n}\r\n\r\nexport const updateUserDataTC = (newData: { name?: string, avatar?: string }) => (dispatch: ThunkDispatch<AppRootStateType, void, ActionsType>,\r\n                                                                                  getState: () => AppRootStateType) => {\r\n    dispatch(setRequestStatusAC('loading'))\r\n    authAPI.updateUserData({\r\n        name: newData.name || getState().auth.name,\r\n        avatar: newData.avatar || getState().auth.avatar\r\n    })\r\n        .then(res => {\r\n            dispatch(setAuthUserDataAC(res.data.updatedUser._id, res.data.updatedUser.email,\r\n                res.data.updatedUser.name, res.data.updatedUser.avatar, getState().auth.isLoggedIn))\r\n            dispatch(setRequestStatusAC('success'))\r\n        })\r\n        .catch(e => {\r\n            const error = e.response\r\n                ? e.response.data.error\r\n                : (e.message + ', more details in the console')\r\n            dispatch(setErrorAC(error))\r\n            dispatch(setRequestStatusAC('failed'))\r\n            setTimeout(() => {\r\n                dispatch(setErrorAC(''))\r\n            }, 3000)\r\n        })\r\n}\r\n\r\n//types\r\nexport type InitialAuthStateType = typeof initialState\r\nexport type RequestStatusType = 'idle' | 'loading' | 'success' | 'failed'\r\n//объединение типов actionов:\r\nexport type ActionsType =\r\n    | ReturnType<typeof setAuthUserDataAC>\r\n    | ReturnType<typeof setRequestStatusAC>\r\n    | ReturnType<typeof setErrorAC>\r\n\r\n// тип диспатча:\r\ntype ThunkCustomDispatch = Dispatch<ActionsType>","import React from \"react\";\r\nimport style from \"./Login.module.css\"\r\nimport {NavLink, Redirect} from \"react-router-dom\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {AppRootStateType} from \"../../app/store\";\r\nimport {useFormik} from \"formik\";\r\nimport {InitialAuthStateType, loginTC} from \"./auth-reducer\";\r\nimport {PATH} from \"../../app/App\";\r\nimport {Form} from \"antd\";\r\nimport commonStyle from \"../../common/styles/error.module.css\";\r\n\r\n\r\nexport const Login = () => {\r\n\r\n    const dispatch = useDispatch()\r\n    const {isLoggedIn, requestStatus, error} = useSelector<AppRootStateType, InitialAuthStateType>(state => state.auth)\r\n\r\n    const formik = useFormik({\r\n        validate: (values) => {\r\n            if (!values.email) {\r\n                return {\r\n                    email: \"Email is required\"\r\n                }\r\n            }\r\n            if (!values.password) {\r\n                return {\r\n                    password: \"Password is required\"\r\n                }\r\n            }\r\n        },\r\n        initialValues: {\r\n            email: '',\r\n            password: '',\r\n            rememberMe: false\r\n        },\r\n        onSubmit: values => {\r\n            dispatch(loginTC(values))\r\n        },\r\n    })\r\n\r\n    if (isLoggedIn) {\r\n        return <Redirect to={PATH.PROFILE}/>\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <form onSubmit={formik.handleSubmit}>\r\n\r\n                <div className={style.login}>\r\n                    <Form.Item className={style.notice}>\r\n                        <p>To log in, please get registered\r\n                            <NavLink to={PATH.REGISTER} activeClassName={style.active}> here,</NavLink>\r\n                        </p>\r\n                        <p>or please use common test account credentials:</p>\r\n                        <p>Email: nya-admin@nya.nya</p>\r\n                        <p>Password: 1qazxcvBG</p>\r\n                    </Form.Item>\r\n                    {requestStatus === 'loading' && <div className={style.loading}>loading...</div>}\r\n                    <div className={error && commonStyle.error}>{error}</div>\r\n                    <label>Email</label>\r\n                    <input type=\"email\" {...formik.getFieldProps(\"email\")}/>\r\n                    {formik.errors.email ? <div className={style.error}>{formik.errors.email}</div> : null}\r\n\r\n                    <label>Password</label>\r\n                    <input type=\"password\" {...formik.getFieldProps(\"password\")}/>\r\n                    {formik.errors.password ? <div className={style.error}>{formik.errors.password}</div> : null}\r\n\r\n                    <NavLink to=\"/forgot\" activeClassName={style.active}>Forgot password?</NavLink>\r\n\r\n                    <label>Remember Me<input type=\"checkbox\" {...formik.getFieldProps(\"rememberMe\")}\r\n                                             checked={formik.values.rememberMe}/></label>\r\n\r\n                    <button type={'submit'} color={'primary'}>Login</button>\r\n                    <NavLink to=\"/register\" activeClassName={style.active}>Registration</NavLink>\r\n                </div>\r\n            </form>\r\n        </div>\r\n\r\n    )\r\n}","import {authAPI, RegDataType} from \"../../api/api\";\r\nimport {Dispatch} from \"redux\";\r\n\r\n\r\nconst initialState = {\r\n    responseText: '', //used for errors as well\r\n    isRegistration: false\r\n}\r\n\r\nexport const registerReducer = (state: RegisterStateType = initialState, action: ActionsType): RegisterStateType => {\r\n    switch (action.type) {\r\n        case \"REGISTER/SET-RESPONSE-TEXT\": {\r\n            return {...state, responseText: action.text}\r\n        }\r\n        case \"REGISTER/SET-REGISTRATION\": {\r\n            return {\r\n                ...state, isRegistration: action.isRegistration,\r\n                responseText: action.isRegistration ? '' : state.responseText\r\n            }\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\n//action creators\r\nconst setResponseTextAC = (text: string) => ({type: 'REGISTER/SET-RESPONSE-TEXT', text} as const)\r\nconst setRegistrationAC = (isRegistration: boolean) => ({type: 'REGISTER/SET-REGISTRATION', isRegistration} as const)\r\n\r\n//thunks\r\nexport const requestRegister = (regData: RegDataType) => (dispatch: ThunkCustomDispatch) => {\r\n    authAPI.register(regData)\r\n        .then(() => {\r\n            dispatch(setResponseTextAC('success'))\r\n\r\n            setTimeout(() => {\r\n                dispatch(setRegistrationAC(true))\r\n                dispatch(setRegistrationAC(false))\r\n            }, 1000)\r\n\r\n        })\r\n        .catch((err) => {\r\n\r\n            dispatch(setResponseTextAC(err.response.data.error))\r\n            setTimeout(() => {\r\n                dispatch(setResponseTextAC(''))\r\n            }, 3000)\r\n        })\r\n}\r\n//types\r\nexport type RegisterStateType = typeof initialState\r\n//объединение типов actionов:\r\ntype ActionsType = ReturnType<typeof setResponseTextAC> | ReturnType<typeof setRegistrationAC>\r\n// тип кастомного диспатча:\r\ntype ThunkCustomDispatch = Dispatch<ActionsType>","import React, {useState} from \"react\";\r\nimport style from \"./Register.module.css\";\r\nimport {NavLink, Redirect} from \"react-router-dom\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {requestRegister} from \"./register-reducer\";\r\nimport {AppRootStateType} from \"../../app/store\";\r\nimport commonStyle from \"../../common/styles/error.module.css\";\r\n\r\nexport const Register = () => {\r\n    const text = useSelector<AppRootStateType, string>(state => state.register.responseText)\r\n    const isRegistration = useSelector<AppRootStateType, boolean>(state => state.register.isRegistration)\r\n\r\n    const dispatch = useDispatch()\r\n    const [emailValue, setEmailValue] = useState('')\r\n    const [password, setPassword] = useState('')\r\n    const [confirmPassword, setConfirmPassword] = useState('')\r\n    const [errorPassword, setErrorPassword] = useState('')\r\n\r\n    const regData = {email: emailValue, password: password}\r\n    const setRegister = () => {\r\n        if (password === confirmPassword && password.length >= 8) {\r\n            dispatch(requestRegister(regData))\r\n        } else if (password !== confirmPassword) {\r\n            setErrorPassword(\"Passwords don't match.\")\r\n        } else if (password.length < 8 || confirmPassword.length < 8) {\r\n            setErrorPassword(\"Password must contain at least 8 characters.\")\r\n        }\r\n    }\r\n    const clearError = () => {\r\n        setErrorPassword('')\r\n    }\r\n\r\n\r\n    if (isRegistration) {\r\n        return <Redirect to={'/login'}/>\r\n    }\r\n\r\n    return (\r\n        <div className={style.register}>\r\n            {errorPassword && <div className={errorPassword && commonStyle.error}>{errorPassword}</div>}\r\n            {text && <h3 className={text !== 'success' ? commonStyle.error : style.info}>{text}</h3>}\r\n            <p>Please enter your correct email and</p>\r\n            <p>create a password to register:</p>\r\n            <input type=\"email\" placeholder={'email'} onChange={(e) => setEmailValue(e.currentTarget.value)}\r\n                   onKeyPress={clearError}/>\r\n            <input type=\"password\" placeholder={'password'} onChange={(e) => setPassword(e.currentTarget.value)}\r\n                   onKeyPress={clearError}/>\r\n            <input type=\"password\" placeholder={'confirm password'} onKeyPress={clearError}\r\n                   onChange={(e) => setConfirmPassword(e.currentTarget.value)}/>\r\n            <button onClick={setRegister}>Register</button>\r\n            <NavLink to=\"/login\" activeClassName={style.active}>Log in</NavLink>\r\n        </div>\r\n    );\r\n}","import {authAPI} from \"../../api/api\";\r\nimport {Dispatch} from \"redux\";\r\nimport {RequestStatusType} from \"../Login/auth-reducer\";\r\n\r\nconst initialState = {\r\n    requestStatus: 'idle' as RequestStatusType, //изначально статус запроса - \"неактивный\"\r\n    error: '',\r\n    info: ''\r\n}\r\n\r\nexport const setPasswordReducer = (state: SetPasswordStateType = initialState, action: ActionsType): SetPasswordStateType => {\r\n    switch (action.type) {\r\n        case 'SET-PASSWORD/SET-REQUEST-STATUS': {\r\n            return {\r\n                ...state,\r\n                requestStatus: action.requestStatus,\r\n                error: action.requestStatus === 'success'\r\n                    ? ''\r\n                    : state.error\r\n            }\r\n        }\r\n        case 'SET-PASSWORD/SET-ERROR': {\r\n            return {\r\n                ...state,\r\n                error: action.error,\r\n                info: ''\r\n            }\r\n        }\r\n        case 'SET-PASSWORD/SET-INFO': {\r\n            return {\r\n                ...state,\r\n                info: action.info,\r\n                error: ''\r\n            }\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n} // (при создании кейсов заменить \"action: any\" на общий тип actionов (ниже) \"action: ActionsType\")\r\n\r\n//action creators\r\nconst setRequestStatusAC = (requestStatus: RequestStatusType) => ({\r\n    type: 'SET-PASSWORD/SET-REQUEST-STATUS',\r\n    requestStatus\r\n} as const)\r\nconst setErrorAC = (error: string) => ({type: 'SET-PASSWORD/SET-ERROR', error} as const)\r\nconst setInfoAC = (info: string) => ({type: 'SET-PASSWORD/SET-INFO', info} as const)\r\n\r\n//thunk\r\nexport const resetPasswordTC = (password: string, resetPasswordToken: string | undefined) => (dispatch: ThunkCustomDispatch) => {\r\n    dispatch(setRequestStatusAC('loading'))\r\n    authAPI.resetPassword({password, resetPasswordToken})\r\n        .then(res => {\r\n            dispatch(setInfoAC(res.data.info))\r\n            dispatch(setRequestStatusAC('success'))\r\n        })\r\n        .catch(e => {\r\n            const error = e.response\r\n                ? e.response.data.error\r\n                : (e.message + ', more details in the console')\r\n            dispatch(setErrorAC(error))\r\n            dispatch(setRequestStatusAC('failed'))\r\n            setTimeout(() => {\r\n                dispatch(setErrorAC(''))\r\n            }, 3000)\r\n        })\r\n}\r\n\r\n//types\r\nexport type SetPasswordStateType = typeof initialState\r\n//объединение типов actionов:\r\nexport type ActionsType =\r\n    | ReturnType<typeof setRequestStatusAC>\r\n    | ReturnType<typeof setErrorAC>\r\n    | ReturnType<typeof setInfoAC>\r\n// тип диспатча:\r\ntype ThunkCustomDispatch = Dispatch<ActionsType>","import React, {ChangeEvent, useState} from \"react\";\r\nimport style from \"./SetPassword.module.css\";\r\nimport {NavLink, Redirect, useParams} from \"react-router-dom\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {AppRootStateType} from \"../../app/store\";\r\nimport {resetPasswordTC, SetPasswordStateType} from \"./set-password-reducer\";\r\nimport commonStyle from \"../../common/styles/error.module.css\";\r\n\r\nexport const SetPassword = () => {\r\n    const {requestStatus, error, info} = useSelector<AppRootStateType, SetPasswordStateType>(state => state.setPassword)\r\n    const dispatch = useDispatch()\r\n    const {token} = useParams<{ token?: string }>()\r\n\r\n    const [password1, setPassword1] = useState('')\r\n    const [password2, setPassword2] = useState('')\r\n    const [localError, setLocalError] = useState('')\r\n\r\n    const onPassword1Input = (e: ChangeEvent<HTMLInputElement>) => {\r\n        setPassword1(e.currentTarget.value)\r\n    }\r\n    const onPassword2Input = (e: ChangeEvent<HTMLInputElement>) => {\r\n        setPassword2(e.currentTarget.value)\r\n    }\r\n    const onSubmit = () => {\r\n        if (password1 === password2 && password1.length >= 8) {\r\n            dispatch(resetPasswordTC(password1, token))\r\n        } else if (password1 !== password2) {\r\n            setLocalError(\"Passwords don't match.\")\r\n        } else if (password1.length < 8 || password2.length < 8) {\r\n            setLocalError(\"Password must contain at least 8 characters.\")\r\n        }\r\n    }\r\n    if (requestStatus === 'success') return <Redirect to={'/login'}/>\r\n\r\n    return (\r\n        <div className={style.setPassword}>\r\n            Please enter your new password in each field.\r\n            {requestStatus === 'loading'\r\n                ? <div className={style.loading}>loading...</div>\r\n                : info && <i>{info}</i>}\r\n            <div className={error && commonStyle.error}>{error}</div>\r\n            {localError && !error && <div className={commonStyle.error}>{localError}</div>}\r\n            <input type=\"password\" value={password1} onChange={onPassword1Input}\r\n                   onKeyPress={() => setLocalError(\"\")}/>\r\n            <input type=\"password\" value={password2} onChange={onPassword2Input}\r\n                   onKeyPress={() => setLocalError(\"\")}/>\r\n            <button onClick={onSubmit} disabled={requestStatus === 'loading'}>Submit</button>\r\n            <NavLink to=\"/login\" activeClassName={style.active}>Log in</NavLink>\r\n        </div>\r\n    );\r\n}","import React, {ChangeEvent, CSSProperties, useRef} from \"react\";\r\nimport {Button} from \"antd\";\r\n\r\nconst getLastModifiedDate = (epochDate: number) => {\r\n    let date = new Date(epochDate);\r\n    return date.toLocaleString()\r\n}\r\n\r\nconst getFileSize = (size: number) => {\r\n    if (size < 1024) {\r\n        return size + ' bytes'\r\n    } else if (size > 1024 && size < 1048576) {\r\n        return (size / 1024).toFixed(2) + 'KB'\r\n    } else if (size > 1048576) {\r\n        return (size / 1048576).toFixed(2) + 'MB'\r\n    }\r\n}\r\n\r\nexport type UploadedFileDataType = {\r\n    //base64 содержит base64 файла либо текст файла, если файл текстовый (получаем из reader.result)\r\n    base64: string\r\n    fileURL: string\r\n    fileName: string\r\n    fileType: string\r\n    fileSize?: string\r\n    fileLastModified: string\r\n    formData: FormData\r\n}\r\n\r\ntype FileUploaderPropsType = {\r\n    style?: CSSProperties\r\n    onClick: (fileData: UploadedFileDataType) => void\r\n    expectedFileType?: \"image\" | \"video\" | \"audio\" | \"text\"\r\n}\r\n\r\nexport const FileUploader: React.FC<FileUploaderPropsType> = React.memo(({\r\n                                                                             style,\r\n                                                                             onClick,\r\n                                                                             expectedFileType,\r\n                                                                             children\r\n                                                                         }) => {\r\n    const inputRef = useRef<HTMLInputElement>(null)\r\n    //при каждой отрисовке зачищаем value inputa, чтобы onChange вызывался, даже если выбираем тот же файл снова\r\n    if (inputRef.current) inputRef.current.value = ''\r\n\r\n    const uploadFile = (e: ChangeEvent<HTMLInputElement>) => {\r\n        const reader = new FileReader()\r\n        const formData = new FormData()\r\n        if (e.target.files !== null && e.target.files[0] instanceof Blob) {\r\n            // получаем base64 файла, необходимый для его отправки на сервер:\r\n            if (!/text\\/.+/.test(e.target.files[0].type)) reader.readAsDataURL(e.target.files[0])\r\n            // получаем текст файла, необходимый для отображения, если файл текстовый:\r\n            if (/text\\/.+/.test(e.target.files[0].type)) reader.readAsText(e.target.files[0])\r\n            // получаем url файла, необходимый для его предпросмотра до отправки на сервер:\r\n            const imageURL = window.URL.createObjectURL(e.target.files[0])\r\n            // получаем весь файл для отправки на второй сервер для файлов:\r\n            formData.append('myFile', e.target.files[0], e.target.files[0].name)\r\n            reader.onloadend = () => {\r\n                const newBase64 = reader.result\r\n                if (e.target.files && e.target.files[0].size < 2097152) {\r\n                    if (newBase64) onClick({\r\n                        base64: newBase64.toString(),\r\n                        fileURL: imageURL,\r\n                        fileName: e.target.files[0].name,\r\n                        fileType: e.target.files[0].type,\r\n                        fileSize: getFileSize(e.target.files[0].size),\r\n                        fileLastModified: getLastModifiedDate(e.target.files[0].lastModified),\r\n                        formData: formData\r\n                    })\r\n                } else if (e.target.files && e.target.files[0].size > 2097152) {\r\n                    alert('File size should be less than 2MB.')\r\n                }\r\n            }\r\n        } else return\r\n    }\r\n//в зависимости от expectedFileType в пропсах, выбираем, какой формат файлов подсказывать юзеру для выгрузки\r\n    const acceptOptions = expectedFileType === 'image'\r\n        ? 'image/*'\r\n        : expectedFileType === 'video'\r\n            ? 'video/*'\r\n            : expectedFileType === 'text'\r\n                ? '.txt, .doc, .docx, application/msword'\r\n                : expectedFileType === 'audio'\r\n                    ? 'audio/*'\r\n                    : ''\r\n\r\n    return <span style={{...style}}>\r\n        <input type=\"file\" multiple={false} accept={acceptOptions} ref={inputRef} style={{display: 'none'}}\r\n               onChange={uploadFile}/>\r\n        <Button onClick={() => {inputRef && inputRef.current && inputRef.current.click()}} type={'link'}>\r\n            {/*внешний вид кнопки будет любым в зависимости от переданного childrena*/}\r\n            {children}\r\n        </Button>\r\n    </span>\r\n})\r\n","import React, {CSSProperties} from \"react\";\r\n\r\ntype ModalPropsType = {\r\n    enableBackground?: boolean\r\n    backgroundOnClick?: () => void\r\n    modalWidthPx: number\r\n    modalHeightPx: number\r\n    modalStyle?: CSSProperties\r\n    modalOnClick?: () => void\r\n    show: boolean\r\n}\r\n\r\nexport const Modal: React.FC<ModalPropsType> = React.memo((\r\n    {\r\n        enableBackground,\r\n        backgroundOnClick = () => {},\r\n        modalWidthPx,\r\n        modalHeightPx,\r\n        modalStyle,\r\n        modalOnClick = () => {},\r\n        show,\r\n        children,\r\n    }\r\n) => {\r\n    const top = `calc(50vh - ${modalHeightPx / 2}px)`\r\n    const left = `calc(50vw - ${modalWidthPx / 2}px)`\r\n\r\n    if (!show) return null;\r\n\r\n    return (\r\n        <>\r\n            {enableBackground && <div\r\n                style={{\r\n                    position: 'fixed',\r\n                    top: '0px',\r\n                    left: '0px',\r\n                    width: '100vw',\r\n                    height: '100vh',\r\n                    background: 'black',\r\n                    opacity: 0.6,\r\n                    zIndex: 20,\r\n                }}\r\n                onClick={backgroundOnClick}\r\n            />}\r\n            <div\r\n                style={{\r\n                    position: 'fixed',\r\n                    top,\r\n                    left,\r\n                    width: modalWidthPx,\r\n                    height: modalHeightPx,\r\n                    display: 'flex',\r\n                    flexFlow: 'column',\r\n                    alignItems: 'center',\r\n                    justifyContent: 'center',\r\n                    backgroundColor: '#fafafa',\r\n                    borderRadius: '2px',\r\n                    zIndex: 21,\r\n                    ...modalStyle,\r\n                }}\r\n                onClick={modalOnClick}\r\n            >\r\n                {children}\r\n            </div>\r\n        </>\r\n    )\r\n})","import React from \"react\";\r\nimport style from \"./DeleteItemModal.module.css\";\r\nimport {Modal} from \"../../../common/Modal/Modal\";\r\n\r\ntype DeleteItemModalPropsType = {\r\n    itemToDelete: 'pack' | 'card' | 'image'\r\n    show: boolean\r\n    setShow: (show: boolean) => void\r\n    onDeleteBtnClick: (isToBeDeleted: boolean) => void\r\n}\r\n\r\nexport const DeleteItemModal: React.FC<DeleteItemModalPropsType> = React.memo(({\r\n                                                                                   itemToDelete,\r\n                                                                                   show,\r\n                                                                                   setShow,\r\n                                                                                   onDeleteBtnClick\r\n                                                                               }) => {\r\n\r\n    return <Modal enableBackground modalHeightPx={250} modalWidthPx={395} show={show}\r\n                  backgroundOnClick={() => setShow(false)}>\r\n        <div className={style.deleteBlock}>\r\n            <h4>Are you sure you want to delete this {itemToDelete}?</h4>\r\n            <div className={style.buttons}>\r\n                <button onClick={() => onDeleteBtnClick(true)}>Yes</button>\r\n                <button onClick={() => setShow(false)}>No</button>\r\n            </div>\r\n        </div>\r\n    </Modal>\r\n})\r\n","import {instance, SortDirections} from \"./api\";\r\n\r\nconst socketIo = require('socket.io-client');\r\n\r\n//websocket для чата\r\nexport const socket = socketIo(\"https://neko-back.herokuapp.com/\")\r\n\r\nexport const usersAPI = {\r\n    getUsers(sortParams: UsersSortParamsType = {}) { // получение userов\r\n        const {userName, minPublicCardPacksCount, maxPublicCardPacksCount, sortDirection = '', propToSortBy = '',\r\n            page, pageCount} = sortParams\r\n        return instance.get<GetUsersResponseType>(`social/users`, {params: {userName, min: minPublicCardPacksCount,\r\n                max: maxPublicCardPacksCount, sortUsers: sortDirection + propToSortBy, page, pageCount}})\r\n    },\r\n    getUserByID(userId: string) {  // получение userа по ID\r\n        return instance.get<GetUserByIDResponseType>(`social/user?id=${userId}`)\r\n    }\r\n}\r\n\r\n//types\r\nexport type GetUsersResponseType = {\r\n    users: Array<UserType>\r\n    maxPublicCardPacksCount: number\r\n    minPublicCardPacksCount: number\r\n    page: number\r\n    pageCount: number\r\n    usersTotalCount: number\r\n}\r\n\r\nexport type UserType = {\r\n    avatar: string\r\n    created: string\r\n    email: string\r\n    isAdmin: boolean\r\n    name: string\r\n    publicCardPacksCount: number\r\n    updated: string\r\n    verified: boolean\r\n    _id: string\r\n}\r\n\r\nexport type UsersSortParamsType = {\r\n    userName?: string\r\n    minPublicCardPacksCount?: number\r\n    maxPublicCardPacksCount?: number\r\n    sortDirection?: SortDirections\r\n    propToSortBy?: string\r\n    page?: number\r\n    pageCount?: number\r\n}\r\ntype GetUserByIDResponseType = {\r\n    user: UserType\r\n}","import {Dispatch} from \"redux\";\r\nimport {RequestStatusType} from \"../Login/auth-reducer\";\r\nimport {AppRootStateType} from \"../../app/store\";\r\nimport {GetUsersResponseType, usersAPI, UsersSortParamsType, UserType} from \"../../api/social-api\";\r\n\r\n\r\nconst initialState = {\r\n    users: [] as Array<UserType>,\r\n    minPublicCardPacksCount: 0,\r\n    maxPublicCardPacksCount: 100,\r\n    page: 1,\r\n    pageCount: 10,\r\n    usersTotalCount: 0,\r\n    requestStatus: 'idle' as RequestStatusType,\r\n    error: \"\",\r\n    sortParams: {\r\n        userName: '',\r\n        minPublicCardPacksCount: 0,\r\n        maxPublicCardPacksCount: 100,\r\n        sortDirection: undefined,\r\n        propToSortBy: '',\r\n        page: undefined,\r\n        pageCount: undefined\r\n    } as UsersSortParamsType,\r\n    currentUserData: {\r\n        _id: \"\",\r\n        email: \"\",\r\n        name: \"\",\r\n        avatar: \"\"\r\n    }\r\n}\r\n\r\nexport const usersReducer = (state = initialState, action: ActionsType): UsersStateType => {\r\n    switch (action.type) {\r\n        case 'USERS/SET-USERS': {\r\n            return {\r\n                ...state,\r\n                ...action.payload\r\n            }\r\n        }\r\n        case 'USERS/SET-REQUEST-STATUS': {\r\n            return {\r\n                ...state,\r\n                requestStatus: action.requestStatus,\r\n                error: action.requestStatus === 'success'\r\n                    ? ''\r\n                    : state.error\r\n            }\r\n        }\r\n        case 'USERS/SET-ERROR': {\r\n            return {\r\n                ...state,\r\n                error: action.error\r\n            }\r\n        }\r\n        case 'USERS/SET-SORT-PARAMS': {\r\n            return {\r\n                ...state,\r\n                sortParams: {...state.sortParams, ...action.sortParams}\r\n            }\r\n        }\r\n        case 'USERS/SET-CURRENT-USER-DATA': {\r\n            return {\r\n                ...state,\r\n                currentUserData: {...action.payload}\r\n            }\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\n//action creators\r\nexport const setUsersAC = (payload: GetUsersResponseType) => ({type: 'USERS/SET-USERS', payload} as const)\r\nconst setRequestStatusAC = (requestStatus: RequestStatusType) => ({\r\n    type: 'USERS/SET-REQUEST-STATUS',\r\n    requestStatus\r\n} as const)\r\n\r\nconst setErrorAC = (error: string) => ({type: 'USERS/SET-ERROR', error} as const)\r\nconst setSortParamsAC = (sortParams: UsersSortParamsType) => ({type: 'USERS/SET-SORT-PARAMS', sortParams} as const)\r\nexport const setCurrentUserDataAC = (_id: string, email: string, name: string, avatar: string) => ({\r\n    type: 'USERS/SET-CURRENT-USER-DATA',\r\n    payload: {_id, email, name, avatar}\r\n} as const)\r\n\r\n//thunk\r\nexport const getUsersTC = (params: UsersSortParamsType = {}) => (dispatch: ThunkCustomDispatch, getState: () => AppRootStateType) => {\r\n    if (params) dispatch(setSortParamsAC(params))\r\n    const sortParams = getState().users.sortParams\r\n    dispatch(setRequestStatusAC('loading'))\r\n    usersAPI.getUsers(sortParams)\r\n        .then(res => {\r\n            let payload = {\r\n                users: res.data.users,\r\n                maxPublicCardPacksCount: res.data.maxPublicCardPacksCount,\r\n                minPublicCardPacksCount: res.data.minPublicCardPacksCount,\r\n                page: res.data.page,\r\n                pageCount: res.data.pageCount,\r\n                usersTotalCount: res.data.usersTotalCount,\r\n            }\r\n            dispatch(setUsersAC(payload))\r\n            dispatch(setRequestStatusAC('success'))\r\n\r\n        })\r\n        .catch(e => {\r\n            const error = e.response\r\n                ? e.response.data.error\r\n                : (e.message + ', more details in the console')\r\n            dispatch(setErrorAC(error))\r\n            dispatch(setRequestStatusAC('failed'))\r\n        })\r\n}\r\n\r\nexport const getUserByIdTC = (userId: string) => (dispatch: ThunkCustomDispatch) => {\r\n    dispatch(setRequestStatusAC('loading'))\r\n    usersAPI.getUserByID(userId)\r\n        .then((res) => {\r\n            dispatch(setCurrentUserDataAC(res.data.user._id, res.data.user.email, res.data.user.name, res.data.user.avatar))\r\n            dispatch(setRequestStatusAC('success'))\r\n        })\r\n        .catch(e => {\r\n            const error = e.response\r\n                ? e.response.data.error\r\n                : (e.message + ', more details in the console')\r\n            dispatch(setErrorAC(error))\r\n            dispatch(setRequestStatusAC('failed'))\r\n        })\r\n}\r\n\r\n//types\r\nexport type UsersStateType = typeof initialState\r\n//объединение типов actionов:\r\nexport type ActionsType =\r\n    | ReturnType<typeof setUsersAC>\r\n    | ReturnType<typeof setRequestStatusAC>\r\n    | ReturnType<typeof setErrorAC>\r\n    | ReturnType<typeof setSortParamsAC>\r\n    | ReturnType<typeof setCurrentUserDataAC>\r\n\r\n\r\n// тип диспатча:\r\ntype ThunkCustomDispatch = Dispatch<ActionsType>","import {GetSortedPacksType, NewPackType, PackDataType, packsAPI, SortDirections} from \"../../api/api\";\r\nimport {Dispatch} from \"redux\";\r\nimport {RequestStatusType} from \"../Login/auth-reducer\";\r\nimport {ThunkDispatch} from \"redux-thunk\";\r\nimport {AppRootStateType} from \"../../app/store\";\r\n\r\n\r\nconst initialState = {\r\n    cardPacks: [] as Array<PackDataType>,\r\n    requestStatus: 'idle' as RequestStatusType,\r\n    error: \"\",\r\n    cardPacksTotalCount: 0,\r\n    page: 1,\r\n    pageCount: 10,\r\n    sortParams: {\r\n        nameToSearch: '',\r\n        minCardsCount: 0,\r\n        maxCardsCount: 100,\r\n        sortDirection: SortDirections.Down,\r\n        propToSortBy: undefined,\r\n        page: 1,\r\n        pageCount: 10,\r\n        userId: ''\r\n    } as GetSortedPacksType\r\n}\r\n\r\nexport const packsReducer = (state = initialState, action: ActionsType): PacksStateType => {\r\n    switch (action.type) {\r\n        case 'PACKS/SET-PACKS': {\r\n            return {\r\n                ...state,\r\n                cardPacks: action.cardPacks,\r\n                cardPacksTotalCount: action.cardPacksTotalCount,\r\n                page: action.page,\r\n                pageCount: action.pageCount\r\n            }\r\n        }\r\n        case 'PACKS/SET-REQUEST-STATUS': {\r\n            return {\r\n                ...state,\r\n                requestStatus: action.requestStatus,\r\n                error: action.requestStatus === 'success'\r\n                    ? ''\r\n                    : state.error\r\n            }\r\n        }\r\n        case 'PACKS/SET-ERROR': {\r\n            return {\r\n                ...state,\r\n                error: action.error\r\n            }\r\n        }\r\n        case 'PACKS/SET-SORT-PARAMS': {\r\n            return {\r\n                ...state,\r\n                sortParams: {...state.sortParams, ...action.sortParams}\r\n            }\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n} // (при создании кейсов заменить \"action: any\" на общий тип actionов (ниже) \"action: ActionsType\")\r\n\r\n//action creators\r\nexport const setPacksAC = (cardPacks: Array<PackDataType>, cardPacksTotalCount: number, page: number, pageCount: number) => ({\r\n    type: 'PACKS/SET-PACKS',\r\n    cardPacks, cardPacksTotalCount,\r\n    page, pageCount\r\n} as const)\r\nconst setRequestStatusAC = (requestStatus: RequestStatusType) => ({\r\n    type: 'PACKS/SET-REQUEST-STATUS',\r\n    requestStatus\r\n} as const)\r\n\r\nconst setErrorAC = (error: string) => ({type: 'PACKS/SET-ERROR', error} as const)\r\nconst setSortParamsAC = (sortParams: GetSortedPacksType) => ({type: 'PACKS/SET-SORT-PARAMS', sortParams} as const)\r\n\r\n\r\n//thunk\r\nexport const getPacksTC = (params: GetSortedPacksType = {}) => (dispatch: ThunkCustomDispatch, getState: () => AppRootStateType) => {\r\n    if (params) dispatch(setSortParamsAC(params))\r\n    const sortParams = getState().packs.sortParams\r\n    dispatch(setRequestStatusAC('loading'))\r\n    packsAPI.getPacks(sortParams)\r\n        .then(res => {\r\n            dispatch(setPacksAC(res.data.cardPacks, res.data.cardPacksTotalCount, res.data.page, res.data.pageCount))\r\n            dispatch(setRequestStatusAC('success'))\r\n\r\n        })\r\n        .catch(e => {\r\n            const error = e.response\r\n                ? e.response.data.error\r\n                : (e.message + ', more details in the console')\r\n            dispatch(setErrorAC(error))\r\n            dispatch(setRequestStatusAC('failed'))\r\n        })\r\n}\r\n\r\nexport const addPackTC = (name?: string, deckCover?: string, isPrivate?: boolean) => (\r\n    dispatch: ThunkDispatch<AppRootStateType, void, ActionsType>) => {\r\n    dispatch(setRequestStatusAC('loading'))\r\n    packsAPI.addPack(name, isPrivate, deckCover)\r\n        .then(() => {\r\n            dispatch(getPacksTC())\r\n            dispatch(setRequestStatusAC('success'))\r\n        })\r\n        .catch(e => {\r\n            const error = e.response\r\n                ? e.response.data.error\r\n                : (e.message + ', more details in the console')\r\n            dispatch(setErrorAC(error))\r\n            dispatch(setRequestStatusAC('failed'))\r\n        })\r\n}\r\n\r\nexport const deletePackTC = (packId: string) => (dispatch: ThunkDispatch<AppRootStateType, void, ActionsType>) => {\r\n    dispatch(setRequestStatusAC('loading'))\r\n    packsAPI.deletePack(packId)\r\n        .then(() => {\r\n            dispatch(getPacksTC())\r\n            dispatch(setRequestStatusAC('success'))\r\n        })\r\n        .catch(e => {\r\n            const error = e.response\r\n                ? e.response.data.error\r\n                : (e.message + ', more details in the console')\r\n            dispatch(setErrorAC(error))\r\n            dispatch(setRequestStatusAC('failed'))\r\n        })\r\n}\r\n\r\nexport const updatePackTC = (packId: string, params: NewPackType = {}) => (dispatch: ThunkDispatch<AppRootStateType, void, ActionsType>) => {\r\n    dispatch(setRequestStatusAC('loading'))\r\n    packsAPI.updatePack(packId, params)\r\n        .then(() => {\r\n            dispatch(getPacksTC())\r\n            dispatch(setRequestStatusAC('success'))\r\n        })\r\n        .catch(e => {\r\n            const error = e.response\r\n                ? e.response.data.error\r\n                : (e.message + ', more details in the console')\r\n            dispatch(setErrorAC(error))\r\n            dispatch(setRequestStatusAC('failed'))\r\n        })\r\n}\r\n\r\n//types\r\nexport type PacksStateType = typeof initialState\r\n//объединение типов actionов:\r\nexport type ActionsType =\r\n    | ReturnType<typeof setPacksAC>\r\n    | ReturnType<typeof setRequestStatusAC>\r\n    | ReturnType<typeof setErrorAC>\r\n    | ReturnType<typeof setSortParamsAC>\r\n\r\n\r\n// тип диспатча:\r\ntype ThunkCustomDispatch = Dispatch<ActionsType>","import React, {ChangeEvent, useCallback, useState} from \"react\";\r\nimport {Modal} from \"../../../common/Modal/Modal\";\r\nimport style from \"./InputModal.module.css\";\r\nimport {FileUploader, UploadedFileDataType} from \"../../../common/FileUploader/FileUploader\";\r\nimport {Button} from \"antd\";\r\nimport {DeleteTwoTone, UploadOutlined} from \"@ant-design/icons\";\r\n\r\nexport type UploadedImageDataType = {\r\n    base64: string\r\n    fileURL?: string\r\n}\r\n\r\ntype InputModalPropsType = {\r\n    action: 'add' | 'update'\r\n    inputValues?: Array<string>\r\n    inputLabels: Array<'name' | 'question' | 'answer'>\r\n    imageURLs?: Array<string>\r\n    filesToUpload: Array<'deck cover' | 'question pic' | 'answer pic'>\r\n    itemToInput: 'pack' | 'card'\r\n    show: boolean\r\n    setShow: (show: boolean) => void\r\n    onSubmitClick: (values: Array<string>, fileData: Array<UploadedImageDataType>) => void\r\n}\r\n\r\nexport const InputModal: React.FC<InputModalPropsType> = React.memo(({\r\n                                                                         action,\r\n                                                                         inputValues,\r\n                                                                         inputLabels,\r\n                                                                         filesToUpload,\r\n                                                                         imageURLs,\r\n                                                                         itemToInput,\r\n                                                                         show,\r\n                                                                         setShow,\r\n                                                                         onSubmitClick\r\n                                                                     }) => {\r\n    const initialValues = Array.from(inputLabels, () => \"\")\r\n    const initialEmptyFileData = Array.from(filesToUpload, () => ({base64: '', fileURL: ''}))\r\n    const initialFileData = Array.from(imageURLs || [''], (url) => ({base64: '', fileURL: url}))\r\n    const [values, setValues] = useState<Array<string>>(inputValues || initialValues)\r\n    const [fileData, setFileData] = useState<Array<UploadedImageDataType>>(imageURLs ? initialFileData : initialEmptyFileData)\r\n\r\n    const onChangeHandler = (e: ChangeEvent<HTMLTextAreaElement>, index: number) => {\r\n        setValues(values.map((v, i) => i === index ? e.currentTarget.value : v))\r\n    }\r\n    const onImageUpload = useCallback((base64: string, fileURL?: string, index?: number) => {\r\n        setFileData(fileData.map((d, i) => i === index ? ({base64, fileURL}) : d))\r\n    }, [fileData])\r\n    const onDeleteImageClick = useCallback((index: number) => {\r\n        setFileData(fileData.map((d, i) => i === index ? ({base64: '0', fileURL: '0'})\r\n            : d))\r\n    }, [fileData])\r\n    const onSubmitBtnClick = () => {\r\n        onSubmitClick(values, fileData)\r\n        setShow(false)\r\n    }\r\n\r\n    return <Modal enableBackground modalHeightPx={400} modalWidthPx={450} show={show}\r\n                  backgroundOnClick={() => setShow(false)}>\r\n        <div className={style.inputFormContainer}>\r\n            <h4>{action[0].toUpperCase() + action.slice(1)} {itemToInput}:</h4>\r\n            <div>\r\n                {/*мапим лейблы для получения соответствующего количества текстэрий с ними*/}\r\n                {inputLabels.map((l, i) => <div>\r\n                    <label>\r\n                        {/*отображаем лейбл с большой буквы и через двоеточие*/}\r\n                        <div>{l[0].toUpperCase() + l.slice(1) + ': '}</div>\r\n                        <textarea value={values[i]} onChange={(e) => onChangeHandler(e, i)}/>\r\n                    </label>\r\n                </div>)}\r\n            </div>\r\n            <div>\r\n                {/*мапим названия файлов (картинок) для получения соответствующего количества кнопок для их выгрузки*/}\r\n                {filesToUpload.map((f, i) => <FileUploader\r\n                    key={i} expectedFileType={'image'}\r\n                    onClick={(fileData: UploadedFileDataType) => onImageUpload(fileData.base64, fileData.fileURL, i)}>\r\n                    <Button icon={<UploadOutlined/>}>Upload {f}</Button>\r\n                </FileUploader>)}\r\n            </div>\r\n            <div className={style.previews}>\r\n                {/*мапим файлы (картинки) для их отображения вместе с кнопкой для их удаления*/}\r\n                {fileData.map((f, i) => f.fileURL && f.fileURL !== '0'\r\n                    ? <div className={style.previewContainer}>\r\n                        {/*картинка*/}\r\n                        <div className={style.preview} style={{backgroundImage: `url(${f.fileURL})`}}> </div>\r\n                        {/*кнопка для удаления*/}\r\n                        <div className={style.bin}>\r\n                            <Button onClick={() => onDeleteImageClick(i)}\r\n                                    icon={<DeleteTwoTone style={{fontSize: '16px'}}/>} shape=\"circle\" ghost/>\r\n                        </div>\r\n                    </div>\r\n                    : null)}\r\n            </div>\r\n            <div className={style.buttons}>\r\n                <button onClick={() => setShow(false)}>Cancel</button>\r\n                {/*name of the submit button has a capitalized first character*/}\r\n                <button onClick={onSubmitBtnClick}>{action[0].toUpperCase() + action.slice(1)}</button>\r\n            </div>\r\n        </div>\r\n    </Modal>\r\n})\r\n","import {PackDataType, SortDirections} from \"../../api/api\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {addPackTC, deletePackTC, getPacksTC, updatePackTC} from \"./packs-reducer\";\r\nimport {ColumnsType, FilterValue} from \"antd/es/table/interface\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport {Button, Table, TablePaginationConfig} from \"antd\";\r\nimport {DeleteTwoTone, EditTwoTone, PlusSquareTwoTone} from '@ant-design/icons';\r\nimport {SorterResult} from \"antd/lib/table/interface\";\r\nimport React, {useCallback, useState} from \"react\";\r\nimport {RequestStatusType} from \"../Login/auth-reducer\";\r\nimport {PATH} from \"../../app/App\";\r\nimport {DeleteItemModal} from \"../Modals/DeleteItemModal/DeleteItemModal\";\r\nimport style from \"../Learn/Learn.module.css\";\r\nimport {InputModal, UploadedImageDataType} from \"../Modals/InputModal/InputModal\";\r\n\r\ntype PacksTablePropsType = {\r\n    cardPacks: Array<PackDataType>\r\n    authUserId: string\r\n    requestStatus: RequestStatusType\r\n    viewOnly?: boolean\r\n}\r\ntype ButtonsDataType = {\r\n    packId: string\r\n    packUserId: string\r\n    cardsCount: number\r\n    packName: string\r\n    deckCover: string\r\n}\r\ntype PackType = {\r\n    key: string\r\n    name: string\r\n    deckCover: string\r\n    cardsCount: number\r\n    updated: Date\r\n    createdBy: string\r\n    buttons: ButtonsDataType\r\n}\r\nexport const PacksTable = React.memo(({\r\n                                          cardPacks,\r\n                                          authUserId,\r\n                                          requestStatus,\r\n                                          viewOnly = false\r\n                                      }: PacksTablePropsType) => {\r\n    const [showAddItemModal, setShowAddItemModal] = useState<boolean>(false)\r\n    const [showDeleteItemModal, setShowDeleteItemModal] = useState<boolean>(false)\r\n    const [showUpdateItemModal, setShowUpdateItemModal] = useState<boolean>(false)\r\n    const [currentPackID, setCurrentPackID] = useState<string>('')\r\n    const [currentPackName, setCurrentPackName] = useState<string>('')\r\n    const [currentPackCover, setCurrentPackCover] = useState<string>('')\r\n    const dispatch = useDispatch()\r\n\r\n    const onAddPackClick = useCallback((values: Array<string>, fileData: Array<UploadedImageDataType>) => {\r\n        //values содержатся в массиве в том порядке, в котором передаем inputLabels в AddItemModal\r\n        dispatch(addPackTC(values[0], fileData[0].base64))\r\n    }, [dispatch])\r\n\r\n    const onDeleteClick = useCallback((isToBeDeleted: boolean) => {\r\n        if (isToBeDeleted) {\r\n            dispatch(deletePackTC(currentPackID))\r\n            setShowDeleteItemModal(false)\r\n        }\r\n    }, [dispatch, currentPackID])\r\n\r\n    const onUpdateClick = useCallback((values: Array<string>, fileData: Array<UploadedImageDataType>) => {\r\n        //values содержатся в массиве в том порядке, в котором передаем inputLabels и inputValues в UpdateItemModal\r\n        dispatch(updatePackTC(currentPackID, {name: values[0], deckCover: fileData[0].base64}))\r\n    }, [dispatch, currentPackID])\r\n//мапим данные для таблицы:\r\n    const data: Array<PackType> = cardPacks.map(p => ({\r\n        key: p._id,\r\n        name: p.name,\r\n        deckCover: p.deckCover,\r\n        cardsCount: p.cardsCount,\r\n        updated: p.updated,\r\n        createdBy: p.user_name,\r\n        buttons: {\r\n            packId: p._id,\r\n            packUserId: p.user_id,\r\n            cardsCount: p.cardsCount,\r\n            packName: p.name,\r\n            deckCover: p.deckCover\r\n        }\r\n    }))\r\n// колонки (их заголовки и render в тех колонках, где надо отрисовывать элементы в таблице):\r\n    const columns: ColumnsType<PackType> = [\r\n        {title: 'Pack Name', dataIndex: 'name', key: 'name', sorter: true},\r\n        {\r\n            title: 'Deck Cover', dataIndex: 'deckCover', key: 'deckCover',\r\n            render: (text, record) => <div className={style.deckCover}\r\n                                           style={{backgroundImage: `url(${record.deckCover})`}}>\r\n            </div>\r\n        },\r\n        {title: 'Cards Count', dataIndex: 'cardsCount', key: 'cardsCount', sorter: true},\r\n        {title: 'Last Update', dataIndex: 'updated', key: 'updated'},\r\n        {title: 'Created by', dataIndex: 'createdBy', key: 'createdBy'},\r\n        {\r\n            title: () => <>\r\n                {!viewOnly && <Button onClick={() => setShowAddItemModal(true)} type={'ghost'} size={'large'}\r\n                                      icon={<PlusSquareTwoTone style={{fontSize: '16px'}}/>}/>}\r\n            </>,\r\n            dataIndex: 'buttons',\r\n            key: 'buttons',\r\n            render: ({packId, packUserId, cardsCount, packName, deckCover}: ButtonsDataType) => <>\r\n                {packUserId === authUserId && <>\r\n                    <Button onClick={() => {\r\n                        setCurrentPackID(packId)\r\n                        setShowDeleteItemModal(true)\r\n                    }} icon={<DeleteTwoTone style={{fontSize: '16px'}}/>} shape=\"circle\" ghost/>\r\n                    <Button onClick={() => {\r\n                        setCurrentPackID(packId)\r\n                        setCurrentPackName(packName)\r\n                        setCurrentPackCover(deckCover)\r\n                        setShowUpdateItemModal(true)\r\n                    }} icon={<EditTwoTone style={{fontSize: '16px'}}/>} shape=\"circle\" ghost/>\r\n                </>}\r\n                {packUserId === authUserId || cardsCount > 0\r\n                    ? <span><NavLink to={`${PATH.CARDS}/${packId}`}> 👁️ Cards </NavLink></span>\r\n                    : null}\r\n                {cardsCount > 0 &&\r\n                <span><span> | </span><NavLink to={`${PATH.LEARN}/${packId}`}> 🎓 Learn </NavLink></span>}\r\n            </>,\r\n        },\r\n    ];\r\n//диспатч экшенов при сортировке с помощью кнопкок сортировки там, где они есть (Name и Cards Count):\r\n    const onChange = (pagination: TablePaginationConfig, filters: Record<string, FilterValue | null>,\r\n                      sorter: SorterResult<PackType> | any) => {\r\n        if (sorter.columnKey === 'name' && sorter.order === 'ascend') {\r\n            dispatch(getPacksTC({sortDirection: SortDirections.Down, propToSortBy: 'name'}))\r\n        } else if (sorter.columnKey === 'name' && sorter.order === 'descend') {\r\n            dispatch(getPacksTC({sortDirection: SortDirections.Up, propToSortBy: 'name'}))\r\n        } else if (sorter.columnKey === 'name' && sorter.order === undefined) {\r\n            dispatch(getPacksTC({sortDirection: SortDirections.Up, propToSortBy: 'updated'}))\r\n        }\r\n        if (sorter.columnKey === 'cardsCount' && sorter.order === 'ascend') {\r\n            dispatch(getPacksTC({sortDirection: SortDirections.Down, propToSortBy: \"cardsCount\"}))\r\n        } else if (sorter.columnKey === 'cardsCount' && sorter.order === 'descend') {\r\n            dispatch(getPacksTC({sortDirection: SortDirections.Up, propToSortBy: \"cardsCount\"}))\r\n        } else if (sorter.columnKey === 'cardsCount' && sorter.order === undefined) {\r\n            dispatch(getPacksTC({sortDirection: SortDirections.Up, propToSortBy: 'updated'}))\r\n        }\r\n    }\r\n\r\n    return <>\r\n        <Table columns={columns} dataSource={data} onChange={onChange} pagination={false} style={{width: '100%'}}\r\n               size={'small'} loading={requestStatus === 'loading'} tableLayout={'fixed'}/>\r\n        {/*модалка для добавления колоды*/}\r\n        {showAddItemModal &&\r\n        <InputModal action={'add'} show={showAddItemModal} setShow={setShowAddItemModal} inputLabels={[\"name\"]}\r\n                    itemToInput={'pack'} filesToUpload={['deck cover']} onSubmitClick={onAddPackClick}/>}\r\n        {/*модалка для удаления колоды*/}\r\n        {showDeleteItemModal && <DeleteItemModal show={showDeleteItemModal} setShow={setShowDeleteItemModal}\r\n                                                 itemToDelete={'pack'} onDeleteBtnClick={onDeleteClick}/>}\r\n        {/*модалка для редактирования колоды*/}\r\n        {showUpdateItemModal &&\r\n        <InputModal action={'update'} show={showUpdateItemModal} setShow={setShowUpdateItemModal}\r\n                    itemToInput={'pack'} onSubmitClick={onUpdateClick}\r\n                    filesToUpload={['deck cover']} imageURLs={[currentPackCover]}\r\n                    inputLabels={[\"name\"]} inputValues={[currentPackName]}/>}\r\n    </>\r\n})","import {Pagination} from 'antd';\r\nimport React from 'react';\r\nimport {RequestStatusType} from \"../Login/auth-reducer\";\r\n\r\ntype PaginatorType = {\r\n    onChange: (page: number, pageCount: number | undefined, packId?: string) => void\r\n    current: number\r\n    total: number\r\n    pageCount: number\r\n    requestStatus: RequestStatusType\r\n}\r\n\r\nexport const Paginator = (props: PaginatorType) => {\r\n\r\n    return <div>\r\n        <Pagination showQuickJumper current={props.current} total={props.total} onChange={props.onChange}\r\n                    pageSize={props.pageCount} disabled={props.requestStatus === 'loading'}\r\n                    pageSizeOptions={[\"5\", \"10\", \"20\", \"50\", \"100\"]}/>\r\n    </div>\r\n\r\n}\r\n","import React, {useCallback, useEffect, useState} from \"react\";\r\nimport style from \"./Profile.module.css\";\r\nimport {Redirect, useParams} from \"react-router-dom\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {AppRootStateType} from \"../../app/store\";\r\nimport {InitialAuthStateType, updateUserDataTC} from \"../Login/auth-reducer\";\r\nimport {Avatar, Button, Typography} from 'antd';\r\nimport {DeleteTwoTone, EditTwoTone, PlusSquareTwoTone, UserOutlined} from '@ant-design/icons';\r\nimport {PATH} from \"../../app/App\";\r\nimport commonStyle from \"../../common/styles/error.module.css\";\r\nimport {FileUploader, UploadedFileDataType} from \"../../common/FileUploader/FileUploader\";\r\nimport {DeleteItemModal} from \"../Modals/DeleteItemModal/DeleteItemModal\";\r\nimport {getUserByIdTC} from \"../Users/users-reducer\";\r\nimport {getPacksTC, PacksStateType, setPacksAC} from \"../Packs/packs-reducer\";\r\nimport {PacksTable} from \"../Packs/PacksTable\";\r\nimport {Paginator} from \"../Paginator/Paginator\";\r\n\r\nexport const Profile = () => {\r\n    const {_id, email, name, error, avatar, isLoggedIn, requestStatus} = useSelector<AppRootStateType,\r\n        InitialAuthStateType>(state => state.auth)\r\n    const {\r\n        cardPacksTotalCount,\r\n        page,\r\n        pageCount,\r\n        cardPacks,\r\n        requestStatus: packsLoadingStatus\r\n    } = useSelector<AppRootStateType, PacksStateType>(state => state.packs)\r\n    const dispatch = useDispatch()\r\n    const currentUserData = useSelector<AppRootStateType, {\r\n        _id: string, email: string, name: string, avatar: string\r\n    }>(state => state.users.currentUserData)\r\n    const {Paragraph} = Typography;\r\n    const {userId} = useParams<{ userId?: string }>()\r\n    const [showDeleteItemModal, setShowDeleteItemModal] = useState<boolean>(false)\r\n\r\n    useEffect(() => {\r\n        if (isLoggedIn) {\r\n            dispatch(setPacksAC([], 0, 1, 10))\r\n            if (userId && userId !== _id) { // если выбран юзер со страницы Users и его id есть в url\r\n                dispatch(getUserByIdTC(userId))\r\n                dispatch(getPacksTC({userId, page: 1, pageCount: 5}))\r\n            } else {\r\n                dispatch(getPacksTC({userId: _id, page: 1, pageCount: 5}))\r\n            }\r\n        }\r\n    }, [userId])\r\n\r\n    const onImageEditorClick = useCallback((fileData: UploadedFileDataType) => {\r\n        dispatch(updateUserDataTC({avatar: fileData.base64}))\r\n    }, [dispatch])\r\n    const onDeleteAvatarClick = useCallback((isToBeDeleted: boolean) => {\r\n        if (isToBeDeleted) {\r\n            dispatch(updateUserDataTC({avatar: \"0\"}))\r\n            setShowDeleteItemModal(false)\r\n        }\r\n    }, [dispatch])\r\n    const onNewNameSubmit = useCallback((newName: string) => {\r\n        dispatch(updateUserDataTC({name: newName}))\r\n    }, [dispatch])\r\n    const onPaginatorChange = useCallback((page: number, pageCount: number | undefined) => {\r\n        dispatch(getPacksTC({page, pageCount}))\r\n    }, [dispatch])\r\n\r\n    if (!isLoggedIn) return <Redirect to={PATH.LOGIN}/>\r\n\r\n    return (\r\n        <div className={style.profile}>\r\n            {requestStatus === 'loading' && <div className={style.loading}>loading...</div>}\r\n            <div className={error && commonStyle.error}>{error}</div>\r\n            <div className={style.avatarContainer}>\r\n                {userId && currentUserData._id !== _id\r\n                    ? <Avatar src={currentUserData.avatar || ''} size={64}\r\n                              icon={!currentUserData.avatar && <UserOutlined/>}/>\r\n                    : avatar && avatar !== \"0\" ? <>\r\n                            <Avatar src={avatar} size={64}/>\r\n                            <div className={style.avatarButtons}>\r\n                                <FileUploader onClick={onImageEditorClick} expectedFileType={'image'}>\r\n                                    <EditTwoTone style={{fontSize: '16px'}}/>\r\n                                </FileUploader>\r\n                                <div>\r\n                                    <Button onClick={() => {\r\n                                        setShowDeleteItemModal(true)\r\n                                    }} icon={<DeleteTwoTone style={{fontSize: '16px'}}/>} shape=\"circle\" ghost/>\r\n                                </div>\r\n                            </div>\r\n                        </>\r\n                        : <>\r\n                            <Avatar size={64} icon={<UserOutlined/>}/>\r\n                            <FileUploader onClick={onImageEditorClick} expectedFileType={'image'}\r\n                                          style={{position: \"absolute\", top: \"30%\", right: \"0\"}}>\r\n                                <PlusSquareTwoTone style={{fontSize: '16px'}}/>\r\n                            </FileUploader>\r\n                        </>}\r\n            </div>\r\n            {userId && currentUserData._id !== _id\r\n                ? <>\r\n                    <div>{currentUserData.name}</div>\r\n                    <div>{currentUserData.email}</div>\r\n                    {/*колоды карточек текущего открытого юзера*/}\r\n                    <div><PacksTable authUserId={_id} cardPacks={cardPacks} viewOnly\r\n                                     requestStatus={packsLoadingStatus}/></div>\r\n                </>\r\n                : <>\r\n                    <Paragraph editable={{onChange: onNewNameSubmit}}>{name}</Paragraph>\r\n                    <div>{email}</div>\r\n                    {/*колоды карточек текущего залогиненного юзера*/}\r\n                    <div>\r\n                        <PacksTable authUserId={_id} cardPacks={cardPacks} requestStatus={packsLoadingStatus}/>\r\n                    </div>\r\n                </>}\r\n            {/*Pagination*/}\r\n            <div className={style.pagination}>\r\n                <Paginator current={page}\r\n                           pageCount={pageCount}\r\n                           total={cardPacksTotalCount}\r\n                           onChange={onPaginatorChange}\r\n                           requestStatus={packsLoadingStatus}/>\r\n            </div>\r\n\r\n            {/*появляющаяся модалка для удаления аватара*/}\r\n            {showDeleteItemModal &&\r\n            <DeleteItemModal itemToDelete={'image'} onDeleteBtnClick={onDeleteAvatarClick}\r\n                             setShow={setShowDeleteItemModal}\r\n                             show={showDeleteItemModal}/>}\r\n        </div>\r\n    );\r\n}","import React, {useCallback, useEffect, useRef, useState, KeyboardEvent} from \"react\";\r\nimport style from \"./Chat.module.css\";\r\nimport {socket} from \"../../api/social-api\";\r\nimport {Typography} from \"antd\";\r\n\r\ntype MessagesType = {\r\n    _id: string\r\n    message: string\r\n    user: {\r\n        _id: string\r\n        name: string\r\n    }\r\n}\r\n\r\nexport const Chat = () => {\r\n    const {Paragraph} = Typography;\r\n    const messagesRef = useRef<HTMLDivElement | null>(null)\r\n    const [messages, setMessages] = useState<Array<MessagesType> | undefined>()\r\n    const [newMessageText, setNewMessageText] = useState<string>('')\r\n    const [myName, setMyName] = useState<string>('anonymous')\r\n\r\n    useEffect(() => {\r\n        socket.emit(\"init\", (answer: string) => console.log(answer));\r\n        socket.on('init-messages-published', (initMessages: Array<MessagesType>) => {\r\n            setMessages([...initMessages])\r\n        })\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        socket.on('new-message-sent', (message: MessagesType) => {\r\n            messages ? setMessages([...messages, message]) : setMessages([message])\r\n        })\r\n        if (messagesRef && messagesRef.current) {\r\n            messagesRef.current.scrollTo(0, messagesRef.current.scrollHeight)\r\n        }\r\n    }, [messages, messagesRef])\r\n\r\n    const onEnter = (e: KeyboardEvent<HTMLTextAreaElement>) => {\r\n        if (e.key === 'Enter') onSendClick()\r\n    }\r\n\r\n    const onSendClick = () => {\r\n        socket.emit(\"client-message-sent\", newMessageText, (answer: string) => console.log(answer))\r\n        setNewMessageText('')\r\n    }\r\n\r\n    const onNewNameSubmit = useCallback((newName: string) => {\r\n        socket.emit(\"client-name-sent\", newName, (answer: string) => console.log(answer))\r\n        setMyName(newName)\r\n    }, [setMyName])\r\n\r\n    return (\r\n        <div className={style.chat}>\r\n            <div>\r\n                My name in this chat:\r\n                <b><Paragraph editable={{onChange: onNewNameSubmit}} style={{color: '#1890ff'}}>\r\n                    {myName}</Paragraph></b>\r\n            </div>\r\n            <div className={style.messages} ref={messagesRef}>\r\n                {messages && messages.map(m => <div key={m._id}>\r\n                    <b>{m.user.name}</b>: {m.message}\r\n                </div>)}\r\n            </div>\r\n            <div className={style.input}>\r\n                <textarea onChange={e => setNewMessageText(e.currentTarget.value)} value={newMessageText}\r\n                          placeholder={'Enter your message'} onKeyPress={e => onEnter(e)}> </textarea>\r\n                <button onClick={onSendClick}>Send</button>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\n","import React from \"react\";\r\nimport style from './Header.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\nimport {PATH} from \"../../app/App\";\r\nimport {\r\n    BlockOutlined,\r\n    CloudServerOutlined,\r\n    HomeOutlined,\r\n    LogoutOutlined,\r\n    TeamOutlined,\r\n    WechatOutlined,\r\n    CompassOutlined\r\n} from '@ant-design/icons';\r\nimport {Chat} from \"../Chat/Chat\";\r\nimport {Button, Popover} from \"antd\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {AppRootStateType} from \"../../app/store\";\r\nimport {InitialAuthStateType, logoutTC} from \"../Login/auth-reducer\";\r\n\r\nexport const Header = () => {\r\n    const {requestStatus, isLoggedIn} = useSelector<AppRootStateType, InitialAuthStateType>(state => state.auth)\r\n    const dispatch = useDispatch()\r\n\r\n    const chatContent = (<Chat/>)\r\n\r\n    const onLogoutClick = () => {\r\n        dispatch(logoutTC())\r\n    }\r\n\r\n    return (\r\n        <div className={style.header}>\r\n            <NavLink to={PATH.PROFILE} activeClassName={style.active}><HomeOutlined\r\n                style={{fontSize: '25px'}}/></NavLink>\r\n            <Popover content={chatContent} trigger=\"click\" placement=\"bottom\">\r\n                <WechatOutlined style={{fontSize: '25px', color: '#1890ff'}}/>\r\n            </Popover>\r\n            <NavLink to={PATH.PACKS} activeClassName={style.active}>\r\n                <BlockOutlined style={{fontSize: '25px'}}/>\r\n                Card Packs to Learn</NavLink>\r\n            <NavLink to={PATH.FILES} activeClassName={style.active}>\r\n                <CloudServerOutlined style={{fontSize: '25px'}}/>\r\n                Files</NavLink>\r\n            <NavLink to={PATH.USERS} activeClassName={style.active}>\r\n                <TeamOutlined style={{fontSize: '25px'}}/>Users\r\n            </NavLink>\r\n            <NavLink to={PATH.MAP} activeClassName={style.active}>\r\n                <CompassOutlined style={{fontSize: '25px'}}/>\r\n                Map</NavLink>\r\n            {isLoggedIn &&\r\n            <Button onClick={onLogoutClick} icon={<LogoutOutlined style={{fontSize: '25px', color: '#1890ff'}}/>}\r\n                    disabled={requestStatus === 'loading'} shape=\"circle\" ghost/>}\r\n        </div>\r\n    )\r\n}","import React, {useCallback, useState} from \"react\";\r\nimport {Slider} from 'antd';\r\nimport style from \"./DoubleRange.module.css\";\r\n\r\ntype DoubleRangePropsType = {\r\n    minRangeLimit?: number\r\n    maxRangeLimit?: number\r\n    minValue: number | undefined\r\n    maxValue: number | undefined\r\n    onValuesChange: ([minValue, maxValue]: Array<number | undefined>) => void\r\n}\r\nexport const DoubleRange = React.memo(({\r\n                                           minRangeLimit = 0,\r\n                                           maxRangeLimit = 100,\r\n                                           minValue,\r\n                                           maxValue,\r\n                                           onValuesChange\r\n                                       }: DoubleRangePropsType) => {\r\n\r\n    const [min, setMin] = useState(minValue || 0)\r\n    const [max, setMax] = useState(maxValue || 5)\r\n\r\n    const onSliderValuesChange = useCallback((values: Array<number>) => {\r\n        setMin(values[0])\r\n        setMax(values[1])\r\n    }, [setMin, setMax])\r\n\r\n    const onMouseUpHandler = useCallback(() => {\r\n        onValuesChange([min, max])\r\n    }, [onValuesChange, min, max])\r\n\r\n    return <span className={style.rangeBlock}>\r\n        <Slider range={{draggableTrack: true}} value={[min, max]} min={minRangeLimit} max={maxRangeLimit}\r\n                onChange={onSliderValuesChange}\r\n                onAfterChange={onMouseUpHandler}\r\n                tooltipVisible\r\n        />\r\n    </span>\r\n})","import React, {ChangeEvent, KeyboardEvent, useCallback, useEffect, useState} from \"react\";\r\nimport style from \"./Packs.module.css\";\r\nimport commonStyle from \"../../common/styles/error.module.css\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {AppRootStateType} from \"../../app/store\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {getPacksTC, PacksStateType} from \"./packs-reducer\";\r\nimport {GetSortedPacksType} from \"../../api/api\";\r\nimport {DoubleRange} from \"../../common/DoubleRange/DoubleRange\";\r\nimport {Paginator} from \"../Paginator/Paginator\";\r\nimport {PATH} from \"../../app/App\";\r\nimport {PacksTable} from \"./PacksTable\";\r\n\r\nexport const Packs = () => {\r\n    const isLoggedIn = useSelector<AppRootStateType, boolean>(state => state.auth.isLoggedIn)\r\n    const authUserId = useSelector<AppRootStateType, string>(state => state.auth._id)\r\n    const error = useSelector<AppRootStateType, string>(state => state.packs.error)\r\n    const {\r\n        cardPacksTotalCount,\r\n        page,\r\n        cardPacks,\r\n        pageCount,\r\n        requestStatus\r\n    } = useSelector<AppRootStateType, PacksStateType>(state => state.packs)\r\n\r\n    const {\r\n        minCardsCount,\r\n        maxCardsCount,\r\n        userId\r\n    } = useSelector<AppRootStateType, GetSortedPacksType>(state => state.packs.sortParams)\r\n    const dispatch = useDispatch()\r\n\r\n    const [searchByName, setSearchByName] = useState('')\r\n\r\n    useEffect(() => {\r\n        if (isLoggedIn) dispatch(getPacksTC({userId: '', page: 1, pageCount: 10}))\r\n    }, [])\r\n\r\n    const onPrivatePacksSearch = (e: ChangeEvent<HTMLInputElement>) => {\r\n        if (e.currentTarget.checked) {\r\n            dispatch(getPacksTC({userId: authUserId, page: 1, pageCount: 10}))\r\n        } else {\r\n            dispatch(getPacksTC({userId: '', page: 1, pageCount: 10}))\r\n        }\r\n    }\r\n\r\n    const onSearchByName = (e: KeyboardEvent<HTMLInputElement>) => {\r\n        if (e.key === 'Enter') {\r\n            dispatch(getPacksTC({nameToSearch: searchByName}))\r\n        }\r\n    }\r\n    const onCardsCountChange = useCallback(([minValue, maxValue]: Array<number | undefined>) => {\r\n        dispatch(getPacksTC({minCardsCount: minValue, maxCardsCount: maxValue}))\r\n    }, [dispatch])\r\n\r\n    const paginatorPage = useCallback((page: number, pageCount: number | undefined) => {\r\n        dispatch(getPacksTC({page, pageCount}))\r\n    }, [dispatch])\r\n\r\n    if (!isLoggedIn) return <Redirect to={PATH.LOGIN}/>\r\n\r\n    return (\r\n        <div className={style.packs}>\r\n            <h2>Packs</h2>\r\n            <div className={style.filter}>\r\n                {/*поиск приватных колод*/}\r\n                <label><input type=\"checkbox\" checked={!!userId} onChange={onPrivatePacksSearch}/>\r\n                    My packs</label>\r\n                {/*фильтр по названию колоды*/}\r\n                <label>Search packs by name: <input placeholder={'Press Enter to search'}\r\n                                                    onKeyPress={onSearchByName}\r\n                                                    value={searchByName}\r\n                                                    onChange={e => setSearchByName(e.currentTarget.value)}\r\n                /></label>\r\n\r\n                {/*двойной range для сортировки по кол-ву карточек в колоде*/}\r\n                <div className={style.rangeContainer}>\r\n                    Search packs by cards count:\r\n                    <DoubleRange minValue={minCardsCount} maxValue={maxCardsCount} onValuesChange={onCardsCountChange}\r\n                                 maxRangeLimit={200}/>\r\n                </div>\r\n            </div>\r\n            <div className={error && commonStyle.error}>{error}</div>\r\n            {/*таблица с колодами*/}\r\n            <PacksTable cardPacks={cardPacks} authUserId={authUserId} requestStatus={requestStatus}/>\r\n            {/*Pagination*/}\r\n            <div className={style.pagination}>\r\n                <Paginator current={page}\r\n                           pageCount={pageCount}\r\n                           total={cardPacksTotalCount}\r\n                           onChange={paginatorPage}\r\n                           requestStatus={requestStatus}/>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\n","import {Dispatch} from \"redux\";\r\nimport {RequestStatusType} from \"../Login/auth-reducer\";\r\nimport {CardDataType, cardsAPI, GetSortedCardsType, NewCardDataType, SortDirections} from \"../../api/api\";\r\nimport {AppRootStateType} from \"../../app/store\";\r\nimport {ThunkDispatch} from \"redux-thunk\";\r\n\r\nconst initialState = {\r\n    requestStatus: 'idle' as RequestStatusType, //изначально статус запроса - 'idle' (неактивный)\r\n    error: '',\r\n    cards: [] as Array<CardDataType>,\r\n    packUserId: \"\",\r\n    cardsTotalCount: 0,\r\n    page: 1,\r\n    pageCount: 10,\r\n    sortParams: {\r\n        question: '',\r\n        answer: '',\r\n        sortDirection: SortDirections.Down,\r\n        propToSortBy: undefined,\r\n        minGrade: 0,\r\n        maxGrade: 5,\r\n        page: 1,\r\n        pageCount: 10\r\n    } as GetSortedCardsType,\r\n}\r\n\r\nexport const cardsReducer = (state = initialState, action: ActionsType): CardsStateType => {\r\n    switch (action.type) {\r\n        case 'CARDS/SET-REQUEST-STATUS': {\r\n            return {\r\n                ...state,\r\n                requestStatus: action.requestStatus,\r\n                error: action.requestStatus === 'success'\r\n                    ? ''\r\n                    : state.error\r\n            }\r\n        }\r\n        case 'CARDS/SET-ERROR': {\r\n            return {\r\n                ...state,\r\n                error: action.error\r\n            }\r\n        }\r\n        case 'CARDS/SET-SORT-PARAMS': {\r\n            return {\r\n                ...state,\r\n                sortParams: {...state.sortParams, ...action.sortParams}\r\n            }\r\n        }\r\n        case 'CARDS/SET-CARDS': {\r\n            return {\r\n                ...state,\r\n                cards: action.cards,\r\n                packUserId: action.packUserId,\r\n                page: action.page,\r\n                cardsTotalCount: action.cardsTotalCount,\r\n                pageCount: action.pageCount\r\n            }\r\n        }\r\n        case 'CARDS/SET-NEW-GRADE': {\r\n            return {\r\n                ...state,\r\n                cards: state.cards.map(c => c._id === action.cardId ? {...c, grade: action.grade} : c)\r\n            }\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\n//action creators\r\nconst setRequestStatusAC = (requestStatus: RequestStatusType) => ({\r\n    type: 'CARDS/SET-REQUEST-STATUS',\r\n    requestStatus\r\n} as const)\r\nconst setErrorAC = (error: string) => ({type: 'CARDS/SET-ERROR', error} as const)\r\nconst setSortParamsAC = (sortParams: GetSortedCardsType) => ({type: 'CARDS/SET-SORT-PARAMS', sortParams} as const)\r\nexport const setCardsAC = (cards: Array<CardDataType>, packUserId: string, page: number, cardsTotalCount: number, pageCount: number) =>\r\n    ({type: 'CARDS/SET-CARDS', cards, packUserId, page, cardsTotalCount, pageCount} as const)\r\nexport const setNewGradeAC = (grade: number, cardId: string) => ({type: 'CARDS/SET-NEW-GRADE', grade, cardId} as const)\r\n\r\n//thunk\r\nexport const getCardsTC = (packId: string, params: GetSortedCardsType = {}) => (dispatch: ThunkCustomDispatch,\r\n                                                                                getState: () => AppRootStateType) => {\r\n    if (params) dispatch(setSortParamsAC(params))\r\n    const sortParams = getState().cards.sortParams\r\n    dispatch(setRequestStatusAC('loading'))\r\n    cardsAPI.getCards(packId, sortParams)\r\n        .then(res => {\r\n            dispatch(setCardsAC(res.data.cards, res.data.packUserId, res.data.page, res.data.cardsTotalCount, res.data.pageCount))\r\n            dispatch(setRequestStatusAC('success'))\r\n        })\r\n        .catch(e => {\r\n            const error = e.response\r\n                ? e.response.data.error\r\n                : (e.message + ', more details in the console')\r\n            dispatch(setErrorAC(error))\r\n            dispatch(setRequestStatusAC('failed'))\r\n        })\r\n}\r\n\r\nexport const addCardTC = (packId: string, params: NewCardDataType = {}) => (\r\n    dispatch: ThunkDispatch<AppRootStateType, void, ActionsType>) => {\r\n    dispatch(setRequestStatusAC('loading'))\r\n    cardsAPI.addCard(packId, params)\r\n        .then(() => {\r\n            dispatch(getCardsTC(packId))\r\n            dispatch(setRequestStatusAC('success'))\r\n        })\r\n        .catch(e => {\r\n            const error = e.response\r\n                ? e.response.data.error\r\n                : (e.message + ', more details in the console')\r\n            dispatch(setErrorAC(error))\r\n            dispatch(setRequestStatusAC('failed'))\r\n        })\r\n}\r\n\r\nexport const deleteCardTC = (packId: string, cardId: string) => (dispatch: ThunkDispatch<AppRootStateType, void, ActionsType>) => {\r\n    dispatch(setRequestStatusAC('loading'))\r\n    cardsAPI.deleteCard(cardId)\r\n        .then(() => {\r\n            dispatch(getCardsTC(packId))\r\n            dispatch(setRequestStatusAC('success'))\r\n        })\r\n        .catch(e => {\r\n            const error = e.response\r\n                ? e.response.data.error\r\n                : (e.message + ', more details in the console')\r\n            dispatch(setErrorAC(error))\r\n            dispatch(setRequestStatusAC('failed'))\r\n        })\r\n}\r\n\r\nexport const updateCardTC = (packId: string, cardId: string, params: NewCardDataType = {}, comments?: string) => (\r\n    dispatch: ThunkDispatch<AppRootStateType, void, ActionsType>) => {\r\n    dispatch(setRequestStatusAC('loading'))\r\n    cardsAPI.updateCard(cardId, params, comments)\r\n        .then(() => {\r\n            dispatch(getCardsTC(packId))\r\n            dispatch(setRequestStatusAC('success'))\r\n        })\r\n        .catch(e => {\r\n            const error = e.response\r\n                ? e.response.data.error\r\n                : (e.message + ', more details in the console')\r\n            dispatch(setErrorAC(error))\r\n            dispatch(setRequestStatusAC('failed'))\r\n        })\r\n}\r\n\r\nexport const updateGradeTC = (grade: number, cardId: string) => (dispatch: ThunkCustomDispatch) => {\r\n    dispatch(setRequestStatusAC('loading'))\r\n    cardsAPI.updateGrade(grade, cardId)\r\n        .then(res => {\r\n            dispatch(setNewGradeAC(res.data.updatedGrade.grade, res.data.updatedGrade.card_id))\r\n            dispatch(setRequestStatusAC('success'))\r\n        })\r\n        .catch(e => {\r\n            const error = e.response\r\n                ? e.response.data.error\r\n                : (e.message + ', more details in the console')\r\n            dispatch(setErrorAC(error))\r\n            dispatch(setRequestStatusAC('failed'))\r\n        })\r\n}\r\n\r\n//types\r\nexport type CardsStateType = typeof initialState\r\n//объединение типов actionов:\r\nexport type ActionsType =\r\n    | ReturnType<typeof setRequestStatusAC>\r\n    | ReturnType<typeof setErrorAC>\r\n    | ReturnType<typeof setSortParamsAC>\r\n    | ReturnType<typeof setCardsAC>\r\n    | ReturnType<typeof setNewGradeAC>\r\n\r\n// тип диспатча:\r\ntype ThunkCustomDispatch = Dispatch<ActionsType>","import {CardDataType} from \"../../api/api\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {ColumnsType} from \"antd/es/table/interface\";\r\nimport {Button, Table} from \"antd\";\r\nimport {DeleteTwoTone, EditTwoTone, PlusSquareTwoTone} from '@ant-design/icons';\r\nimport React, {useCallback, useState} from \"react\";\r\nimport {addCardTC, deleteCardTC, updateCardTC} from \"./cards-reducer\";\r\nimport {RequestStatusType} from \"../Login/auth-reducer\";\r\nimport {DeleteItemModal} from \"../Modals/DeleteItemModal/DeleteItemModal\";\r\nimport style from \"../Learn/Learn.module.css\";\r\nimport {InputModal, UploadedImageDataType} from \"../Modals/InputModal/InputModal\";\r\n\r\ntype CardsTablePropsType = {\r\n    cards: Array<CardDataType>\r\n    packId: string\r\n    packUserId: string\r\n    authUserId: string\r\n    requestStatus: RequestStatusType\r\n}\r\ntype ButtonsDataType = {\r\n    cardId: string\r\n    question: string\r\n    answer: string\r\n    questionImg: string\r\n    answerImg: string\r\n}\r\n\r\nexport type CardType = {\r\n    key: string\r\n    question: string\r\n    questionImg: string\r\n    answer: string\r\n    answerImg: string\r\n    grade: number\r\n    updated: Date\r\n    packId: string\r\n    buttons: ButtonsDataType\r\n}\r\n\r\nexport const CardsTable = React.memo(({cards, packId, packUserId, authUserId, requestStatus}: CardsTablePropsType) => {\r\n    const [showAddItemModal, setShowAddItemModal] = useState<boolean>(false)\r\n    const [currentCardID, setCurrentCardID] = useState<string>(\"\")\r\n    const [question, setQuestion] = useState<string>(\"\")\r\n    const [answer, setAnswer] = useState<string>(\"\")\r\n    const [questionImg, setQuestionImg] = useState<string>(\"\")\r\n    const [answerImg, setAnswerImg] = useState<string>(\"\")\r\n    const [showUpdateItemModal, setShowUpdateItemModal] = useState<boolean>(false)\r\n    const [showDeleteItemModal, setShowDeleteItemModal] = useState<boolean>(false)\r\n    const dispatch = useDispatch()\r\n\r\n    const onAddCardClick = useCallback((values: Array<string>, fileData: Array<UploadedImageDataType>) => {\r\n        //values содержатся в массиве в том порядке, в котором передаем inputLabels в AddItemModal\r\n        dispatch(addCardTC(packId, {\r\n            question: values[0],\r\n            answer: values[1],\r\n            questionImg: fileData[0].base64,\r\n            answerImg: fileData[1].base64\r\n        }))\r\n    }, [dispatch, packId])\r\n\r\n    const onDeleteClick = useCallback((isToBeDeleted: boolean) => {\r\n        if (isToBeDeleted) {\r\n            dispatch(deleteCardTC(packId, currentCardID))\r\n            setShowDeleteItemModal(false)\r\n        }\r\n    }, [dispatch, packId, currentCardID])\r\n\r\n    const onUpdateClick = useCallback((values: Array<string>, fileData: Array<UploadedImageDataType>) => {\r\n        //values содержатся в массиве в том порядке, в котором передаем inputLabels и inputValues в UpdateItemModal\r\n        dispatch(updateCardTC(packId, currentCardID, {\r\n            question: values[0],\r\n            answer: values[1],\r\n            questionImg: fileData[0].base64,\r\n            answerImg: fileData[1].base64\r\n        }))\r\n    }, [dispatch, packId, currentCardID])\r\n//мапим данные для таблицы:\r\n    const data: Array<CardType> = cards.map(c => ({\r\n        key: c._id,\r\n        question: c.question,\r\n        questionImg: c.questionImg,\r\n        answer: c.answer,\r\n        answerImg: c.answerImg,\r\n        grade: c.grade,\r\n        updated: c.updated,\r\n        packId: c.cardsPack_id,\r\n        buttons: {\r\n            cardId: c._id,\r\n            question: c.question,\r\n            answer: c.answer,\r\n            questionImg: c.questionImg,\r\n            answerImg: c.answerImg\r\n        }\r\n    }))\r\n// колонки (их заголовки и render в тех колонках, где надо отрисовывать элементы в таблице):\r\n    const columns: ColumnsType<CardType> = [\r\n        {title: 'Question', dataIndex: 'question', key: 'question'},\r\n        {\r\n            title: 'Question Pic', dataIndex: 'questionImg ', key: 'questionImg ',\r\n            render: (text, record) => <div className={style.questionImg}\r\n                                           style={{backgroundImage: `url(${record.questionImg})`}}>\r\n            </div>\r\n        },\r\n        {title: 'Answer', dataIndex: 'answer', key: 'answer'},\r\n        {\r\n            title: 'Answer Pic', dataIndex: 'answerImg ', key: 'answerImg ',\r\n            render: (text, record) => <div className={style.answerImg}\r\n                                           style={{backgroundImage: `url(${record.answerImg})`}}>\r\n            </div>\r\n        },\r\n        {title: 'Grade', dataIndex: 'grade', key: 'grade'},\r\n        {title: 'Last Update', dataIndex: 'updated', key: 'updated'},\r\n        {title: 'Pack ID', dataIndex: 'packId', key: 'packId'},\r\n\r\n\r\n        {\r\n            title: () => <>\r\n                {packUserId === authUserId &&\r\n                <Button onClick={() => setShowAddItemModal(true)} type={'ghost'} size={'large'}\r\n                        icon={<PlusSquareTwoTone style={{fontSize: '16px'}}/>}/>\r\n                }\r\n            </>,\r\n            dataIndex: 'buttons',\r\n            key: 'buttons',\r\n            render: ({cardId, question, answer, questionImg, answerImg}: ButtonsDataType) => <>\r\n                {packUserId === authUserId && <>\r\n                    <Button onClick={() => {\r\n                        setCurrentCardID(cardId)\r\n                        setShowDeleteItemModal(true)\r\n                    }} icon={<DeleteTwoTone style={{fontSize: '16px'}}/>} shape=\"circle\" ghost/>\r\n                    <Button onClick={() => {\r\n                        setCurrentCardID(cardId)\r\n                        setQuestion(question)\r\n                        setAnswer(answer)\r\n                        setQuestionImg(questionImg)\r\n                        setAnswerImg(answerImg)\r\n                        setShowUpdateItemModal(true)\r\n                    }} icon={<EditTwoTone style={{fontSize: '16px'}}/>} shape=\"circle\" ghost/>\r\n                </>}\r\n            </>,\r\n        },\r\n    ];\r\n\r\n    return <>\r\n        <Table columns={columns} dataSource={data} pagination={false} style={{width: '100%'}}\r\n               size={'small'} loading={requestStatus === 'loading'} tableLayout={'fixed'}/>\r\n        {/*модалка для добавления карточки*/}\r\n        {showAddItemModal &&\r\n        <InputModal action={'add'} show={showAddItemModal} setShow={setShowAddItemModal}\r\n                    inputLabels={[\"question\", \"answer\"]} onSubmitClick={onAddCardClick}\r\n                    itemToInput={'card'} filesToUpload={['question pic', 'answer pic']}/>}\r\n        {/*модалка для удаления карточки*/}\r\n        {showDeleteItemModal && <DeleteItemModal show={showDeleteItemModal} setShow={setShowDeleteItemModal}\r\n                                                 itemToDelete={'pack'} onDeleteBtnClick={onDeleteClick}/>}\r\n        {/*модалка для редактирования карточки*/}\r\n        {showUpdateItemModal &&\r\n        <InputModal action={'update'} show={showUpdateItemModal} setShow={setShowUpdateItemModal}\r\n                    itemToInput={'card'} onSubmitClick={onUpdateClick}\r\n                    filesToUpload={['question pic', 'answer pic']}\r\n                    imageURLs={[questionImg, answerImg]} inputLabels={[\"question\", \"answer\"]}\r\n                    inputValues={[question, answer]}/>}\r\n    </>\r\n})","import React, {KeyboardEvent, useCallback, useEffect, useState} from \"react\";\r\nimport style from \"./Cards.module.css\";\r\nimport {Redirect, useHistory, useParams} from \"react-router-dom\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {AppRootStateType} from \"../../app/store\";\r\nimport {GetSortedCardsType, PackDataType} from \"../../api/api\";\r\nimport {DoubleRange} from \"../../common/DoubleRange/DoubleRange\";\r\nimport {CardsStateType, getCardsTC, setCardsAC} from \"./cards-reducer\";\r\nimport {Paginator} from \"../Paginator/Paginator\";\r\nimport {PATH} from \"../../app/App\";\r\nimport {CardsTable} from \"./CardsTable\";\r\nimport commonStyle from \"../../common/styles/error.module.css\";\r\nimport {Button} from 'antd';\r\n\r\nexport const Cards = () => {\r\n    const isLoggedIn = useSelector<AppRootStateType, boolean>(state => state.auth.isLoggedIn)\r\n    const authUserId = useSelector<AppRootStateType, string>(state => state.auth._id)\r\n    const history = useHistory()\r\n    const {packId} = useParams<{ packId?: any }>()    //читаем id колоды из URL\r\n    const {minGrade, maxGrade} = useSelector<AppRootStateType, GetSortedCardsType>(state => state.cards.sortParams)\r\n    const {\r\n        cards,\r\n        packUserId,\r\n        cardsTotalCount,\r\n        page,\r\n        pageCount,\r\n        error,\r\n        requestStatus\r\n    } = useSelector<AppRootStateType, CardsStateType>(state => state.cards)\r\n    const packs = useSelector<AppRootStateType, Array<PackDataType>>(state => state.packs.cardPacks)\r\n    const dispatch = useDispatch()\r\n\r\n    const [answer, setAnswer] = useState<string>(\"\")\r\n    const [question, setQuestion] = useState<string>(\"\")\r\n\r\n    useEffect(() => {\r\n        if (isLoggedIn && packId) dispatch(getCardsTC(packId))   //запрашиваем карточки, если залогинен и есть packId\r\n        //зачищаем карточки при выходе со страницы Cards, чтобы во время запроса новых карточек в Cards не просвечивались старые\r\n        return () => {\r\n            dispatch(setCardsAC([], \"\", 1, 0, 10))\r\n        }\r\n    }, [])\r\n\r\n    const onGradeRangeChange = useCallback(([minValue, maxValue]: Array<number | undefined>) => {\r\n        dispatch(getCardsTC(packId, {minGrade: minValue, maxGrade: maxValue}))\r\n    }, [packId, dispatch])\r\n\r\n    const onSearchByQuestion = (e: KeyboardEvent<HTMLInputElement>) => {\r\n        if (e.key === 'Enter') {\r\n            dispatch(getCardsTC(packId, {question: question}))\r\n        }\r\n    }\r\n    const onSearchByAnswer = (e: KeyboardEvent<HTMLInputElement>) => {\r\n        if (e.key === 'Enter') {\r\n            dispatch(getCardsTC(packId, {answer: answer}))\r\n        }\r\n    }\r\n    const paginatorPage = useCallback((page: number, pageCount: number | undefined) => {\r\n        dispatch(getCardsTC(packId, {page, pageCount}))\r\n    }, [packId, dispatch])\r\n    //защита от попытки открыть Learn с выдуманным packId в url\r\n    let isPackFound = packs.some(p => p._id === packId)\r\n\r\n    if (!isLoggedIn) return <Redirect to={PATH.LOGIN}/>\r\n    if (isLoggedIn && !packId || isLoggedIn && !isPackFound) return <Redirect to={PATH.PACKS}/>\r\n\r\n    return (\r\n        <div className={style.cards}>\r\n            <h2>Cards</h2>\r\n            <h3>\r\n                <Button onClick={() => history.goBack()} style={{fontSize: '25px', color: '#1890ff', padding: '0 0 5px', lineHeight: '0'}}\r\n                        shape=\"circle\" ghost>⏴</Button>\r\n            </h3>\r\n            <div className={style.filter}>\r\n                {/*фильтр карточек по вопросу*/}\r\n                <label>Search cards by question: <input placeholder={'Press Enter to search'}\r\n                                                        onKeyPress={onSearchByQuestion}\r\n                                                        value={question}\r\n                                                        onChange={e => setQuestion(e.currentTarget.value)}/></label>\r\n                {/*фильтр карточек по ответу*/}\r\n                <label>Search cards by answer: <input placeholder={'Press Enter to search'}\r\n                                                      onKeyPress={onSearchByAnswer}\r\n                                                      value={answer}\r\n                                                      onChange={e => setAnswer(e.currentTarget.value)}/></label>\r\n                {/*двойной range для сортировки по оценкам (grade)*/}\r\n                <div className={style.rangeContainer}>Search cards by grade:\r\n                    <DoubleRange minValue={minGrade} maxValue={maxGrade} onValuesChange={onGradeRangeChange}\r\n                                 maxRangeLimit={5}/></div>\r\n            </div>\r\n            <div className={error && commonStyle.error}>{error}</div>\r\n            {/*таблица с карточками*/}\r\n            <CardsTable cards={cards} packId={packId} packUserId={packUserId} authUserId={authUserId}\r\n                        requestStatus={requestStatus}/>\r\n            {/*Pagination*/}\r\n            <div className={style.pagination}>\r\n                <Paginator current={page}\r\n                           pageCount={pageCount}\r\n                           total={cardsTotalCount}\r\n                           onChange={paginatorPage}\r\n                           requestStatus={requestStatus}/>\r\n            </div>\r\n        </div>\r\n    );\r\n}","import {Dispatch} from \"redux\";\r\nimport {authAPI} from \"../api/api\";\r\nimport {RequestStatusType, setAuthUserDataAC} from \"../features/Login/auth-reducer\";\r\n\r\nconst initialState = {\r\n    status: 'idle' as RequestStatusType,\r\n    error: null as string | null,\r\n    isInitialized: false\r\n}\r\n\r\nexport const appReducer = (state: InitialAppStateType = initialState, action: AppActionsType): InitialAppStateType => {\r\n    switch (action.type) {\r\n        case 'APP/SET-STATUS':\r\n            return {...state, status: action.status}\r\n        case 'APP/SET-ERROR':\r\n            return {...state, error: action.error}\r\n        case 'APP/SET-INITIALIZED':\r\n            return {...state, isInitialized: action.isInitialized}\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\n//action creators\r\nexport const setAppStatusAC = (status: RequestStatusType) => {\r\n    return {type: 'APP/SET-STATUS', status} as const\r\n}\r\nexport const setAppErrorAC = (error: string | null) => {\r\n    return {type: 'APP/SET-ERROR', error} as const\r\n}\r\nexport const setIsInitializedAC = (isInitialized: boolean) => {\r\n    return {type: 'APP/SET-INITIALIZED', isInitialized} as const\r\n}\r\n\r\n//thunk\r\nexport const initializeAppTC = () => (dispatch: ThunkCustomDispatch) => {\r\n    dispatch(setAppStatusAC('loading'))\r\n    authAPI.me()\r\n        .then(res => {\r\n            dispatch(setAuthUserDataAC(res.data._id, res.data.email, res.data.name, res.data.avatar, true))\r\n            dispatch(setAppStatusAC('success'))\r\n            dispatch(setIsInitializedAC(true))\r\n        })\r\n        .catch(e => {\r\n            const error = e.response\r\n                ? e.response.data.error\r\n                : (e.message + ', more details in the console')\r\n            dispatch(setAppErrorAC(error))\r\n            dispatch(setAppStatusAC('failed'))\r\n            setTimeout(() => {\r\n                dispatch(setAppErrorAC(''))\r\n            }, 3000)\r\n            dispatch(setIsInitializedAC(true))\r\n        })\r\n}\r\n\r\n//types\r\nexport type InitialAppStateType = typeof initialState\r\n\r\nexport type AppActionsType =\r\n    | ReturnType<typeof setAppStatusAC>\r\n    | ReturnType<typeof setAppErrorAC>\r\n    | ReturnType<typeof setIsInitializedAC>\r\n\r\ntype ThunkCustomDispatch = Dispatch<AppActionsType | ReturnType<typeof setAuthUserDataAC>>","import {CardDataType} from \"../api/api\";\r\n\r\nexport const getRandomCard = (cards: Array<CardDataType>): CardDataType => {\r\n    let cardsCopy = [...cards]\r\n    let totalSum = cardsCopy.reduce((acc, card) => acc + ((6 - card.grade)**2), 0)\r\n    let random = Math.random() * totalSum\r\n    let i = 0\r\n    let sum = 0\r\n    while (sum < random) {\r\n        sum += (6 - cardsCopy[i].grade)**2\r\n        i++\r\n    }\r\n    return cardsCopy[i-1]\r\n}\r\n","import React, {useEffect, useState} from \"react\";\r\nimport style from \"./Learn.module.css\";\r\nimport {NavLink, Redirect, useHistory, useParams} from \"react-router-dom\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {AppRootStateType} from \"../../app/store\";\r\nimport {CardDataType, PackDataType} from \"../../api/api\";\r\nimport {CardsStateType, getCardsTC, setCardsAC, updateGradeTC} from \"../Cards/cards-reducer\";\r\nimport {PATH} from \"../../app/App\";\r\nimport {Modal} from \"../../common/Modal/Modal\";\r\nimport {getRandomCard} from \"../../utils/get-random-card\";\r\nimport commonStyle from \"../../common/styles/error.module.css\";\r\n\r\n\r\nexport const Learn = () => {\r\n    const isLoggedIn = useSelector<AppRootStateType, boolean>(state => state.auth.isLoggedIn)\r\n    const history = useHistory()\r\n    const [showAnswer, setShowAnswer] = useState<boolean>(false)\r\n    const {packId} = useParams<{ packId?: any }>()    //читаем id колоды из URL\r\n    const {\r\n        cards,\r\n        error,\r\n    } = useSelector<AppRootStateType, CardsStateType>(state => state.cards)\r\n    const packs = useSelector<AppRootStateType, Array<PackDataType>>(state => state.packs.cardPacks)\r\n    const dispatch = useDispatch()\r\n    const [isFirstCard, setIsFirstCard] = useState<boolean>(true);\r\n    let currentPack = packs.find(p => p._id === packId)\r\n    const [card, setCard] = useState<CardDataType>({\r\n        _id: '',\r\n        user_id: '',\r\n        cardsPack_id: '',\r\n        answer: '',\r\n        question: '',\r\n        grade: 0,\r\n        shots: 0,\r\n        type: 'card',\r\n        rating: 0,\r\n        comments: '',\r\n        created: new Date(),\r\n        updated: new Date(),\r\n        answerImg: '',\r\n        questionImg: ''\r\n    })\r\n\r\n    useEffect(() => {\r\n\r\n        if (isFirstCard) {\r\n            dispatch(getCardsTC(packId)); //запрашиваем карточки\r\n            setIsFirstCard(false);\r\n        }\r\n        if (cards.length > 0 && card._id === '') setCard(getRandomCard(cards))\r\n    }, [dispatch, packId, cards, card, isFirstCard])\r\n\r\n    useEffect(() => {\r\n        //зачищаем карточки при выходе со страницы Learn, чтобы во время запроса новых карточек в Cards не просвечивались старые\r\n        return () => {\r\n            dispatch(setCardsAC([], \"\", 1, 0, 10))\r\n        }\r\n    }, [])\r\n\r\n    const onGradeBtnClick = (grade: string | undefined) => {\r\n        dispatch(updateGradeTC(grade && +grade || 0, card._id))\r\n        setCard(getRandomCard(cards))\r\n        setShowAnswer(false)\r\n    }\r\n    const onNextClick = () => {\r\n        setCard(getRandomCard(cards))\r\n        setShowAnswer(false)\r\n    }\r\n\r\n    //защита от попытки открыть Learn с выдуманным packId в url\r\n    let isPackFound = packs.some(p => p._id === packId)\r\n\r\n    if (!isLoggedIn) return <Redirect to={PATH.LOGIN}/>\r\n    if (!isPackFound) return <Redirect to={PATH.PACKS}/>\r\n\r\n    return <Modal show enableBackground modalWidthPx={800} modalHeightPx={600}\r\n                  backgroundOnClick={() => history.goBack()}>\r\n        <div className={error && commonStyle.error}>{error}</div>\r\n        {/*вопрос*/}\r\n        <div className={style.learn}>\r\n            {/*отображаем обложку колоды*/}\r\n            {currentPack && currentPack.deckCover && currentPack.deckCover !== '0' &&\r\n            <div className={style.deckCover} style={{backgroundImage: `url(${currentPack.deckCover})`}}>\r\n            </div>}\r\n            {/*отображаем вопрос*/}\r\n            <div className={style.section}>\r\n                <h4>Question: </h4>\r\n                <p className={style.text}>{card.question}</p>\r\n            </div>\r\n            {/*отображаем картинку вопроса, если есть*/}\r\n            {card.questionImg && card.questionImg !== '0' &&\r\n            <div className={style.questionImg} style={{backgroundImage: `url(${card.questionImg})`}}>\r\n            </div>}\r\n            {!showAnswer && <button className={style.section} onClick={() => setShowAnswer(true)}>Check answer</button>}\r\n            {/*ответ*/}\r\n            {showAnswer && <>\r\n                <div className={style.section}>\r\n                    <h4>Answer: </h4>\r\n                    <p className={style.text}>{card.answer}</p>\r\n                </div>\r\n                {/*отображаем картинку ответа, если есть*/}\r\n                {card.answerImg && card.answerImg !== '0' &&\r\n                <div className={style.answerImg} style={{backgroundImage: `url(${card.answerImg})`}}>\r\n                </div>}\r\n                <div className={style.buttons}>\r\n                    <button onClick={e => onGradeBtnClick(e.currentTarget.dataset.grade)} data-grade={'1'}>\r\n                        Не знал/<br/>Didn’t know\r\n                    </button>\r\n                    <button onClick={e => onGradeBtnClick(e.currentTarget.dataset.grade)} data-grade={'2'}>\r\n                        Забыл/<br/>Forgot\r\n                    </button>\r\n                    <button onClick={e => onGradeBtnClick(e.currentTarget.dataset.grade)} data-grade={'3'}>\r\n                        Долго думал/<br/>Thought too long\r\n                    </button>\r\n                    <button onClick={e => onGradeBtnClick(e.currentTarget.dataset.grade)} data-grade={'4'}>\r\n                        Почти угадал/<br/>Nearly guessed\r\n                    </button>\r\n                    <button onClick={e => onGradeBtnClick(e.currentTarget.dataset.grade)} data-grade={'5'}>\r\n                        Знал/<br/>I knew it\r\n                    </button>\r\n                </div>\r\n            </>\r\n            }\r\n            <div className={style.buttons}>\r\n                <NavLink to={PATH.PACKS}> Cancel </NavLink>\r\n                <button onClick={onNextClick}>Next</button>\r\n            </div>\r\n        </div>\r\n    </Modal>\r\n}","import React, {useEffect, useState} from \"react\";\r\nimport {Modal} from \"../../../common/Modal/Modal\";\r\n\r\ntype ScrollUpModalPropsType = {}\r\n\r\nexport const ScrollUpModal: React.FC<ScrollUpModalPropsType> = React.memo(({}) => {\r\n    const [show, setShow] = useState(false)\r\n    let scrollSpeed = 10 // пауза между интервалами: 50мс, поэтому 10 здесь означает, что полный скролл займёт 500мс (полсекунды)\r\n\r\n    useEffect(() => {\r\n        window.addEventListener('scroll', handleScroll)\r\n    }, [])\r\n\r\n    const handleScroll = () => { //условия появления модалки\r\n        if (window.pageYOffset > 400) {\r\n            setShow(true)\r\n        } else {\r\n            setShow(false)\r\n        }\r\n    }\r\n\r\n    const scroll = () => {\r\n        const singleScrollLength = window.pageYOffset / scrollSpeed //отрезок, проскролленый за 1 интервал (ниже)\r\n        let lastScrollPosition = window.pageYOffset // позиция скролла во время предыдущего интервала (ниже)\r\n\r\n        const timer = setInterval(() => {\r\n            if (lastScrollPosition < window.pageYOffset) { //остановить скролл, если юзер скроллит вниз во время скролла вверх\r\n                clearInterval(timer)\r\n            } else {\r\n                lastScrollPosition = window.pageYOffset //иначе обновляем значение предыдущей позиции скролла\r\n            }\r\n\r\n            window.scroll(0, lastScrollPosition - singleScrollLength) //скроллим на 1 отрезок вверх\r\n            if (window.pageYOffset === 0) clearInterval(timer) //остановить скролл, если находимся в самом верху\r\n        }, 50)\r\n    }\r\n\r\n    return <Modal enableBackground={false} modalHeightPx={50} modalWidthPx={50} show={show}\r\n                  modalOnClick={scroll} modalStyle={{\r\n        top: '85vh',\r\n        left: '60px',\r\n        border: '1px solid #d9d9d9',\r\n        borderRadius: '2px',\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        backgroundColor: '#fafafa',\r\n        boxShadow: '5px 5px 5px grey',\r\n        opacity: '0.5',\r\n        cursor: 'pointer'\r\n    }}>\r\n        <h2>⏶</h2>\r\n    </Modal>\r\n})\r\n","export default __webpack_public_path__ + \"static/media/maria.85ce96e4.jpeg\";","export default __webpack_public_path__ + \"static/media/leonid.50e258e4.jpg\";","export default __webpack_public_path__ + \"static/media/anton.01b75db7.png\";","import React from \"react\";\r\nimport style from \"./TeamPresentation.module.css\";\r\nimport maria from \"../../assets/images/maria.jpeg\"\r\nimport leonid from \"../../assets/images/leonid.jpg\";\r\nimport anton from \"../../assets/images/anton.png\";\r\n\r\nexport const TeamPresentation = React.memo(() => {\r\n\r\n    return (\r\n        <div className={style.teamPresentation}>\r\n            <div className={style.section}>Dream Team</div>\r\n            <div className={style.avatars}>\r\n                <div className={style.maria} style={{backgroundImage: `url(${maria})`}}> </div>\r\n                <div className={style.leonid} style={{backgroundImage: `url(${leonid})`}}> </div>\r\n                <div className={style.anton} style={{backgroundImage: `url(${anton})`}}> </div>\r\n            </div>\r\n            <div className={style.section}>Presents...</div>\r\n        </div>\r\n    );\r\n})","import axios from 'axios'\r\n\r\nconst instance = axios.create({\r\n    baseURL: 'https://dry-forest-56016.herokuapp.com/'\r\n})\r\n\r\nexport const filesAPI = {\r\n    getFile() { // получение файла\r\n        return instance.get(`file`, {responseType: 'blob'})\r\n    },\r\n    sendFile(file: FormData) {  // отправка файла\r\n        return instance.post<FileResponseType>(`file`, file)\r\n    }\r\n}\r\n\r\n//types\r\ntype FileResponseType = {\r\n    fileName: string\r\n    success: boolean\r\n}","import {Dispatch} from \"redux\";\r\nimport {RequestStatusType} from \"../Login/auth-reducer\";\r\nimport {filesAPI} from \"../../api/files-api\";\r\n\r\n\r\nconst initialState = {\r\n    requestStatus: 'idle' as RequestStatusType,\r\n    error: \"\",\r\n}\r\n\r\nexport const filesReducer = (state = initialState, action: ActionsType): FilesStateType => {\r\n    switch (action.type) {\r\n        case 'FILES/SET-REQUEST-STATUS': {\r\n            return {\r\n                ...state,\r\n                requestStatus: action.requestStatus,\r\n                error: action.requestStatus === 'success'\r\n                    ? ''\r\n                    : state.error\r\n            }\r\n        }\r\n        case 'FILES/SET-ERROR': {\r\n            return {\r\n                ...state,\r\n                error: action.error\r\n            }\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\n//action creators\r\nconst setRequestStatusAC = (requestStatus: RequestStatusType) => ({\r\n    type: 'FILES/SET-REQUEST-STATUS',\r\n    requestStatus\r\n} as const)\r\nconst setErrorAC = (error: string) => ({type: 'FILES/SET-ERROR', error} as const)\r\n\r\n//thunk\r\nexport const getFileTC = (fileName: string) => (dispatch: ThunkCustomDispatch) => { //скачиваем файл с сервера на устройство\r\n    dispatch(setRequestStatusAC('loading'))\r\n    filesAPI.getFile()\r\n        .then(({data}) => {\r\n            const blob = new Blob([data], {type: 'image/jpeg'})\r\n            // создаём ссылку на файл\r\n            const downloadUrl = window.URL.createObjectURL(blob)\r\n            // создаём тег \"ссылка\" на наш файл\r\n            const link = document.createElement('a')\r\n            link.href = downloadUrl\r\n            // добавляем атрибуты нашему тегу: загрузочный, имя файла\r\n            link.setAttribute('download', fileName)\r\n            // добавляем тег в документ\r\n            document.body.appendChild(link)\r\n            // кликаем по ссылке\r\n            link.click()\r\n            // удаляем тег из документа\r\n            link.remove()\r\n\r\n            dispatch(setRequestStatusAC('success'))\r\n        })\r\n        .catch(e => {\r\n            const error = e.response\r\n                ? e.response.data.error\r\n                : (e.message + ', more details in the console')\r\n            dispatch(setErrorAC(error))\r\n            dispatch(setRequestStatusAC('failed'))\r\n            setTimeout(() => {\r\n                dispatch(setErrorAC(''))\r\n            }, 3000)\r\n        })\r\n}\r\n\r\nexport const sendFileTC = (file: FormData) => (dispatch: ThunkCustomDispatch) => {\r\n    dispatch(setRequestStatusAC('loading'))\r\n    filesAPI.sendFile(file)\r\n        .then(() => {\r\n            dispatch(setRequestStatusAC('success'))\r\n        })\r\n        .catch(e => {\r\n            const error = e.response\r\n                ? e.response.data.error\r\n                : (e.message + ', more details in the console')\r\n            dispatch(setErrorAC(error))\r\n            dispatch(setRequestStatusAC('failed'))\r\n            setTimeout(() => {\r\n                dispatch(setErrorAC(''))\r\n            }, 3000)\r\n        })\r\n}\r\n\r\n//types\r\nexport type FilesStateType = typeof initialState\r\n//объединение типов actionов:\r\nexport type ActionsType =\r\n    | ReturnType<typeof setRequestStatusAC>\r\n    | ReturnType<typeof setErrorAC>\r\n\r\n\r\n// тип диспатча:\r\ntype ThunkCustomDispatch = Dispatch<ActionsType>","export default __webpack_public_path__ + \"static/media/mute.ccd4e6fb.svg\";","import React, {useCallback, useEffect, useRef, useState} from \"react\";\r\nimport style from \"./Files.module.css\";\r\nimport muteIcon from \"../../assets/images/mute.svg\";\r\nimport {\r\n    CaretRightOutlined,\r\n    DashboardOutlined,\r\n    FullscreenOutlined,\r\n    PauseOutlined,\r\n    PlaySquareOutlined,\r\n    SoundOutlined\r\n} from '@ant-design/icons';\r\nimport {Button, Popover, Radio, RadioChangeEvent, Slider, Space} from \"antd\";\r\n\r\n//преобразуем время видео в формат 00:00:\r\nconst formatTime = (seconds: number | undefined) => {\r\n    if (seconds) {\r\n        let minutes = Math.floor(seconds / 60);\r\n        let minutesString = (minutes >= 10) ? minutes : \"0\" + minutes;\r\n        seconds = Math.floor(seconds % 60);\r\n        let secondsString = (seconds >= 10) ? seconds : \"0\" + seconds;\r\n        return minutesString + \":\" + secondsString;\r\n    } else return '00:00'\r\n}\r\n\r\ntype VideoPropsType = {\r\n    fileURL: string\r\n}\r\nexport const Video: React.FC<VideoPropsType> = React.memo(({fileURL}) => {\r\n    const videoRef = useRef<HTMLVideoElement>(null)\r\n    const [duration, setDuration] = useState<number | undefined>()\r\n    const [currentTime, setCurrentTime] = useState<number | undefined>()\r\n    const [volume, setVolume] = useState<number | undefined>()\r\n    const [isPaused, setIsPaused] = useState<boolean>(true)\r\n    const [showSpeedRates, setShowSpeedRates] = useState<boolean>(false)\r\n    const formattedDuration = formatTime(duration)\r\n    const formattedCurrentTime = formatTime(currentTime)\r\n\r\n    useEffect(() => {\r\n        // сетаем данные видео каждые 300мс:\r\n        const intervalId = setInterval(() => {\r\n            videoRef.current && setDuration(videoRef.current && videoRef.current.duration)\r\n            if (videoRef.current && videoRef.current.currentTime === videoRef.current.duration) {\r\n                videoRef.current.currentTime = 0\r\n                videoRef.current.play()\r\n            }\r\n            videoRef.current && setCurrentTime(videoRef.current && videoRef.current.currentTime)\r\n            videoRef.current && setVolume(videoRef.current && videoRef.current.volume)\r\n        }, 300)\r\n\r\n        return () => {\r\n            clearInterval(intervalId)\r\n        }\r\n    }, [])\r\n\r\n    const play = useCallback(() => videoRef.current && videoRef.current.play(), [videoRef])\r\n    const pause = useCallback(() => videoRef.current && videoRef.current.pause(), [videoRef])\r\n    const onCurrentTimeChange = useCallback((value: number) => {\r\n        if (videoRef.current) {\r\n            videoRef.current.currentTime = value\r\n        }\r\n    }, [videoRef])\r\n    const onVolumeChange = useCallback((value: number) => {\r\n        if (videoRef.current) {\r\n            videoRef.current.volume = value\r\n        }\r\n    }, [videoRef])\r\n    const onSpeedChange = useCallback((e: RadioChangeEvent) => {\r\n        if (videoRef.current) {\r\n            videoRef.current.playbackRate = e.target.value\r\n        }\r\n        setShowSpeedRates(false)\r\n    }, [videoRef])\r\n    // слайдер-контроллер громкости:\r\n    const volumeRate = (\r\n        <Slider style={{height: '60px', margin: '0', padding: '0'}} vertical\r\n                value={volume} min={0} max={1} onChange={onVolumeChange} step={0.1}/>\r\n    )\r\n    // кнопки для выбора скорости воспроизведения:\r\n    const playbackSpeed = (\r\n        <Radio.Group defaultValue={1.0} size=\"small\" onChange={onSpeedChange}>\r\n            <Space direction=\"vertical\">\r\n                <Radio.Button style={{padding: '0', margin: '0'}} value={0.25}>0.25x</Radio.Button>\r\n                <Radio.Button style={{padding: '0', margin: '0'}} value={0.5}>0.5x</Radio.Button>\r\n                <Radio.Button style={{padding: '0', margin: '0'}} value={0.75}>0.75x</Radio.Button>\r\n                <Radio.Button style={{padding: '0', margin: '0'}} value={1.0}>Normal</Radio.Button>\r\n                <Radio.Button style={{padding: '0', margin: '0'}} value={1.25}>1.25x</Radio.Button>\r\n                <Radio.Button style={{padding: '0', margin: '0'}} value={1.5}>1.5x</Radio.Button>\r\n                <Radio.Button style={{padding: '0', margin: '0'}} value={1.75}>1.75x</Radio.Button>\r\n                <Radio.Button style={{padding: '0', margin: '0'}} value={2}>2x</Radio.Button>\r\n            </Space>\r\n        </Radio.Group>\r\n    )\r\n\r\n    return <div className={style.video}>\r\n        <video src={fileURL} ref={videoRef}/>\r\n        {/*дивка с кнопками*/}\r\n        <div className={style.videoControls}>\r\n            {/*большая кнопка play*/}\r\n            <div className={style.playBtn} onClick={() => {\r\n                isPaused ? play() : pause()\r\n                setIsPaused(!isPaused)\r\n            }}>\r\n                {isPaused\r\n                    ? <PlaySquareOutlined style={{color: '#1890ff', fontSize: '60px'}}/>\r\n                    : null}\r\n            </div>\r\n            <div className={style.controlBtns}>\r\n                {/*маленькая кнопка play/pause*/}\r\n                <div className={style.playAndTime}>\r\n                    {isPaused\r\n                        ? <Button onClick={() => {\r\n                            play()\r\n                            setIsPaused(false)\r\n                        }} icon={<CaretRightOutlined style={{color: '#1890ff', fontSize: '25px'}}/>}\r\n                                  type={'link'} ghost/>\r\n                        : <Button onClick={() => {\r\n                            pause()\r\n                            setIsPaused(true)\r\n                        }} icon={<PauseOutlined style={{color: '#1890ff', fontSize: '25px'}}/>}\r\n                                  type={'link'} ghost/>}\r\n                    {/*время*/}\r\n                    <span>{formattedCurrentTime}/{formattedDuration}</span>\r\n                </div>\r\n                {/*слайдер для перемотки*/}\r\n                <Slider style={{width: '500px'}} tooltipVisible={false}\r\n                        value={currentTime} min={0} max={duration} step={0.01}\r\n                        onChange={onCurrentTimeChange}\r\n                />\r\n                <div className={style.settings}>\r\n                    {/*звук*/}\r\n                    <Popover content={volumeRate} overlayStyle={{width: '35px'}} overlayInnerStyle={{opacity: '0.9'}}>\r\n                        {volume && volume > 0\r\n                            ? <Button onClick={() => {\r\n                                if (videoRef.current) {\r\n                                    videoRef.current.volume = 0\r\n                                }\r\n                            }} icon={<SoundOutlined style={{color: '#1890ff', fontSize: '20px'}}/>}\r\n                                      type={'link'} ghost/>\r\n                            : <Button onClick={() => {\r\n                                if (videoRef.current) {\r\n                                    videoRef.current.volume = 0.5\r\n                                }\r\n                            }} icon={<img src={muteIcon} alt={'mute'}/>}\r\n                                      type={'link'} ghost/>}\r\n                    </Popover>\r\n                    {/*скорость воспроизведения*/}\r\n                    <Popover content={playbackSpeed} overlayStyle={{width: '64px'}} overlayInnerStyle={{opacity: '0.9'}}\r\n                             trigger=\"click\" visible={showSpeedRates} onVisibleChange={(visible) => {\r\n                        setShowSpeedRates(visible)\r\n                    }}>\r\n                        <DashboardOutlined style={{color: '#1890ff', fontSize: '20px'}}/>\r\n                    </Popover>\r\n                    {/*полноэкранный режим*/}\r\n                    <Button onClick={() => {\r\n                        if (videoRef.current) {\r\n                            videoRef.current.requestFullscreen()\r\n                        }\r\n                    }} icon={<FullscreenOutlined style={{color: '#1890ff', fontSize: '20px'}}/>}\r\n                            type={'link'} ghost/>\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n    </div>\r\n})","import React, {useCallback, useState} from \"react\";\r\nimport style from \"./Files.module.css\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {AppRootStateType} from \"../../app/store\";\r\nimport {PATH} from \"../../app/App\";\r\nimport {FileUploader, UploadedFileDataType} from \"../../common/FileUploader/FileUploader\";\r\nimport {Button, Progress} from \"antd\";\r\nimport {DeleteTwoTone, UploadOutlined} from \"@ant-design/icons\";\r\nimport {FilesStateType, getFileTC, sendFileTC} from \"./files-reducer\";\r\nimport commonStyle from \"../../common/styles/error.module.css\";\r\nimport {Video} from \"./Video\";\r\n\r\nexport const downloadUpdatedFile = (fileName: string, text: string) => {\r\n    const link = document.createElement(\"a\");\r\n    link.href = \"data:text/plain;content-disposition=attachment;filename=file,\" + text;\r\n    link.download = fileName;\r\n    link.style.display = \"none\";\r\n    document.body.appendChild(link);\r\n    link.click();\r\n    document.body.removeChild(link);\r\n};\r\n\r\nexport const Files = () => {\r\n    const isLoggedIn = useSelector<AppRootStateType, boolean>(state => state.auth.isLoggedIn)\r\n    const {error, requestStatus} = useSelector<AppRootStateType, FilesStateType>(state => state.files)\r\n    const [fileData, setFileData] = useState<FormData>()\r\n    const [base64, setBase64] = useState<string>('')\r\n    const [fileURL, setFileURL] = useState<string>('')\r\n    const [fileName, setFileName] = useState<string>('')\r\n    const [fileLastModified, setFileLastModified] = useState<string>('')\r\n    const [fileSize, setFileSize] = useState<string | undefined>('')\r\n    const [fileType, setFileType] = useState<string>('')\r\n    const [newText, setNewText] = useState<string>('')\r\n    const [showDownloadButton, setShowDownloadButton] = useState<boolean>(false)\r\n    const dispatch = useDispatch()\r\n\r\n    const onFileUpload = useCallback((fileData: UploadedFileDataType) => {\r\n        setFileName(fileData.fileName)\r\n        setFileSize(fileData.fileSize)\r\n        setFileType(fileData.fileType)\r\n        setFileLastModified(fileData.fileLastModified)\r\n        setFileURL(fileData.fileURL)\r\n        setBase64(fileData.base64)\r\n        setFileData(fileData.formData)\r\n    }, [setFileName, setFileSize, setFileType, setFileURL, setBase64, setFileData])\r\n\r\n    const onSendClick = () => {\r\n        fileData && dispatch(sendFileTC(fileData))\r\n        setShowDownloadButton(true)\r\n    }\r\n    const onDownloadClick = () => {\r\n        fileData && dispatch(getFileTC(fileName))\r\n    }\r\n\r\n    const onSaveClick = () => {\r\n        let text = base64 + `\\r\\n` + newText\r\n        downloadUpdatedFile(fileName, text)\r\n    }\r\n    const onDeleteImageClick = () => {\r\n        setFileName('')\r\n        setFileSize('')\r\n        setFileType('')\r\n        setFileLastModified('')\r\n        setFileURL('')\r\n        setBase64('')\r\n        setFileData(undefined)\r\n    }\r\n\r\n    if (!isLoggedIn) return <Redirect to={PATH.LOGIN}/>\r\n\r\n    return (\r\n        <div className={style.files}>\r\n            {requestStatus === 'loading' && <Progress status=\"active\" percent={99.9} style={{position: \"absolute\", top: 0}}\r\n                                                      strokeColor={{from: '#1890ff', to: '#76ff7a'}} strokeWidth={7}/>}\r\n            <div className={error && commonStyle.error}>{error}</div>\r\n            <FileUploader onClick={onFileUpload} style={{margin: '20px'}}>\r\n                <Button icon={<UploadOutlined/>}>Upload file</Button>\r\n            </FileUploader>\r\n            {/*данные файла*/}\r\n            {fileName && <p>File Name: {fileName}</p>}\r\n            {fileSize && <p>File Size: {fileSize}</p>}\r\n            {fileLastModified && <p>Last Modified: {fileLastModified}</p>}\r\n            {/*превью картинки*/}\r\n            {/image\\/.+/.test(fileType) && fileURL && <div className={style.previewContainer}>\r\n                {/*картинка*/}\r\n                <div className={style.preview} style={{backgroundImage: `url(${fileURL})`}}> </div>\r\n                {/*кнопка для удаления*/}\r\n                <div className={style.bin}>\r\n                    <Button onClick={onDeleteImageClick}\r\n                            icon={<DeleteTwoTone style={{fontSize: '16px'}}/>} shape=\"circle\" ghost/>\r\n                </div>\r\n            </div>}\r\n            {/*превью текста*/}\r\n            {/text\\/.+/.test(fileType) && <>\r\n                <b><pre>{base64}</pre></b>\r\n                <textarea value={newText} onChange={e => setNewText(e.currentTarget.value)}/>\r\n                <Button onClick={onSaveClick}>Add text and Download file</Button>\r\n            </>}\r\n            {/*превью видео*/}\r\n            {/video\\/.+/.test(fileType) && <>\r\n                <Video fileURL={fileURL}/>\r\n            </>}\r\n            {/*кнопки для отправки картинки на сервер*/}\r\n            {fileData && <>\r\n                <Button onClick={onSendClick}>Send file to server</Button>\r\n            </>}\r\n            {showDownloadButton && <Button onClick={onDownloadClick}>Download my file from server</Button>}\r\n\r\n        </div>\r\n    );\r\n}\r\n\r\n","import React from \"react\";\r\nimport style from \"./Page404.module.css\";\r\nimport {useHistory} from \"react-router-dom\";\r\nimport ghost from \"../../assets/images/ghost.png\";\r\nimport shadow from \"../../assets/images/shadow.png\";\r\n\r\nexport const Page404 = () => {\r\n    const history = useHistory()\r\n\r\n    return (\r\n        <div className={style.page404}>\r\n            <h3 className={style.goBack}>\r\n                <button onClick={() => history.goBack()}>⏴ Back</button>\r\n            </h3>\r\n            <div className={style.bigError}>error</div>\r\n            <div className={style.ghostContainer}>\r\n                <div className={style.ghostWithShadow}>\r\n                    <img className={style.ghost} src={ghost} alt={'ghost'}/>\r\n                    <img className={style.shadow} src={shadow} alt={'shadow'}/>\r\n                </div>\r\n                <h2 className={style.errorTitle}>Page not found</h2>\r\n                <h6 className={style.errorDescription}>\r\n                    <p>The page you are looking for might have been removed,\r\n                        had its name changed, </p>\r\n                    <p>or is temporarily unavailable.</p>\r\n                </h6>\r\n            </div>\r\n        </div>\r\n    )\r\n}","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,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\"","import React from \"react\";\r\nimport {RequestStatusType} from \"../Login/auth-reducer\";\r\nimport {UserType} from \"../../api/social-api\";\r\nimport style from \"./Users.module.css\";\r\nimport {List, Avatar, Spin} from 'antd';\r\nimport {PATH} from \"../../app/App\";\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\ntype PacksTablePropsType = {\r\n    users: Array<UserType>\r\n    requestStatus: RequestStatusType\r\n}\r\n\r\nexport const UsersList = React.memo(({users, requestStatus}: PacksTablePropsType) => {\r\n\r\n    return <div className={style.usersListContainer}>\r\n\r\n        <List\r\n            dataSource={users}\r\n            renderItem={user => (\r\n                <List.Item key={user._id}>\r\n                    <List.Item.Meta\r\n                        avatar={<Avatar src={user.avatar}/>}\r\n                        title={user.name}\r\n                        description={<>Created {user.publicCardPacksCount} public card packs</>}\r\n                    />\r\n                    <div>\r\n                        <NavLink to={`${PATH.PROFILE}/${user._id}`}>\r\n                            View profile\r\n                        </NavLink>\r\n                    </div>\r\n                </List.Item>\r\n            )}\r\n        >\r\n            {requestStatus === 'loading' && (\r\n                <Spin/>\r\n            )}\r\n        </List>\r\n\r\n    </div>\r\n})","import React, {KeyboardEvent, useCallback, useEffect, useState} from \"react\";\r\nimport style from \"./Users.module.css\";\r\nimport commonStyle from \"../../common/styles/error.module.css\";\r\nimport {DoubleRange} from \"../../common/DoubleRange/DoubleRange\";\r\nimport {Paginator} from \"../Paginator/Paginator\";\r\nimport {UsersList} from \"./UsersList\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {PATH} from \"../../app/App\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {AppRootStateType} from \"../../app/store\";\r\nimport {getUsersTC, UsersStateType} from \"./users-reducer\";\r\nimport {UsersSortParamsType} from \"../../api/social-api\";\r\n\r\nexport const Users = () => {\r\n    const {\r\n        users,\r\n        error,\r\n        requestStatus,\r\n        usersTotalCount,\r\n        page,\r\n        pageCount,\r\n    } = useSelector<AppRootStateType, UsersStateType>(state => state.users)\r\n    const {minPublicCardPacksCount,\r\n        maxPublicCardPacksCount} = useSelector<AppRootStateType, UsersSortParamsType>(state => state.users.sortParams)\r\n    const isLoggedIn = useSelector<AppRootStateType, boolean>(state => state.auth.isLoggedIn)\r\n    const [searchByName, setSearchByName] = useState('')\r\n    const dispatch = useDispatch()\r\n\r\n    useEffect(() => {\r\n        if (isLoggedIn) dispatch(getUsersTC())\r\n    }, [])\r\n\r\n    const onSearchByName = (e: KeyboardEvent<HTMLInputElement>) => {\r\n        if (e.key === 'Enter') {\r\n            dispatch(getUsersTC({userName: searchByName}))\r\n        }\r\n    }\r\n    const onPacksCountChange = useCallback(([minValue, maxValue]: Array<number | undefined>) => {\r\n        dispatch(getUsersTC({minPublicCardPacksCount: minValue, maxPublicCardPacksCount: maxValue}))\r\n    }, [dispatch])\r\n\r\n    const onPaginatorChange = useCallback((page: number, pageCount: number | undefined) => {\r\n        dispatch(getUsersTC({page, pageCount}))\r\n    }, [dispatch])\r\n\r\n    if (!isLoggedIn) return <Redirect to={PATH.LOGIN}/>\r\n\r\n    return (\r\n        <div className={style.users}>\r\n            <h2>Users</h2>\r\n            <div className={style.filter}>\r\n                {/*фильтр по названию колоды*/}\r\n                <label>Search users by name: <input placeholder={'Press Enter to search'}\r\n                                                    onKeyPress={onSearchByName}\r\n                                                    value={searchByName}\r\n                                                    onChange={e => setSearchByName(e.currentTarget.value)}\r\n                /></label>\r\n\r\n                {/*двойной range для сортировки по кол-ву карточек в колоде*/}\r\n                <div className={style.rangeContainer}>\r\n                    Search users by the number of their card packs:\r\n                    <DoubleRange minValue={minPublicCardPacksCount} maxValue={maxPublicCardPacksCount} onValuesChange={onPacksCountChange}\r\n                                 maxRangeLimit={200}/>\r\n                </div>\r\n            </div>\r\n            <div className={error && commonStyle.error}>{error}</div>\r\n            {/*таблица с колодами*/}\r\n            <UsersList users={users} requestStatus={requestStatus}/>\r\n            {/*Pagination*/}\r\n            <div className={style.pagination}>\r\n                <Paginator current={page}\r\n                           pageCount={pageCount}\r\n                           total={usersTotalCount}\r\n                           onChange={onPaginatorChange}\r\n                           requestStatus={requestStatus}/>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\n","export const config = {\r\n    MY_API_KEY: \"88b8926d-16da-47e2-b999-9f56631c9818\"\r\n}","import React, {useEffect, useState} from \"react\";\r\nimport {withYMaps, YMapsApi} from 'react-yandex-maps';\r\nimport commonStyle from \"../../common/styles/error.module.css\";\r\n\r\ntype PropsType = {\r\n    ymaps?: YMapsApi\r\n    route: Array<string>\r\n}\r\n\r\nconst LengthCalculator: React.FC<PropsType> = React.memo(({ymaps, route}) => {\r\n        const [routeLength, setRouteLength] = useState(null)\r\n        const [error, setError] = useState('')\r\n\r\n        useEffect(() => {\r\n            let canceled = false\r\n\r\n            if (ymaps && ymaps.route) {\r\n                ymaps.route(route).then((route: any) => {\r\n                    if (!canceled) {\r\n                        setRouteLength(route.getHumanLength().replace('&#160;', ' '))\r\n                    }\r\n                }).catch((error: { message: string }) => {\r\n                    if (error.message === 'scriptError') {\r\n                        setError('Please enter valid destination names or coordinates.')\r\n                        setTimeout(() => {\r\n                            setError('')\r\n                        }, 3000)\r\n                    }\r\n                })\r\n            }\r\n\r\n            return () => {\r\n                canceled = true\r\n            }\r\n        }, [ymaps, ...route])\r\n\r\n        return <>\r\n            {\r\n                routeLength\r\n                    ? <p>\r\n                        The route from <b>{route[0]}</b> to <b>{route[1]}</b> is <b>{routeLength}</b> long\r\n                    </p>\r\n                    : <p>Loading route...</p>\r\n            }\r\n            {error && <div className={error && commonStyle.error}>{error}</div>}\r\n        </>\r\n    }\r\n)\r\n//оборачиваем LengthCalculator в HOC withYMaps:\r\nexport const RouteCalculator = withYMaps(LengthCalculator, true, ['route'])","import {AnyObject, ObjectManagerFeature, YMapsApi} from \"react-yandex-maps\";\r\n\r\nexport const addAreaCalculationModule = (ymaps: YMapsApi) => {\r\n\r\n    ymaps.modules.define('util.calculateArea', [] as any, function (provide: any) {\r\n        // Equatorial radius of Earth\r\n        let RADIUS = 6378137\r\n\r\n        function calculateArea(feature: ObjectManagerFeature) {\r\n            let geoJsonGeometry = getGeoJsonGeometry(feature)\r\n            return calculateJsonGeometryArea(geoJsonGeometry)\r\n        }\r\n\r\n        function getGeoJsonGeometry(feature: ObjectManagerFeature) {\r\n            if (feature.type === 'Feature') {\r\n                return feature.geometry\r\n            } else if (feature.geometry && feature.geometry.getType) {\r\n                if (feature.geometry.getType() === 'Circle') {\r\n                    return {\r\n                        type: 'Circle',\r\n                        coordinates: feature.geometry.getCoordinates(),\r\n                        radius: feature.geometry.getRadius()\r\n                    }\r\n                }\r\n                return {\r\n                    type: feature.geometry.getType(),\r\n                    coordinates: feature.geometry.getCoordinates()\r\n                }\r\n            } else {\r\n                throw new Error('util.calculateArea: Unknown input object.')\r\n            }\r\n        }\r\n\r\n        function calculateJsonGeometryArea(geometry: AnyObject) {\r\n            let area = 0\r\n            let i\r\n            switch (geometry.type) {\r\n                case 'Polygon':\r\n                    return polygonArea(geometry.coordinates)\r\n                case 'MultiPolygon':\r\n                    for (i = 0; i < geometry.coordinates.length; i++) {\r\n                        area += polygonArea(geometry.coordinates[i])\r\n                    }\r\n                    return area\r\n                case 'Rectangle':\r\n                    return polygonArea([[\r\n                        geometry.coordinates[0],\r\n                        [geometry.coordinates[0][0], geometry.coordinates[1][1]],\r\n                        geometry.coordinates[1],\r\n                        [geometry.coordinates[1][0], geometry.coordinates[0][1]],\r\n                        geometry.coordinates[0]\r\n                    ]]);\r\n                case 'Circle':\r\n                    return Math.PI * Math.pow(geometry.radius, 2)\r\n                case 'Point':\r\n                case 'MultiPoint':\r\n                case 'LineString':\r\n                case 'MultiLineString':\r\n                    return 0\r\n            }\r\n        }\r\n\r\n        function polygonArea(coords: number[][][]) {\r\n            let area = 0\r\n            if (coords && coords.length > 0) {\r\n                area += Math.abs(ringArea(coords[0]))\r\n                for (let i = 1; i < coords.length; i++) {\r\n                    area -= Math.abs(ringArea(coords[i]))\r\n                }\r\n            }\r\n            return area\r\n        }\r\n\r\n        /**\r\n         * Modified version of https://github.com/mapbox/geojson-area\r\n         * Calculate the approximate area of the polygon were it projected onto\r\n         *     the earth.  Note that this area will be positive if ring is oriented\r\n         *     clockwise, otherwise it will be negative.\r\n         *\r\n         * Reference:\r\n         * Robert. G. Chamberlain and William H. Duquette, \"Some Algorithms for\r\n         *     Polygons on a Sphere\", JPL Publication 07-03, Jet Propulsion\r\n         *     Laboratory, Pasadena, CA, June 2007 https://trs.jpl.nasa.gov/handle/2014/40409\r\n         *\r\n         * Returns:\r\n         * {Number} The approximate signed geodesic area of the polygon in square\r\n         *     meters.\r\n         */\r\n\r\n        function ringArea(coords: number[][]) {\r\n            let p1 = []\r\n            let p2 = []\r\n            let p3 = []\r\n            let lowerIndex\r\n            let middleIndex\r\n            let upperIndex\r\n            let i\r\n            let area = 0\r\n            let coordsLength = coords.length\r\n            let longitude = ymaps.meta.coordinatesOrder === 'latlong' ? 1 : 0\r\n            let latitude = ymaps.meta.coordinatesOrder === 'latlong' ? 0 : 1\r\n\r\n            if (coordsLength > 2) {\r\n                for (i = 0; i < coordsLength; i++) {\r\n                    // i = N-2\r\n                    if (i === coordsLength - 2) {\r\n                        lowerIndex = coordsLength - 2\r\n                        middleIndex = coordsLength - 1\r\n                        upperIndex = 0\r\n                    } else if (i === coordsLength - 1) {\r\n                        // i = N-1\r\n                        lowerIndex = coordsLength - 1\r\n                        middleIndex = 0\r\n                        upperIndex = 1\r\n                    } else {\r\n                        // i = 0 to N-3\r\n                        lowerIndex = i\r\n                        middleIndex = i + 1\r\n                        upperIndex = i + 2\r\n                    }\r\n                    p1 = coords[lowerIndex]\r\n                    p2 = coords[middleIndex]\r\n                    p3 = coords[upperIndex]\r\n                    area += (rad(p3[longitude]) - rad(p1[longitude])) * Math.sin(rad(p2[latitude]))\r\n                }\r\n\r\n                area = area * RADIUS * RADIUS / 2\r\n            }\r\n\r\n            return area\r\n        }\r\n\r\n        function rad(_: number) {\r\n            return _ * Math.PI / 180\r\n        }\r\n\r\n        provide(calculateArea)\r\n    } as ElementDefinitionOptions | undefined)\r\n}\r\n","import React, {useCallback, useEffect, useState} from \"react\";\r\nimport {AnyObject, Placemark, Polygon, withYMaps, YMapsApi} from 'react-yandex-maps';\r\nimport {addAreaCalculationModule} from \"../../utils/addAreaCalculationModule\";\r\n\r\ntype PropsType = {\r\n    ymaps?: YMapsApi\r\n    stopDrawing: boolean\r\n}\r\n\r\nconst Painter: React.FC<PropsType> = React.memo(({ymaps, stopDrawing}) => {\r\n        const [coordinates, setCoordinates] = useState<number[][]>([])\r\n        const [area, setArea] = useState<string>('')\r\n        const [polygonCenter, setPolygonCenter] = useState<number[]>([])\r\n        const [calcModuleLoaded, setCalcModuleLoaded] = useState<boolean>(false)\r\n\r\n        useEffect(() => {\r\n            if (ymaps && !stopDrawing) {\r\n                addAreaCalculationModule(ymaps)\r\n                ymaps.ready(['util.calculateArea']).then(() => {\r\n                    setCalcModuleLoaded(true)\r\n                }).catch((error: string) => console.log(error))\r\n            }\r\n        }, [])\r\n\r\n        const onVertexChange = useCallback((ref: AnyObject) => {\r\n            let coords = ref.geometry.getCoordinates()[0]\r\n            setCoordinates(coords.slice(0, -1))\r\n            if (calcModuleLoaded) {\r\n                // вычисляем и сетаем центр полигона для установления метки в него:\r\n                setPolygonCenter(ymaps?.util.bounds.getCenter(ref.geometry.getBounds()))\r\n                // вычисляем и сетаем площадь полигона:\r\n                let newArea = Math.round(ymaps?.util.calculateArea(ref))\r\n                if (newArea <= 1e6) setArea(`${newArea} m²`)\r\n                else setArea(`${(newArea / 1e6).toFixed(3)} km²`)\r\n            }\r\n        }, [ymaps, calcModuleLoaded])\r\n\r\n        const draw = useCallback((ref: AnyObject) => {\r\n            if (!stopDrawing) {\r\n                ref.editor.startDrawing()\r\n                ref.editor.events.add(\"vertexadd\", () => { // при добавлении вершины вызываем функцию перерасчёта\r\n                    onVertexChange(ref)\r\n                })\r\n                ref.editor.events.add(\"vertexdragend\", () => { // при перетаскивании вершины вызываем функцию перерасчёта\r\n                    onVertexChange(ref)\r\n                })\r\n            } else {\r\n                coordinates.length > 0 && ref.editor.stopDrawing()\r\n            }\r\n        }, [onVertexChange, stopDrawing, coordinates])\r\n\r\n        return <div>\r\n            <Polygon\r\n                modules={[\"geoObject.addon.editor\", \"geoObject.addon.hint\"]}\r\n                instanceRef={(ref: AnyObject) => ref && draw(ref)}\r\n                geometry={[coordinates]}\r\n                options={{\r\n                    editorDrawingCursor: \"crosshair\",\r\n                    fillColor: '#ff0000',\r\n                    strokeColor: '#ff0000',\r\n                    strokeOpacity: 0.6,\r\n                    strokeWidth: 6,\r\n                    fillOpacity: 0.3,\r\n                }}\r\n                properties={{\r\n                    hintContent: `${area}`,\r\n                }}\r\n            />\r\n            <Placemark geometry={polygonCenter}\r\n                       properties={{\r\n                           iconCaption: `${area}`,\r\n                       }}\r\n                       options={{\r\n                           preset: 'islands#greenDotIconWithCaption'\r\n                       }}\r\n            />\r\n        </div>\r\n    }\r\n)\r\n\r\n//оборачиваем LengthCalculator в HOC withYMaps:\r\nexport const FigurePainter = withYMaps(Painter, true, ['meta', 'util.bounds'])","import React, {useState} from \"react\";\r\nimport {\r\n    Button,\r\n    FullscreenControl,\r\n    GeolocationControl,\r\n    Map,\r\n    Placemark,\r\n    SearchControl,\r\n    YMaps,\r\n    ZoomControl\r\n} from 'react-yandex-maps';\r\nimport style from \"./MapPage.module.css\";\r\nimport {config} from \"../../config\";\r\nimport {RouteCalculator} from \"./RouteCalculator\";\r\nimport {FigurePainter} from \"./FigurePainter\";\r\n\r\n\r\nexport const MapPage = () => {\r\n    const [coordinates, setCoordinates] = useState<Array<number>>([55.75, 37.57])\r\n    const [destination1, setDestination1] = useState<string>('Moscow, Russia')\r\n    const [destination2, setDestination2] = useState<string>('Minsk, Belarus')\r\n    const [destinations, setDestinations] = useState<Array<string>>(['Moscow, Russia', 'Minsk, Belarus'])\r\n    const [drawingMode, setDrawingMode] = useState<boolean>(false)\r\n    const [stopDrawing, setStopDrawing] = useState<boolean>(false)\r\n\r\n    const onDistanceCheckClick = () => {\r\n        setDestinations([destination1, destination2])\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <YMaps query={{\r\n                apikey: config.MY_API_KEY\r\n            }}>\r\n                <div className={style.mapPage}>\r\n                    <div>To measure area, please click 'Draw', and draw a polygon.</div>\r\n                    <div>To finish drawing, please click on the 'Stop drawing' button.</div>\r\n                    <div>To edit a polygon, please drag its vertices.</div>\r\n                    <div>To add more vertices, please click on the 'Add vertices' button.</div>\r\n                    <Map height={370} width={370}\r\n                         state={{center: coordinates, zoom: 9}}\r\n                         onClick={(e: any) => setCoordinates([...e.get('coords')])}\r\n                    >\r\n                        <Placemark geometry={[coordinates[0], coordinates[1]]} modules={['geoObject.addon.hint']}\r\n                                   properties={{\r\n                                       hintContent: `${coordinates[0]}, ${coordinates[1]}`,\r\n                                   }}\r\n                        />\r\n                        <ZoomControl options={{float: 'right'}}/>\r\n                        <GeolocationControl options={{float: 'left'}}/>\r\n                        <FullscreenControl/>\r\n                        <SearchControl options={{float: 'right'}}/>\r\n                        <Button\r\n                            options={{maxWidth: 128, float: 'none', position: {bottom: '60px', right: '5px'}}}\r\n                            data={{content: `${drawingMode ? 'Remove drawing' : 'Draw'}`}}\r\n                            state={{selected: drawingMode, enabled: drawingMode}}\r\n                            onClick={() => {\r\n                                setDrawingMode(!drawingMode)\r\n                                setStopDrawing(false)\r\n                            }}\r\n                        />\r\n                        {drawingMode && <>\r\n                            <FigurePainter stopDrawing={stopDrawing}/>\r\n                            <Button\r\n                                options={{maxWidth: 128, float: 'none', position: {bottom: '30px', right: '5px'}}}\r\n                                state={{selected: stopDrawing}}\r\n                                data={{content: `${stopDrawing ? 'Add vertices' : 'Stop drawing'}`}}\r\n                                onClick={() => setStopDrawing(!stopDrawing)}\r\n                            />\r\n                        </>}\r\n                    </Map>\r\n                    <div>\r\n                        {/*пока пробный подсчет расстояния между двумя точками, используя Yandex API через HOC withYMaps:*/}\r\n                        Route calculation:\r\n                        <div>\r\n                            <input value={destination1} onChange={e => setDestination1(e.currentTarget.value)}/>{' '}\r\n                            <input value={destination2} onChange={e => setDestination2(e.currentTarget.value)}/>\r\n                            <button onClick={onDistanceCheckClick}>Check distance</button>\r\n                        </div>\r\n                        <RouteCalculator route={destinations}/>\r\n                    </div>\r\n                </div>\r\n            </YMaps>\r\n        </div>\r\n    )\r\n}","import React, {useEffect} from 'react';\r\nimport './App.css';\r\nimport 'antd/dist/antd.css';\r\nimport {Redirect, Route, Switch} from 'react-router-dom';\r\nimport {Forgot} from \"../features/Forgot/Forgot\";\r\nimport {Login} from \"../features/Login/Login\";\r\nimport {Register} from \"../features/Register/Register\";\r\nimport {SetPassword} from \"../features/SetPassword/SetPassword\";\r\nimport {Profile} from \"../features/Profile/Profile\";\r\nimport {Header} from \"../features/Header/Header\";\r\nimport {Packs} from \"../features/Packs/Packs\";\r\nimport {Cards} from \"../features/Cards/Cards\";\r\nimport {initializeAppTC} from \"./app-reducer\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {AppRootStateType} from \"./store\";\r\nimport {Learn} from \"../features/Learn/Learn\";\r\nimport {ScrollUpModal} from '../features/Modals/ScrollUpModal/ScrollUpModal';\r\nimport {TeamPresentation} from \"../preloader/TeamPresentation/TeamPresentation\";\r\nimport {Files} from \"../features/Files/Files\";\r\nimport {Page404} from \"../features/Page404/Page404\";\r\nimport {Users} from \"../features/Users/Users\";\r\nimport {MapPage} from \"../features/MapPage/MapPage\";\r\n\r\nexport const PATH = {\r\n    LOGIN: \"/login\",\r\n    REGISTER: \"/register\",\r\n    FORGOT: \"/forgot\",\r\n    SET_PASSWORD: \"/set-new-password\",\r\n    PROFILE: \"/profile\",\r\n    PACKS: \"/packs\",\r\n    CARDS: \"/cards\",\r\n    LEARN: \"/learn\",\r\n    FILES: \"/files\",\r\n    USERS: \"/users\",\r\n    MAP: \"/map\",\r\n}\r\n\r\nconst App = () => {\r\n    let isInitialized = useSelector<AppRootStateType, boolean>(state => state.app.isInitialized)\r\n    let dispatch = useDispatch()\r\n    useEffect(() => {\r\n        dispatch(initializeAppTC())\r\n    }, [])\r\n\r\n    if (!isInitialized) {\r\n        return <TeamPresentation/>\r\n    }\r\n\r\n    return (\r\n        <div className=\"App\">\r\n            <Header/>\r\n            <Switch>\r\n                <Route exact path={['/', `${PATH.PROFILE}/:userId?`]} render={() => <Profile/>}/>\r\n                <Route path={PATH.REGISTER} render={() => <Register/>}/>\r\n                <Route path={PATH.FORGOT} render={() => <Forgot/>}/>\r\n                <Route path={`${PATH.SET_PASSWORD}/:token?`} render={() => <SetPassword/>}/>\r\n                <Route path={PATH.LOGIN} render={() => <Login/>}/>\r\n                <Route path={PATH.PACKS} render={() => <Packs/>}/>\r\n                <Route path={`${PATH.CARDS}/:packId?`} render={() => <Cards/>}/>\r\n                <Route path={`${PATH.LEARN}/:packId?`} render={() => <Learn/>}/>\r\n                <Route path={PATH.FILES} render={() => <Files/>}/>\r\n                <Route path={PATH.USERS} render={() => <Users/>}/>\r\n                <Route path={PATH.MAP} render={() => <MapPage/>}/>\r\n                <Route path={'/404'} render={() => <Page404/>}/>\r\n                <Redirect from={'*'} to={'/404'}/>\r\n            </Switch>\r\n            {/*кнопка для скролла вверх появится только, если юзер промотал вниз на 400px*/}\r\n            <ScrollUpModal/>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default App;\r\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import {applyMiddleware, combineReducers, createStore} from 'redux';\r\nimport thunk from \"redux-thunk\";\r\nimport {authReducer} from \"../features/Login/auth-reducer\";\r\nimport {registerReducer} from \"../features/Register/register-reducer\";\r\nimport {setPasswordReducer} from \"../features/SetPassword/set-password-reducer\";\r\nimport {forgotReducer} from \"../features/Forgot/forgot-reducer\";\r\nimport {packsReducer} from \"../features/Packs/packs-reducer\";\r\nimport {cardsReducer} from \"../features/Cards/cards-reducer\";\r\nimport {appReducer} from \"./app-reducer\";\r\nimport {filesReducer} from \"../features/Files/files-reducer\";\r\nimport {usersReducer} from \"../features/Users/users-reducer\";\r\n\r\n// комбайним редюсеры\r\nconst rootReducer = combineReducers({  //стейт\r\n    auth: authReducer,\r\n    register: registerReducer,\r\n    forgot: forgotReducer,\r\n    setPassword: setPasswordReducer,\r\n    packs: packsReducer,\r\n    cards: cardsReducer,\r\n    app: appReducer,\r\n    files: filesReducer,\r\n    users: usersReducer\r\n})\r\n//создаем store\r\nexport const store = createStore(rootReducer, applyMiddleware(thunk));\r\n\r\n//тип стейта\r\nexport type AppRootStateType = ReturnType<typeof rootReducer>\r\n\r\n// для вызова store из консоли\r\n// @ts-ignore\r\nwindow.store = store;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './app/App';\nimport reportWebVitals from './reportWebVitals';\nimport {HashRouter} from \"react-router-dom\";\nimport {Provider} from \"react-redux\";\nimport {store} from \"./app/store\";\n\nReactDOM.render(\n    <Provider store={store}>\n        <HashRouter>\n            <App/>\n        </HashRouter>\n    </Provider>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"files\":\"Files_files__3QEbh\",\"previewContainer\":\"Files_previewContainer__EROhm\",\"preview\":\"Files_preview__2tjLk\",\"bin\":\"Files_bin__1qd21\",\"video\":\"Files_video__2-ONZ\",\"videoControls\":\"Files_videoControls__1GxeD\",\"playBtn\":\"Files_playBtn__24FeQ\",\"controlBtns\":\"Files_controlBtns__2xjcI\",\"playAndTime\":\"Files_playAndTime__2z5DD\",\"settings\":\"Files_settings__2-4S4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"page404\":\"Page404_page404__1vwvz\",\"goBack\":\"Page404_goBack__2u5rt\",\"bigError\":\"Page404_bigError__2XcLr\",\"ghostContainer\":\"Page404_ghostContainer__18ham\",\"ghostWithShadow\":\"Page404_ghostWithShadow__fyG6m\",\"ghost\":\"Page404_ghost__2IHiL\",\"ghost-animation\":\"Page404_ghost-animation__2yK68\",\"shadow\":\"Page404_shadow__38pHz\",\"shadow-animation\":\"Page404_shadow-animation__25Mg8\",\"errorTitle\":\"Page404_errorTitle__3h5Rp\",\"errorDescription\":\"Page404_errorDescription__3X-PL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"login\":\"Login_login__2ck6i\",\"notice\":\"Login_notice__3_Xcq\",\"loading\":\"Login_loading__1oP3o\",\"error\":\"Login_error__1oq8R\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"teamPresentation\":\"TeamPresentation_teamPresentation__4hEdD\",\"section\":\"TeamPresentation_section__34MZX\",\"avatars\":\"TeamPresentation_avatars__2UZnj\",\"maria\":\"TeamPresentation_maria__1JPVL\",\"leonid\":\"TeamPresentation_leonid__1ONdJ\",\"anton\":\"TeamPresentation_anton__2_K7M\",\"oneAvatarAnimation\":\"TeamPresentation_oneAvatarAnimation__17Hsj\",\"twoAvatarsAnimation\":\"TeamPresentation_twoAvatarsAnimation__2r1dO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"users\":\"Users_users__3OgbL\",\"packs\":\"Users_packs__yPr2B\",\"filter\":\"Users_filter__2djTX\",\"rangeContainer\":\"Users_rangeContainer__18kP6\",\"usersListContainer\":\"Users_usersListContainer__1fHgJ\",\"pagination\":\"Users_pagination__30csv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"inputFormContainer\":\"InputModal_inputFormContainer__insyM\",\"previews\":\"InputModal_previews__1oU6m\",\"previewContainer\":\"InputModal_previewContainer__3EeIW\",\"preview\":\"InputModal_preview__1pazn\",\"bin\":\"InputModal_bin__rsMn9\",\"buttons\":\"InputModal_buttons__pCfVg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__10VB5\",\"active\":\"Header_active__3B1Kt\"};"],"sourceRoot":""}